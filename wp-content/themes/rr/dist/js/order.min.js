"use strict";!function(){$(function(){$.each($(".clouds"),function(){new t($(this))}),$.each($(".guy"),function(){new n($(this))}),$.each($(".site__content_full"),function(){new i($(this))}),$.each($(".plans"),function(){new s($(this))})});var t=function(t){var n=this,i=t,s=i,o=$(window),a=(o.width(),function(){o.on({resize:function(){h(),e()},load:function(){e()},scroll:function(){e()}})}),e=function(){var t,n=i.offset().top,s=n-o.height(),a=n+i.height(),e=(a-o.scrollTop())/(a-s);e>1?t=0:e<0&&(t=1),e<1&&e>0&&(t=1-e),i.hasClass("putted-all")&&(t=.5),r(s,a,t)},r=function(t,n,i){s.each(function(){var t=$(this),n=100,s=1;t.hasClass("clouds_1")&&(s=-1),0==i?t.css({"-webkit-transform":"translateX("+-n*s+"%)",transform:"translateX("+-n*s+"%)"}):1==i?t.css({"-webkit-transform":"translateX("+-n*s+"%)",transform:"translateX("+-n*s+"%)"}):(i>=.5&&(i=1-i),t.css({"-webkit-transform":"translateX("+200*i*s+"%)",transform:"translateX("+200*i*s+"%)"}))})},h=function(){var t=o.height(),n=$(".site").height();n<=t?i.addClass("putted-all"):i.removeClass("putted-all")},f=function(){i[0].obj=n,a(),h()};f()},n=function(t){var n=this,i=t,s=i.find(".guy__hand"),o=$(window),a=o.width(),e=function(){o.on({resize:function(){a!=o.width()&&(a=o.width()+1,o.width()<768&&s.css({"-webkit-transform":"none",transform:"none"})),f(),h(),r()},load:function(){o.width()>=768&&r()},scroll:function(){o.width()>=768&&r()}})},r=function(){var t,n=o.height(),a=i.offset().top,e=s.offset().top-n,r=a-n+i.height();i.hasClass("putted")&&(e=s.offset().top-n/2,r=n/2.5);var h=(r-o.scrollTop())/(r-e);h>1?t=0:h<0&&(t=1),h<1&&h>0&&(t=1-h),i.hasClass("putted-all")&&(t=1),c(e,r,t)},h=function(){var t=o.height(),n=o.scrollTop(),a=s.height(),e=s.offset().top;a+e<t+n&&$(".site").height()>2*t?i.addClass("putted"):i.removeClass("putted")},f=function(){var t=o.height(),n=$(".site").height();n<=t?i.addClass("putted-all"):i.removeClass("putted-all")},c=function(t,n,i){var a=n-t;s.each(function(){var n=$(this),s=n.data("rotate-start"),e=n.data("rotate-finish"),r=s+(e-s)/a*(o.scrollTop()-t);1==i?n.css({"-webkit-transform":"rotate( "+-e+"deg )",transform:"rotate( "+-e+"deg )"}):0==i?n.css({"-webkit-transform":"rotate( "+-s+"deg )",transform:"rotate( "+-s+"deg )"}):n.css({"-webkit-transform":"rotate( "+-r+"deg )",transform:"rotate( "+-r+"deg )"})})},u=function(){i[0].obj=n,e(),h(),f()};u()},i=function(t){var n=this,i=t,s=$(window),o=$(".site__header"),a=function(){s.on({resize:function(){e()}})},e=function(){var t=o.height();i.height(s.height()-t),i.css({"min-height":i.find(">div:first").height()})},r=function(){i[0].obj=n,a(),e()};r()},s=function(t){var n=this,i=t,s=$(window),o=i.find(".plans__list_caption"),a=i.find(".plans__list-row:not(.plans__list_caption)"),e=[],r=[],h=function(){s.on({load:function(){s.width()>=1024&&f()},resize:function(){s.width()<1024?(o.css({height:""}),a.css({height:""})):f()}})},f=function(){e=[],r=[],o.each(function(){var t=$(this).innerHeight();e.push(t)});var t=Math.max.apply(Math,e);a.each(function(){var t=$(this).innerHeight();r.push(t)});var n=Math.max.apply(Math,r);o.innerHeight(t),a.innerHeight(n)},c=function(){i[0].obj=n,h()};c()}}();
"use strict";!function(){$(function(){$.each($(".choose-data"),function(){new t($(this))}),$.each($(".order"),function(){new e($(this))}),$.each($(".plans"),function(){new a($(this))})});var t=function(t){var e=this,a=t,n=a.find(".choose-data__items"),r=n.find("input"),i=a.find(".btn_next"),o={},s={},c={},l={},f={},d=function(){r.on({click:function(){"text"!==$(this).attr("type")&&(v($(this)),m(),localStorage.setItem("idItems",JSON.stringify(l)))},keyup:function(){"text"===$(this).attr("type")&&(v($(this)),m(),localStorage.setItem("idItems",JSON.stringify(l)),localStorage.setItem("valueInput",JSON.stringify(f)))}}),i.on({click:function(){var t=$(this),e=t.data("src");return u(),window.location.href=e,!1}})},v=function(t){var e=t;"radio"===e.attr("type")?(e.parents(".plans").length?o.ratePlan={sessionType:e.data("rate"),value:e.attr("value")}:o[e.attr("name")]=e.attr("value"),l[e.attr("name")]=e.attr("id")):"checkbox"===e.attr("type")?e.is(":checked")?(s[e.attr("name")]=e.attr("value"),l[e.attr("name")]=e.attr("id")):(delete s[e.attr("name")],delete l[e.attr("name")]):"text"===e.attr("type")&&(""!=e.val()?(c[e.attr("name")]=e.val(),l[e.attr("name")]=e.attr("id"),f[e.attr("id")]=e.val()):(delete c[e.attr("name")],delete l[e.attr("name")],delete f[e.attr("id")]))},p=function(){if(void 0!=localStorage.idItems){r.each(function(){var t=$(this);"checkbox"===t.attr("type")?t.prop("checked",!1):"text"===t.attr("type")&&t.val("")});var t=JSON.parse(localStorage.idItems),e=JSON.parse(localStorage.valueInput);for(var a in t){var n=t[a];r.each(function(){var t=$(this);if(t.filter("#"+n).prop("checked",!0),console.log(n),"text"===t.attr("type"))for(var a in e){var r=e[a];t.filter("#"+n).val(r)}})}}},u=function(){r.each(function(){var t=$(this);t.is(":checked")&&("radio"===t.attr("type")?l[t.attr("name")]=t.attr("id"):"checkbox"===t.attr("type")&&(t.is(":checked")?l[t.attr("name")]=t.attr("id"):delete l[t.attr("name")])),"text"===t.attr("type")&&(""!=t.val()?(l[t.attr("name")]=t.attr("id"),f[t.attr("id")]=t.val()):(delete l[t.attr("name")],delete f[t.attr("id")]),localStorage.setItem("valueInput",JSON.stringify(f)))}),localStorage.setItem("idItems",JSON.stringify(l))},h=function(){r.each(function(){var t=$(this);t.is(":checked")&&("radio"===t.attr("type")?t.parents(".plans").length?o.ratePlan={sessionType:t.data("rate"),value:t.attr("value")}:o[t.attr("name")]=t.attr("value"):"checkbox"===t.attr("type")&&(t.is(":checked")?s[t.attr("name")]=t.attr("value"):delete s[t.attr("name")])),"text"===t.attr("type")&&(""!=t.val()?c[t.attr("name")]=t.val():delete c[t.attr("name")])}),m(),u()},m=function(){localStorage.setItem("radioChoose",JSON.stringify(o)),localStorage.setItem("checkboxChoose",JSON.stringify(s)),localStorage.setItem("inputValue",JSON.stringify(c))},g=function(){a[0].obj=e,d(),p(),h()};g()},e=function(t){var e,a,n,r=this,i=t,o=i.find(".order__chosen-data span"),s=i.find("input#input_1_5"),c="",l=function(){},f=function(){var t="",r="",i=[];for(var s in e)var c=e[s]+", ";void 0!=e.ratePlan&&$.each(e.ratePlan,function(){var a=e.ratePlan.value.split(" ");if("session pricing"===e.ratePlan.sessionType)t="<span>"+e.ratePlan.sessionType+" ("+a[0]+" sessions)</span>, ";else if("minute pricing"===e.ratePlan.sessionType){var n=a[0].replace(/[^0-9]+/g,"");n>1e5&&(n=n/1e6+"M"),t="<span>"+e.ratePlan.sessionType+" ("+n+" minutes ("+a[2]+"/minute)</span>, "}}),""==t&&(t="");for(var l in a)i.push(l);i.length>0&&(r=1==i.length?"+ "+i.length+" service":"+ "+i.length+" service");var f="";for(var d in n)f=n.hasOwnProperty(d)?n[d]+" ":"";""==t?o.html("You chose "+c+"ports: "+f+r+"."):o.html("You chose "+t+c+r+").")},d=function(){c="";for(var t in e){var r=e[t];if("string"==typeof r)c+=""+r+"; ";else if("object"==typeof r)for(var i in r){var o=r[i];c+=""+o+"; "}}for(var l in a){var f=a[l];c+=""+f+"; "}var d="";for(var v in n)d=n.hasOwnProperty(v)?n[v]:"",c+=""+d+"; ";s.val(c)},v=function(){void 0!=localStorage.radioChoose?(e=JSON.parse(localStorage.radioChoose),a=JSON.parse(localStorage.checkboxChoose),n=JSON.parse(localStorage.inputValue),d(),f()):window.location.href=$("body").data("src")},p=function(){i[0].obj=r,l(),v()};p()},a=function(t){var e=this,a=t,n=a.find(".plans__item"),r=a.find('input[type="radio"]'),i=$(window),o=function(){i.on({load:function(){s()}}),r.on({change:function(){var t=$(this),e=t.parents(".plans__item");e.hasClass("active")||(n.removeClass("active"),e.addClass("active"))}}),n.on({click:function(){var t=$(this),e=t.find('input[type="radio"]:first');t.hasClass("active")||(n.removeClass("active"),t.addClass("active"),e.trigger("click"))}})},s=function(){var t=r.filter(":checked"),e=t.parents(".plans__item");e.addClass("active")},c=function(){a[0].obj=e,o()};c()}}();
!function(){$(function(){"use strict";$.each($(".order__place"),function(){new t($(this))})});var t=function(t){var n=this,i=t,a=i.find("form"),e=i.find('input[data-required="required"], textarea[data-required="required"], input[aria-required="true"], textarea[aria-required="true"]'),o=i.find('input[data-validation="valid"]'),s=function(){u(),i[0].obj=n},r=function(){e.each(function(){""===$(this).val()&&$(this).addClass("not-touched")}),o.each(function(){l($(this))})},u=function(){a.on({submit:function(){return r(),e.hasClass("not-touched")?(i.find(".not-touched:first").focus(),!1):!o.hasClass("not-valid")||(i.find(".not-valid:first").focus(),!1)}}),e.on({keypress:function(){$(this).removeClass("not-touched")}}),o.on({keyup:function(){l($(this))}})},d=function(t){t.addClass("not-valid"),t.removeClass("valid")},c=function(t){t.removeClass("not-valid"),t.addClass("valid")},f=function(t){var n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return n.test(t)},l=function(t,n){var i=t.attr("type");t.attr("class");return"email"!==i||f(t.val())?void c(t):(d(t),!1)};n.checkValid=function(){var t=!0;return _fields.each(function(){$(this).removeClass("not-touched"),$(this).hasClass("not-valid")&&(t=!1)}),t},s()}}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5tYWluLmpzIiwianF1ZXJ5LmNoZWNrb3V0LmpzIiwianF1ZXJ5LmZvcm0udmFsaWRhdG9yLmpzIl0sIm5hbWVzIjpbIiQiLCJlYWNoIiwiQ2xvdWRzQW5pbWF0ZWQiLCJ0aGlzIiwiR3V5QW5pbWF0ZWQiLCJDb250ZW50RnVsbEhlaWdodCIsIlBsYW5zQ2hvb3NlSGVpZ2h0Iiwib2JqIiwiX3NlbGYiLCJfb2JqIiwiX2l0ZW1zIiwiX3dpbmRvdyIsIndpbmRvdyIsIl9hZGRFdmVudHMiLCJ3aWR0aCIsIm9uIiwicmVzaXplIiwiX2NoZWNrUHV0SW5XaW5kb3ciLCJfY2hlY2tTY3JvbGwiLCJsb2FkIiwic2Nyb2xsIiwic2Nyb2xsUG9pbnQiLCJ0b3BQb3MiLCJvZmZzZXQiLCJ0b3AiLCJzdGFydCIsImhlaWdodCIsImVuZCIsIngiLCJzY3JvbGxUb3AiLCJoYXNDbGFzcyIsIl9hbmltYXRpb25FbGVtcyIsInN0YXJ0UG9pbnQiLCJlbmRQb2ludCIsImN1ckVsZW0iLCJ0cmFuc2xhdGVGaW5pc2giLCJjc3MiLCItd2Via2l0LXRyYW5zZm9ybSIsInRyYW5zZm9ybSIsImhlaWdodFdpbiIsImhlaWdodFNpdGUiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiX2luaXQiLCJfaGFuZCIsImZpbmQiLCJfZ2xvYmFsV2lkdGgiLCJfY2hlY2tHZXRJbldpbmRvdyIsIndpbmRvd0giLCJzY3JvbGxUb3BXaW4iLCJoZWlnaHRPYmoiLCJwb3NpdGlvbk9iaiIsInNlZ21lbnQiLCJyb3RhdGVTdGFydCIsImRhdGEiLCJyb3RhdGVGaW5pc2giLCJrb2ZSb3RhdGUiLCJfaGVhZGVyIiwiX3NldEhlaWdodCIsImhlYWRlckhlaWd0aCIsIm1pbi1oZWlnaHQiLCJfY2FwdGlvbiIsIl9jb250ZW50IiwiX2NhcHRpb25IZWlnaHRzIiwiX2NvbnRlbnRIZWlnaHRzIiwiaW5uZXJIZWlnaHQiLCJwdXNoIiwibWF4SGVpZ2h0Q2FwdGlvbiIsIk1hdGgiLCJtYXgiLCJhcHBseSIsIm1heEhlaWdodENvbnRlbnQiLCJDaG9vc2VEYXRhIiwiUGFzdGVEYXRhIiwiRGF0ZVBsYW4iLCJfaW5wdXQiLCJfcmVkaXJlY3RCdG4iLCJfZGF0YVJhZGlvIiwiX2RhdGFDaGVja2JveCIsIl9kYXRhSW5wdXQiLCJfaWRJdGVtcyIsIl92YWx1ZUlucHV0SXRlbXMiLCJjbGljayIsImF0dHIiLCJfZ2V0RGF0YSIsIl93cml0ZUluU2Vzc2lvblN0b3JhZ2UiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImtleXVwIiwiY3VySXRlbSIsImRhdGFTcmMiLCJfd3JpdGVBbGxJZCIsImxvY2F0aW9uIiwiaHJlZiIsImVsZW0iLCJwYXJlbnRzIiwibGVuZ3RoIiwicmF0ZVBsYW4iLCJzZXNzaW9uVHlwZSIsInZhbHVlIiwiaXMiLCJ2YWwiLCJfc2V0Q2hlY2tlZE5lZWRJbnB1dCIsInVuZGVmaW5lZCIsImlkSXRlbXMiLCJwcm9wIiwiYWxsSWQiLCJwYXJzZSIsInZhbHVlSW5wdXQiLCJrZXkiLCJpdGVtIiwiZmlsdGVyIiwiY29uc29sZSIsImxvZyIsImtleTIiLCJpdGVtMSIsIl93cml0ZURhdGFJbk9iakFmdGVyTG9hZCIsIl9jaG9zZW5EYXRhIiwiX3N0ciIsIl93cml0ZUluQmxvY2siLCJkaXZSYXRlIiwibnVtIiwiYXJyIiwic3BsaXQiLCJtaW51dGVzIiwicmVwbGFjZSIsImtleTEiLCJpdGVtMiIsImhhc093blByb3BlcnR5IiwiaHRtbCIsIl93cml0ZUluSGlkZGVuIiwia2V5MyIsIml0ZW0zIiwiaXRlbTQiLCJrZXk0IiwiX2dldFNlc3Npb25EYXRhIiwicmFkaW9DaG9vc2UiLCJjaGVja2JveENob29zZSIsImlucHV0VmFsdWUiLCJfcmFkaW8iLCJfc2V0QWN0aXZlQ2xhc3MiLCJjaGFuZ2UiLCJwYXJlbnQiLCJmaXJzdFJhZGlvIiwidHJpZ2dlciIsImFjdGl2ZVJhZGlvIiwiRm9ybVZhbGlkYXRvciIsIl9mb3JtIiwiX2ZpZWxkc1JlcXVpcmVkIiwiX3ZhbGlkRmllbGQiLCJfY29uc3RydWN0b3IiLCJfb25FdmVudHMiLCJfYWRkTm90VG91Y2hlZENsYXNzIiwiX3ZhbGlkYXRlRmllbGQiLCJzdWJtaXQiLCJmb2N1cyIsImtleXByZXNzIiwiX21ha2VOb3RWYWxpZCIsImZpZWxkIiwiX21ha2VWYWxpZCIsIl92YWxpZGF0ZUVtYWlsIiwiZW1haWwiLCJyZSIsInRlc3QiLCJlIiwidHlwZSIsImNoZWNrVmFsaWQiLCJ2YWxpZCIsIl9maWVsZHMiXSwibWFwcGluZ3MiOiJBQUFBLGNBQ0EsV0FFSUEsRUFBRyxXQUVDQSxFQUFFQyxLQUFNRCxFQUFFLFdBQVksV0FFbEIsR0FBSUUsR0FBZ0JGLEVBQUVHLFNBSTFCSCxFQUFFQyxLQUFNRCxFQUFFLFFBQVMsV0FFZixHQUFJSSxHQUFhSixFQUFFRyxTQUl2QkgsRUFBRUMsS0FBTUQsRUFBRSx1QkFBd0IsV0FFOUIsR0FBSUssR0FBbUJMLEVBQUVHLFNBSTdCSCxFQUFFQyxLQUFNRCxFQUFFLFVBQVcsV0FFakIsR0FBSU0sR0FBbUJOLEVBQUVHLFVBTWpDLElBQUlELEdBQWlCLFNBQVVLLEdBRzNCLEdBQUlDLEdBQVFMLEtBQ1JNLEVBQU9GLEVBQ1BHLEVBQVNELEVBQ1RFLEVBQVVYLEVBQUVZLFFBSVpDLEdBSGVGLEVBQVFHLFFBR1YsV0FFVEgsRUFBUUksSUFDSkMsT0FBUSxXQUVKQyxJQUNBQyxLQUdKQyxLQUFNLFdBRUZELEtBR0pFLE9BQVEsV0FFSkYsU0FNWkEsRUFBZSxXQUVYLEdBR0lHLEdBSEFDLEVBQVNiLEVBQUtjLFNBQVNDLElBQ3ZCQyxFQUFRSCxFQUFTWCxFQUFRZSxTQUN6QkMsRUFBTUwsRUFBU2IsRUFBS2lCLFNBR3BCRSxHQUFNRCxFQUFNaEIsRUFBUWtCLGNBQWtCRixFQUFPRixFQUU1Q0csR0FBSSxFQUVMUCxFQUFjLEVBR05PLEVBQUksSUFFWlAsRUFBYyxHQUlaTyxFQUFJLEdBQVNBLEVBQUksSUFFbkJQLEVBQWMsRUFBSU8sR0FHakJuQixFQUFLcUIsU0FBUyxnQkFFZlQsRUFBYyxJQUlsQlUsRUFBaUJOLEVBQU9FLEVBQUtOLElBR2pDVSxFQUFrQixTQUFXQyxFQUFZQyxFQUFVWixHQUUvQ1gsRUFBT1QsS0FBTSxXQUVULEdBQUlpQyxHQUFVbEMsRUFBR0csTUFFYmdDLEVBQWtCLElBQ2xCUCxFQUFJLENBRUpNLEdBQVFKLFNBQVMsY0FFakJGLE1BSWdCLEdBQWZQLEVBRURhLEVBQVFFLEtBRUpDLG9CQUFxQixlQUFrQkYsRUFBa0JQLEVBQUssS0FDOURVLFVBQWEsZUFBa0JILEVBQWtCUCxFQUFLLE9BSW5DLEdBQWZQLEVBRVJhLEVBQVFFLEtBRUpDLG9CQUFxQixlQUFrQkYsRUFBa0JQLEVBQUssS0FDOURVLFVBQWEsZUFBa0JILEVBQWtCUCxFQUFLLFFBMkN0RFAsR0FBZSxLQUVmQSxFQUFjLEVBQUlBLEdBSXRCYSxFQUFRRSxLQUVKQyxvQkFBcUIsY0FBK0IsSUFBZGhCLEVBQW9CTyxFQUFLLEtBQy9EVSxVQUFhLGNBQStCLElBQWRqQixFQUFvQk8sRUFBSyxXQVV2RVgsRUFBb0IsV0FFaEIsR0FBSXNCLEdBQVk1QixFQUFRZSxTQUNwQmMsRUFBYXhDLEVBQUUsU0FBUzBCLFFBRXhCYyxJQUFjRCxFQUVkOUIsRUFBS2dDLFNBQVMsY0FJZGhDLEVBQUtpQyxZQUFZLGVBS3pCQyxFQUFRLFdBRUpsQyxFQUFLLEdBQUdGLElBQU1DLEVBQ2RLLElBQ0FJLElBSVIwQixNQUdBdkMsRUFBYyxTQUFVRyxHQUd4QixHQUFJQyxHQUFRTCxLQUNSTSxFQUFPRixFQUNQcUMsRUFBUW5DLEVBQUtvQyxLQUFLLGNBQ2xCbEMsRUFBVVgsRUFBRVksUUFDWmtDLEVBQWVuQyxFQUFRRyxRQUd2QkQsRUFBYSxXQUVURixFQUFRSSxJQUNKQyxPQUFRLFdBRUE4QixHQUFnQm5DLEVBQVFHLFVBRXhCZ0MsRUFBZW5DLEVBQVFHLFFBQVUsRUFHN0JILEVBQVFHLFFBQVUsS0FFbEI4QixFQUFNUixLQUNGQyxvQkFBcUIsT0FDckJDLFVBQWEsVUFPekJyQixJQUNBOEIsSUFDQTdCLEtBR0pDLEtBQU0sV0FFRVIsRUFBUUcsU0FBVyxLQUVuQkksS0FLUkUsT0FBUSxXQUVBVCxFQUFRRyxTQUFXLEtBRW5CSSxRQVFoQkEsRUFBZSxXQUVYLEdBSUlHLEdBSkEyQixFQUFVckMsRUFBUWUsU0FDbEJKLEVBQVNiLEVBQUtjLFNBQVNDLElBQ3ZCQyxFQUFRbUIsRUFBTXJCLFNBQVNDLElBQU13QixFQUM3QnJCLEVBQU1MLEVBQVMwQixFQUFVdkMsRUFBS2lCLFFBRzdCakIsR0FBS3FCLFNBQVMsWUFFZkwsRUFBUW1CLEVBQU1yQixTQUFTQyxJQUFNd0IsRUFBUSxFQUNyQ3JCLEVBQU1xQixFQUFRLElBSWxCLElBQUlwQixJQUFNRCxFQUFNaEIsRUFBUWtCLGNBQWtCRixFQUFPRixFQUU1Q0csR0FBSSxFQUVMUCxFQUFjLEVBR05PLEVBQUksSUFFWlAsRUFBYyxHQUlaTyxFQUFJLEdBQVNBLEVBQUksSUFFbkJQLEVBQWMsRUFBSU8sR0FHakJuQixFQUFLcUIsU0FBUyxnQkFFZlQsRUFBYyxHQUtsQlUsRUFBaUJOLEVBQU9FLEVBQUtOLElBSWpDMEIsRUFBb0IsV0FFaEIsR0FBSVIsR0FBWTVCLEVBQVFlLFNBQ3BCdUIsRUFBY3RDLEVBQVFrQixZQUN0QnFCLEVBQVlOLEVBQU1sQixTQUNsQnlCLEVBQWNQLEVBQU1yQixTQUFTQyxHQUUzQjBCLEdBQVlDLEVBQWNaLEVBQVlVLEdBQWtCakQsRUFBRSxTQUFTMEIsU0FBdUIsRUFBWmEsRUFFaEY5QixFQUFLZ0MsU0FBUyxVQUlkaEMsRUFBS2lDLFlBQVksV0FLekJ6QixFQUFvQixXQUVoQixHQUFJc0IsR0FBWTVCLEVBQVFlLFNBQ3BCYyxFQUFheEMsRUFBRSxTQUFTMEIsUUFFeEJjLElBQWNELEVBRWQ5QixFQUFLZ0MsU0FBUyxjQUlkaEMsRUFBS2lDLFlBQVksZUFLekJYLEVBQWtCLFNBQVdDLEVBQVlDLEVBQVVaLEdBRS9DLEdBQUkrQixHQUFVbkIsRUFBV0QsQ0FFekJZLEdBQU0zQyxLQUFNLFdBRVIsR0FBSWlDLEdBQVVsQyxFQUFHRyxNQUNia0QsRUFBY25CLEVBQVFvQixLQUFLLGdCQUMzQkMsRUFBZXJCLEVBQVFvQixLQUFLLGlCQUM1QkUsRUFBWUgsR0FBZ0JFLEVBQWVGLEdBQWdCRCxHQUFZekMsRUFBUWtCLFlBQWNHLEVBRTdFLElBQWZYLEVBRURhLEVBQVFFLEtBQ0pDLG9CQUFxQixZQUFla0IsRUFBZ0IsUUFDcERqQixVQUFhLFlBQWVpQixFQUFnQixVQUt6QixHQUFmbEMsRUFHUmEsRUFBUUUsS0FDSkMsb0JBQXFCLFlBQWVnQixFQUFlLFFBQ25EZixVQUFhLFlBQWVlLEVBQWUsVUFRL0NuQixFQUFRRSxLQUNKQyxvQkFBcUIsWUFBZW1CLEVBQVksUUFDaERsQixVQUFhLFlBQWVrQixFQUFhLGFBT3pEYixFQUFRLFdBRUpsQyxFQUFLLEdBQUdGLElBQU1DLEVBQ2RLLElBQ0FrQyxJQUNBOUIsSUFJUjBCLE1BR0F0QyxFQUFvQixTQUFXRSxHQUUvQixHQUFJQyxHQUFRTCxLQUNSTSxFQUFPRixFQUNQSSxFQUFVWCxFQUFFWSxRQUNaNkMsRUFBVXpELEVBQUUsaUJBRVphLEVBQWEsV0FFVEYsRUFBUUksSUFDSkMsT0FBUSxXQUNKMEMsUUFLWkEsRUFBYSxXQUVULEdBQUlDLEdBQWVGLEVBQVEvQixRQUUzQmpCLEdBQUtpQixPQUFRZixFQUFRZSxTQUFXaUMsR0FDaENsRCxFQUFLMkIsS0FDRHdCLGFBQWNuRCxFQUFLb0MsS0FBSyxjQUFjbkIsWUFHOUNpQixFQUFRLFdBQ0psQyxFQUFLLEdBQUdGLElBQU1DLEVBQ2RLLElBQ0E2QyxJQUdSZixNQUdBckMsRUFBb0IsU0FBV0MsR0FFL0IsR0FBSUMsR0FBUUwsS0FDUk0sRUFBT0YsRUFDUEksRUFBVVgsRUFBRVksUUFDWmlELEVBQVdwRCxFQUFLb0MsS0FBSyx3QkFDckJpQixFQUFXckQsRUFBS29DLEtBQUssOENBQ3JCa0IsS0FDQUMsS0FFQW5ELEVBQWEsV0FFVEYsRUFBUUksSUFDSkksS0FBTSxXQUVFUixFQUFRRyxTQUFXLE1BRW5CNEMsS0FLUjFDLE9BQVEsV0FFQUwsRUFBUUcsUUFBVSxNQUVsQitDLEVBQVN6QixLQUNMVixPQUFRLEtBRVpvQyxFQUFTMUIsS0FDTFYsT0FBUSxNQUtaZ0MsUUFRaEJBLEVBQWEsV0FDVEssS0FDQUMsS0FFQUgsRUFBUzVELEtBQU0sV0FFWCxHQUFJeUIsR0FBUzFCLEVBQUVHLE1BQU04RCxhQUVyQkYsR0FBZ0JHLEtBQU14QyxJQUkxQixJQUFJeUMsR0FBbUJDLEtBQUtDLElBQUlDLE1BQU1GLEtBQU1MLEVBRzVDRCxHQUFTN0QsS0FBTSxXQUVYLEdBQUl5QixHQUFTMUIsRUFBRUcsTUFBTThELGFBRXJCRCxHQUFnQkUsS0FBTXhDLElBSTFCLElBQUk2QyxHQUFtQkgsS0FBS0MsSUFBSUMsTUFBTUYsS0FBTUosRUFFNUNILEdBQVNJLFlBQWFFLEdBQ3RCTCxFQUFTRyxZQUFhTSxJQUcxQjVCLEVBQVEsV0FDSmxDLEVBQUssR0FBR0YsSUFBTUMsRUFDZEssSUFHUjhCO0FDbmdCUixjQUNBLFdBRUkzQyxFQUFHLFdBRUNBLEVBQUVDLEtBQU1ELEVBQUUsZ0JBQWlCLFdBRXZCLEdBQUl3RSxHQUFZeEUsRUFBRUcsU0FJdEJILEVBQUVDLEtBQU1ELEVBQUUsVUFBVyxXQUVqQixHQUFJeUUsR0FBV3pFLEVBQUVHLFNBSXJCSCxFQUFFQyxLQUFNRCxFQUFFLFVBQVcsV0FFakIsR0FBSTBFLEdBQVUxRSxFQUFFRyxVQU14QixJQUFJcUUsR0FBYSxTQUFVakUsR0FHdkIsR0FBSUMsR0FBUUwsS0FDUk0sRUFBT0YsRUFDUEcsRUFBU0QsRUFBS29DLEtBQUssdUJBQ25COEIsRUFBU2pFLEVBQU9tQyxLQUFLLFNBQ3JCK0IsRUFBZW5FLEVBQUtvQyxLQUFLLGFBQ3pCZ0MsS0FDQUMsS0FDQUMsS0FDQUMsS0FDQUMsS0FHQXBFLEVBQWEsV0FFVDhELEVBQU81RCxJQUNIbUUsTUFBTyxXQUU0QixTQUF6QmxGLEVBQUVHLE1BQU1nRixLQUFLLFVBRWZDLEVBQVVwRixFQUFFRyxPQUNaa0YsSUFFQUMsYUFBYUMsUUFBUSxVQUFXQyxLQUFLQyxVQUFVVCxNQUt2RFUsTUFBTyxXQUUwQixTQUF6QjFGLEVBQUVHLE1BQU1nRixLQUFLLFVBRWJDLEVBQVVwRixFQUFFRyxPQUNaa0YsSUFFQUMsYUFBYUMsUUFBUSxVQUFXQyxLQUFLQyxVQUFVVCxJQUMvQ00sYUFBYUMsUUFBUSxhQUFjQyxLQUFLQyxVQUFVUixRQU85REwsRUFBYTdELElBQ1RtRSxNQUFPLFdBRUgsR0FBSVMsR0FBVTNGLEVBQUVHLE1BQ1p5RixFQUFVRCxFQUFRckMsS0FBSyxNQU0zQixPQUpBdUMsS0FFQWpGLE9BQU9rRixTQUFTQyxLQUFPSCxHQUVoQixNQU1uQlIsRUFBVyxTQUFVWSxHQUVqQixHQUFJTCxHQUFVSyxDQUVlLFdBQXpCTCxFQUFRUixLQUFLLFNBRVRRLEVBQVFNLFFBQVEsVUFBVUMsT0FFMUJyQixFQUFXc0IsVUFDUEMsWUFBYVQsRUFBUXJDLEtBQUssUUFDMUIrQyxNQUFPVixFQUFRUixLQUFLLFVBTXhCTixFQUFXYyxFQUFRUixLQUFLLFNBQVdRLEVBQVFSLEtBQUssU0FJcERILEVBQVNXLEVBQVFSLEtBQUssU0FBV1EsRUFBUVIsS0FBSyxPQUVkLGFBQXpCUSxFQUFRUixLQUFLLFFBRWZRLEVBQVFXLEdBQUcsYUFFWnhCLEVBQWNhLEVBQVFSLEtBQUssU0FBV1EsRUFBUVIsS0FBSyxTQUNuREgsRUFBU1csRUFBUVIsS0FBSyxTQUFXUSxFQUFRUixLQUFLLGNBSXZDTCxHQUFjYSxFQUFRUixLQUFLLGVBQzNCSCxHQUFTVyxFQUFRUixLQUFLLFVBR0QsU0FBekJRLEVBQVFSLEtBQUssVUFFRSxJQUFqQlEsRUFBUVksT0FFVHhCLEVBQVdZLEVBQVFSLEtBQUssU0FBV1EsRUFBUVksTUFDM0N2QixFQUFTVyxFQUFRUixLQUFLLFNBQVdRLEVBQVFSLEtBQUssTUFDOUNGLEVBQWlCVSxFQUFRUixLQUFLLE9BQVNRLEVBQVFZLGNBSXhDeEIsR0FBV1ksRUFBUVIsS0FBSyxlQUN4QkgsR0FBU1csRUFBUVIsS0FBSyxlQUN0QkYsR0FBaUJVLEVBQVFSLEtBQUssVUFNakRxQixFQUF1QixXQUVuQixHQUE0QkMsUUFBeEJuQixhQUFhb0IsUUFBdUIsQ0FFcEMvQixFQUFPMUUsS0FBTSxXQUVULEdBQUkwRixHQUFVM0YsRUFBRUcsS0FFYSxjQUF6QndGLEVBQVFSLEtBQUssUUFFYlEsRUFBUWdCLEtBQUssV0FBVyxHQUVRLFNBQXpCaEIsRUFBUVIsS0FBSyxTQUVwQlEsRUFBUVksSUFBSSxLQU1wQixJQUFJSyxHQUFRcEIsS0FBS3FCLE1BQU92QixhQUFhb0IsU0FFakNJLEVBQWF0QixLQUFLcUIsTUFBT3ZCLGFBQWF3QixXQUUxQyxLQUFLLEdBQUlDLEtBQU9ILEdBQVMsQ0FFckIsR0FBSUksR0FBT0osRUFBT0csRUFFbEJwQyxHQUFPMUUsS0FBTSxXQUVULEdBQUkwRixHQUFVM0YsRUFBRUcsS0FNaEIsSUFKQXdGLEVBQVFzQixPQUFPLElBQUtELEdBQVVMLEtBQUssV0FBVyxHQUU5Q08sUUFBUUMsSUFBSUgsR0FFaUIsU0FBekJyQixFQUFRUixLQUFLLFFBRWIsSUFBSyxHQUFJaUMsS0FBUU4sR0FBYyxDQUUzQixHQUFJTyxHQUFRUCxFQUFZTSxFQUV4QnpCLEdBQVFzQixPQUFPLElBQUtELEdBQVVULElBQUtjLFNBZTNEeEIsRUFBYyxXQUVWbEIsRUFBTzFFLEtBQU0sV0FFVCxHQUFJMEYsR0FBVTNGLEVBQUVHLEtBRVp3RixHQUFRVyxHQUFHLGNBRWtCLFVBQXpCWCxFQUFRUixLQUFLLFFBRWJILEVBQVNXLEVBQVFSLEtBQUssU0FBV1EsRUFBUVIsS0FBSyxNQUVkLGFBQXpCUSxFQUFRUixLQUFLLFVBRWhCUSxFQUFRVyxHQUFHLFlBRVh0QixFQUFTVyxFQUFRUixLQUFLLFNBQVdRLEVBQVFSLEtBQUssWUFJdkNILEdBQVNXLEVBQVFSLEtBQUssV0FTWixTQUF6QlEsRUFBUVIsS0FBSyxVQUVRLElBQWpCUSxFQUFRWSxPQUVSdkIsRUFBU1csRUFBUVIsS0FBSyxTQUFXUSxFQUFRUixLQUFLLE1BQzlDRixFQUFpQlUsRUFBUVIsS0FBSyxPQUFTUSxFQUFRWSxjQUl4Q3ZCLEdBQVNXLEVBQVFSLEtBQUssZUFDdEJGLEdBQWlCVSxFQUFRUixLQUFLLFFBSXpDRyxhQUFhQyxRQUFRLGFBQWNDLEtBQUtDLFVBQVVSLE9BTTFESyxhQUFhQyxRQUFRLFVBQVdDLEtBQUtDLFVBQVVULEtBSW5Ec0MsRUFBMkIsV0FFdkIzQyxFQUFPMUUsS0FBTSxXQUVULEdBQUkwRixHQUFVM0YsRUFBRUcsS0FFWndGLEdBQVFXLEdBQUcsY0FFa0IsVUFBekJYLEVBQVFSLEtBQUssUUFFVFEsRUFBUU0sUUFBUSxVQUFVQyxPQUUxQnJCLEVBQVdzQixVQUNQQyxZQUFhVCxFQUFRckMsS0FBSyxRQUMxQitDLE1BQU9WLEVBQVFSLEtBQUssVUFLeEJOLEVBQVdjLEVBQVFSLEtBQUssU0FBV1EsRUFBUVIsS0FBSyxTQUlwQixhQUF6QlEsRUFBUVIsS0FBSyxVQUVoQlEsRUFBUVcsR0FBRyxZQUVYeEIsRUFBY2EsRUFBUVIsS0FBSyxTQUFXUSxFQUFRUixLQUFLLGVBSTVDTCxHQUFjYSxFQUFRUixLQUFLLFdBVWpCLFNBQXpCUSxFQUFRUixLQUFLLFVBRVMsSUFBakJRLEVBQVFZLE1BRVR4QixFQUFXWSxFQUFRUixLQUFLLFNBQVdRLEVBQVFZLFlBSXBDeEIsR0FBV1ksRUFBUVIsS0FBSyxZQU8zQ0UsSUFDQVEsS0FHSlIsRUFBeUIsV0FFckJDLGFBQWFDLFFBQVEsY0FBZUMsS0FBS0MsVUFBVVosSUFDbkRTLGFBQWFDLFFBQVEsaUJBQWtCQyxLQUFLQyxVQUFVWCxJQUN0RFEsYUFBYUMsUUFBUSxhQUFjQyxLQUFLQyxVQUFVVixLQUd0RHBDLEVBQVEsV0FFSmxDLEVBQUssR0FBR0YsSUFBTUMsRUFDZEssSUFDQTJGLElBQ0FjLElBSVIzRSxNQUdBOEIsRUFBWSxTQUFVbEUsR0FHdEIsR0FHSXNFLEdBQ0FDLEVBQ0FDLEVBTEF2RSxFQUFRTCxLQUNSTSxFQUFPRixFQUNQZ0gsRUFBYzlHLEVBQUtvQyxLQUFLLDRCQUl4QjhCLEVBQVNsRSxFQUFLb0MsS0FBSyxtQkFFbkIyRSxFQUFPLEdBR1AzRyxFQUFhLGFBS2I0RyxFQUFnQixXQUVaLEdBQUlDLEdBQVUsR0FDVkMsRUFBTSxHQUNOQyxJQUVKLEtBQUssR0FBSWIsS0FBT2xDLEdBRVosR0FBSW1DLEdBQU9uQyxFQUFZa0MsR0FBUSxJQUlSTixTQUF2QjVCLEVBQVdzQixVQUVYbkcsRUFBRUMsS0FBTTRFLEVBQVdzQixTQUFVLFdBRXpCLEdBQUlFLEdBQVF4QixFQUFXc0IsU0FBU0UsTUFBTXdCLE1BQU0sSUFFNUMsSUFBd0Msb0JBQXBDaEQsRUFBV3NCLFNBQVNDLFlBRXBCc0IsRUFBVSxTQUFVN0MsRUFBV3NCLFNBQVNDLFlBQWEsS0FBTUMsRUFBTSxHQUFJLDBCQUVsRSxJQUF3QyxtQkFBcEN4QixFQUFXc0IsU0FBU0MsWUFBbUMsQ0FFOUQsR0FBSTBCLEdBQVV6QixFQUFNLEdBQUcwQixRQUFRLFdBQVcsR0FFdENELEdBQVUsTUFFVkEsRUFBVUEsRUFBUSxJQUFVLEtBSWhDSixFQUFVLFNBQVU3QyxFQUFXc0IsU0FBU0MsWUFBYSxLQUFNMEIsRUFBUyxhQUFlekIsRUFBTSxHQUFLLHVCQVMzRixJQUFYcUIsSUFFQUEsRUFBVSxHQUlkLEtBQUssR0FBSU0sS0FBUWxELEdBRWI4QyxFQUFJMUQsS0FBSzhELEVBSVRKLEdBQUkxQixPQUFTLElBSVR5QixFQUZjLEdBQWRDLEVBQUkxQixPQUVFLEtBQU8wQixFQUFJMUIsT0FBUyxXQUlwQixLQUFPMEIsRUFBSTFCLE9BQVMsV0FNbEMsSUFBSStCLEdBQVEsRUFFWixLQUFLLEdBQUliLEtBQVFyQyxHQUlUa0QsRUFGQWxELEVBQVdtRCxlQUFlZCxHQUVsQnJDLEVBQVlxQyxHQUFVLElBSXRCLEVBT0QsS0FBWE0sRUFFQUgsRUFBWVksS0FBSyxhQUFlbkIsRUFBTyxVQUFZaUIsRUFBUU4sRUFBTSxLQUlqRUosRUFBWVksS0FBSyxhQUFlVCxFQUFVVixFQUFPVyxFQUFNLE9BSy9EUyxFQUFpQixXQUViWixFQUFPLEVBRVAsS0FBSyxHQUFJVCxLQUFPbEMsR0FBYyxDQUUxQixHQUFJbUMsR0FBT25DLEVBQVlrQyxFQUV2QixJQUFvQixnQkFBVEMsR0FFUFEsR0FBUSxHQUFJUixFQUFNLFNBRWYsSUFBb0IsZ0JBQVRBLEdBRWQsSUFBSyxHQUFJZ0IsS0FBUWhCLEdBQVEsQ0FFckIsR0FBSUssR0FBUUwsRUFBTWdCLEVBRWxCUixJQUFRLEdBQUlILEVBQU8sTUFRL0IsSUFBSyxHQUFJZ0IsS0FBUXZELEdBQWlCLENBRTlCLEdBQUl3RCxHQUFReEQsRUFBZXVELEVBRTNCYixJQUFRLEdBQUljLEVBQU8sS0FJdkIsR0FBSUMsR0FBUSxFQUVaLEtBQUssR0FBSUMsS0FBUXpELEdBSVR3RCxFQUZBeEQsRUFBV21ELGVBQWVNLEdBRWxCekQsRUFBWXlELEdBSVosR0FJWmhCLEdBQVEsR0FBSWUsRUFBTyxJQUl2QjVELEdBQU80QixJQUFLaUIsSUFHaEJpQixFQUFrQixXQUVrQmhDLFFBQTVCbkIsYUFBYW9ELGFBRWI3RCxFQUFhVyxLQUFLcUIsTUFBT3ZCLGFBQWFvRCxhQUN0QzVELEVBQWdCVSxLQUFLcUIsTUFBT3ZCLGFBQWFxRCxnQkFDekM1RCxFQUFhUyxLQUFLcUIsTUFBT3ZCLGFBQWFzRCxZQUV0Q1IsSUFDQVgsS0FJQTdHLE9BQU9rRixTQUFTQyxLQUFPL0YsRUFBRSxRQUFRc0QsS0FBSyxRQUs5Q1gsRUFBUSxXQUVKbEMsRUFBSyxHQUFHRixJQUFNQyxFQUNkSyxJQUNBNEgsSUFHUjlGLE1BR0ErQixFQUFXLFNBQVVuRSxHQUdyQixHQUFJQyxHQUFRTCxLQUNSTSxFQUFPRixFQUNQRyxFQUFTRCxFQUFLb0MsS0FBSyxnQkFDbkJnRyxFQUFTcEksRUFBS29DLEtBQUssdUJBQ25CbEMsRUFBVVgsRUFBRVksUUFHWkMsRUFBYSxXQUVURixFQUFRSSxJQUNKSSxLQUFNLFdBRUYySCxPQUtSRCxFQUFPOUgsSUFDSGdJLE9BQVEsV0FFSixHQUFJcEQsR0FBVTNGLEVBQUVHLE1BQ1o2SSxFQUFTckQsRUFBUU0sUUFBUSxlQUV0QitDLEdBQU9sSCxTQUFTLFlBRW5CcEIsRUFBT2dDLFlBQVksVUFDbkJzRyxFQUFPdkcsU0FBUyxjQU81Qi9CLEVBQU9LLElBQ0htRSxNQUFPLFdBRUgsR0FBSVMsR0FBVTNGLEVBQUVHLE1BQ1o4SSxFQUFhdEQsRUFBUTlDLEtBQUssNEJBRXZCOEMsR0FBUTdELFNBQVMsWUFFcEJwQixFQUFPZ0MsWUFBWSxVQUNuQmlELEVBQVFsRCxTQUFTLFVBQ2pCd0csRUFBV0MsUUFBUSxjQVFuQ0osRUFBa0IsV0FFZCxHQUFJSyxHQUFjTixFQUFPNUIsT0FBTyxZQUM1QitCLEVBQVNHLEVBQVlsRCxRQUFRLGVBRTdCK0MsR0FBT3ZHLFNBQVMsV0FHeEJFLEVBQVEsV0FFSmxDLEVBQUssR0FBR0YsSUFBTUMsRUFDZEssSUFHUjhCO0NDamxCUixXQUVJM0MsRUFBRyxXQUNDLFlBRUFBLEdBQUVDLEtBQU1ELEVBQUUsaUJBQWtCLFdBRXhCLEdBQUlvSixHQUFlcEosRUFBRUcsVUFPN0IsSUFBSWlKLEdBQWdCLFNBQVU3SSxHQUcxQixHQUFJQyxHQUFRTCxLQUNSTSxFQUFPRixFQUNQOEksRUFBUzVJLEVBQUtvQyxLQUFLLFFBQ25CeUcsRUFBa0I3SSxFQUFLb0MsS0FBSyxvSUFDNUIwRyxFQUFjOUksRUFBS29DLEtBQUssa0NBSXhCMkcsRUFBZSxXQUNYQyxJQUNBaEosRUFBSyxHQUFHRixJQUFNQyxHQUVsQmtKLEVBQXNCLFdBRWxCSixFQUFnQnJKLEtBQU0sV0FFSSxLQUFsQkQsRUFBRUcsTUFBTW9HLE9BRVJ2RyxFQUFFRyxNQUFNc0MsU0FBVSxpQkFLMUI4RyxFQUFZdEosS0FBTSxXQUVkMEosRUFBZ0IzSixFQUFHRyxVQUszQnNKLEVBQVksV0FFUkosRUFBTXRJLElBQ0Y2SSxPQUFRLFdBSUosTUFGQUYsS0FFSUosRUFBZ0J4SCxTQUFTLGdCQUV6QnJCLEVBQUtvQyxLQUFLLHNCQUFzQmdILFNBRXpCLElBR0xOLEVBQVl6SCxTQUFTLGVBRXZCckIsRUFBS29DLEtBQUssb0JBQW9CZ0gsU0FFdkIsTUFZbkJQLEVBQWdCdkksSUFDWitJLFNBQVUsV0FFTjlKLEVBQUVHLE1BQU11QyxZQUFhLGtCQUs3QjZHLEVBQVl4SSxJQUNSMkUsTUFBTyxXQUVIaUUsRUFBZ0IzSixFQUFHRyxXQUsvQjRKLEVBQWdCLFNBQVdDLEdBQ3ZCQSxFQUFNdkgsU0FBVSxhQUNoQnVILEVBQU10SCxZQUFhLFVBRXZCdUgsRUFBYSxTQUFXRCxHQUNwQkEsRUFBTXRILFlBQWEsYUFDbkJzSCxFQUFNdkgsU0FBVSxVQUVwQnlILEVBQWlCLFNBQVdDLEdBQ3hCLEdBQUlDLEdBQUssd0pBQ1QsT0FBT0EsR0FBR0MsS0FBS0YsSUFNbkJSLEVBQWlCLFNBQVdLLEVBQU9NLEdBRS9CLEdBQUlDLEdBQU9QLEVBQU03RSxLQUFNLE9BQ1A2RSxHQUFNN0UsS0FBTSxRQVc1QixPQUFhLFVBQVRvRixHQUNLTCxFQUFnQkYsRUFBTXpELFdBbUIvQjBELEdBQVlELElBbEJKRCxFQUFlQyxJQUNSLEdBd0J2QnhKLEdBQU1nSyxXQUFhLFdBQ2YsR0FBSUMsSUFBUSxDQVVaLE9BUkFDLFNBQVF6SyxLQUFNLFdBQ1ZELEVBQUdHLE1BQU91QyxZQUFhLGVBQ25CMUMsRUFBR0csTUFBTzJCLFNBQVUsZUFDcEIySSxHQUFRLEtBS1RBLEdBR1hqQiIsImZpbGUiOiJvcmRlci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbiggZnVuY3Rpb24oKSB7XG5cbiAgICAkKCBmdW5jdGlvbigpIHtcblxuICAgICAgICAkLmVhY2goICQoJy5jbG91ZHMnKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgQ2xvdWRzQW5pbWF0ZWQoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuZ3V5JyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IEd1eUFuaW1hdGVkKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLnNpdGVfX2NvbnRlbnRfZnVsbCcpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBDb250ZW50RnVsbEhlaWdodCggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5wbGFucycpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBQbGFuc0Nob29zZUhlaWdodCggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgIH0gKTtcblxuICAgIHZhciBDbG91ZHNBbmltYXRlZCA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9pdGVtcyA9IF9vYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gX3dpbmRvdy53aWR0aCgpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tQdXRJbldpbmRvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2NoZWNrU2Nyb2xsID0gZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgIHZhciB0b3BQb3MgPSBfb2JqLm9mZnNldCgpLnRvcCAsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gdG9wUG9zIC0gX3dpbmRvdy5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gdG9wUG9zICsgX29iai5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsUG9pbnQ7XG5cbiAgICAgICAgICAgICAgICB2YXIgeCA9ICggZW5kIC0gX3dpbmRvdy5zY3JvbGxUb3AoKSApIC8gKCBlbmQgLSAgc3RhcnQgKTtcblxuICAgICAgICAgICAgICAgIGlmICggeCA+IDEgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsUG9pbnQgPSAwO1xuXG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCB4IDwgMCApIHtcblxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxQb2ludCA9IDE7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiggKCB4IDwgMSApICYmICggeCA+IDAgKSApe1xuXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFBvaW50ID0gMSAtIHg7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoICBfb2JqLmhhc0NsYXNzKCdwdXR0ZWQtYWxsJykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsUG9pbnQgPSAwLjU7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfYW5pbWF0aW9uRWxlbXMoIHN0YXJ0LCBlbmQsIHNjcm9sbFBvaW50ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYW5pbWF0aW9uRWxlbXMgPSBmdW5jdGlvbiAoIHN0YXJ0UG9pbnQsIGVuZFBvaW50LCBzY3JvbGxQb2ludCApIHtcblxuICAgICAgICAgICAgICAgIF9pdGVtcy5lYWNoKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckVsZW0gPSAkKCB0aGlzICksXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGVTdGFydCA9IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGVGaW5pc2ggPSAxMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gMTtcblxuICAgICAgICAgICAgICAgICAgICBpZiggY3VyRWxlbS5oYXNDbGFzcygnY2xvdWRzXzEnKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgeCA9IC0xO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIHNjcm9sbFBvaW50ID09IDAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckVsZW0uY3NzKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsoIC10cmFuc2xhdGVGaW5pc2ggKiB4ICkrICclKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKCcgKyggLXRyYW5zbGF0ZUZpbmlzaCAqIHggKSsgJyUpJ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggc2Nyb2xsUG9pbnQgPT0gMSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyRWxlbS5jc3MoIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKCcgKyggLXRyYW5zbGF0ZUZpbmlzaCAqIHggKSsgJyUpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoJyArKCAtdHJhbnNsYXRlRmluaXNoICogeCApKyAnJSknXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYoIHNjcm9sbFBvaW50IDwgMC41ICYmIHNjcm9sbFBvaW50ID4gMCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBjdXJFbGVtLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsoIHNjcm9sbFBvaW50ICogMjAwICogeCApKyAnJSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsoIHNjcm9sbFBvaW50ICogMjAwICogeCApKyAnJSknXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgfSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmKCBzY3JvbGxQb2ludCA+PSAwLjUgJiYgc2Nyb2xsUG9pbnQgPCAwLjggKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgY3VyRWxlbS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoJyArKCB0cmFuc2xhdGVGaW5pc2ggKiB4ICkrICclKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKCcgKyggdHJhbnNsYXRlRmluaXNoICogeCApKyAnJSknXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgfSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYoIHNjcm9sbFBvaW50ID49IDAuOCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBzY3JvbGxQb2ludCA9IDEuMyAtIHNjcm9sbFBvaW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIGN1ckVsZW0uY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKCcgKyggc2Nyb2xsUG9pbnQgKiAyMDAgKiB4ICkrICclKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKCcgKyggc2Nyb2xsUG9pbnQgKiAyMDAgKiB4ICkrICclKSdcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICB9ICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy99XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBzY3JvbGxQb2ludCA+PSAwLjUgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxQb2ludCA9IDEgLSBzY3JvbGxQb2ludDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJFbGVtLmNzcygge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoJyArKCBzY3JvbGxQb2ludCAqIDIwMCAqIHggKSsgJyUpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoJyArKCBzY3JvbGxQb2ludCAqIDIwMCAqIHggKSsgJyUpJ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2hlY2tQdXRJbldpbmRvdyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodFdpbiA9IF93aW5kb3cuaGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodFNpdGUgPSAkKCcuc2l0ZScpLmhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgaWYoIGhlaWdodFNpdGUgPD0gaGVpZ2h0V2luICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoJ3B1dHRlZC1hbGwnKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcygncHV0dGVkLWFsbCcpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfY2hlY2tQdXRJbldpbmRvdygpO1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBHdXlBbmltYXRlZCA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9oYW5kID0gX29iai5maW5kKCcuZ3V5X19oYW5kJyksXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gX3dpbmRvdy53aWR0aCgpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX2dsb2JhbFdpZHRoICE9IF93aW5kb3cud2lkdGgoKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IF93aW5kb3cud2lkdGgoKSArIDE7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPCA3NjggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2hhbmQuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ25vbmUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tQdXRJbldpbmRvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrR2V0SW5XaW5kb3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDc2OCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfd2luZG93LndpZHRoKCkgPj0gNzY4KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2hlY2tTY3JvbGwgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIHZhciB3aW5kb3dIID0gX3dpbmRvdy5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICAgICAgdG9wUG9zID0gX29iai5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gX2hhbmQub2Zmc2V0KCkudG9wIC0gd2luZG93SCxcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gdG9wUG9zIC0gd2luZG93SCArIF9vYmouaGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFBvaW50O1xuXG4gICAgICAgICAgICAgICAgaWYoICBfb2JqLmhhc0NsYXNzKCdwdXR0ZWQnKSApIHtcblxuICAgICAgICAgICAgICAgICAgICBzdGFydCA9IF9oYW5kLm9mZnNldCgpLnRvcCAtIHdpbmRvd0gvMjtcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gd2luZG93SC8yLjU7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgeCA9ICggZW5kIC0gX3dpbmRvdy5zY3JvbGxUb3AoKSApIC8gKCBlbmQgLSAgc3RhcnQgKTtcblxuICAgICAgICAgICAgICAgIGlmICggeCA+IDEgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsUG9pbnQgPSAwO1xuXG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCB4IDwgMCApIHtcblxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxQb2ludCA9IDE7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiggKCB4IDwgMSApICYmICggeCA+IDAgKSApe1xuXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFBvaW50ID0gMSAtIHg7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoICBfb2JqLmhhc0NsYXNzKCdwdXR0ZWQtYWxsJykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsUG9pbnQgPSAxO1xuXG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICBfYW5pbWF0aW9uRWxlbXMoIHN0YXJ0LCBlbmQsIHNjcm9sbFBvaW50ICk7XG5cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jaGVja0dldEluV2luZG93ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0V2luID0gX3dpbmRvdy5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wV2luID1fd2luZG93LnNjcm9sbFRvcCgpLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHRPYmogPSBfaGFuZC5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25PYmogPSBfaGFuZC5vZmZzZXQoKS50b3A7XG5cbiAgICAgICAgICAgICAgICBpZiggKCBoZWlnaHRPYmogKyBwb3NpdGlvbk9iaiA8IGhlaWdodFdpbiArIHNjcm9sbFRvcFdpbiApICYmICQoJy5zaXRlJykuaGVpZ2h0KCkgPiBoZWlnaHRXaW4gKiAyICApIHtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCdwdXR0ZWQnKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcygncHV0dGVkJyk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2hlY2tQdXRJbldpbmRvdyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodFdpbiA9IF93aW5kb3cuaGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodFNpdGUgPSAkKCcuc2l0ZScpLmhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgaWYoIGhlaWdodFNpdGUgPD0gaGVpZ2h0V2luICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoJ3B1dHRlZC1hbGwnKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcygncHV0dGVkLWFsbCcpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2FuaW1hdGlvbkVsZW1zID0gZnVuY3Rpb24gKCBzdGFydFBvaW50LCBlbmRQb2ludCwgc2Nyb2xsUG9pbnQgKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgc2VnbWVudCA9IGVuZFBvaW50IC0gc3RhcnRQb2ludDtcblxuICAgICAgICAgICAgICAgIF9oYW5kLmVhY2goIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VyRWxlbSA9ICQoIHRoaXMgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZVN0YXJ0ID0gY3VyRWxlbS5kYXRhKCdyb3RhdGUtc3RhcnQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZUZpbmlzaCA9IGN1ckVsZW0uZGF0YSgncm90YXRlLWZpbmlzaCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAga29mUm90YXRlID0gcm90YXRlU3RhcnQgKyAoIHJvdGF0ZUZpbmlzaCAtIHJvdGF0ZVN0YXJ0ICkgLyBzZWdtZW50ICogKCBfd2luZG93LnNjcm9sbFRvcCgpIC0gc3RhcnRQb2ludCApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggc2Nyb2xsUG9pbnQgPT0gMSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyRWxlbS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAncm90YXRlKCAnKyAoIC1yb3RhdGVGaW5pc2ggKSArJ2RlZyApJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3JvdGF0ZSggJysgKCAtcm90YXRlRmluaXNoICkgKydkZWcgKSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy9fb2JqLnJlbW92ZUNsYXNzKCdwdXR0ZWQnKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBzY3JvbGxQb2ludCA9PSAwICkge1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckVsZW0uY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3JvdGF0ZSggJysgKCAtcm90YXRlU3RhcnQgKSArJ2RlZyApJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3JvdGF0ZSggJysgKCAtcm90YXRlU3RhcnQgKSArJ2RlZyApJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvL19vYmoucmVtb3ZlQ2xhc3MoJ3B1dHRlZCcpO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyRWxlbS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAncm90YXRlKCAnKyAoIC1rb2ZSb3RhdGUgKSsnZGVnICknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAncm90YXRlKCAnKyAoIC1rb2ZSb3RhdGUgKSArJ2RlZyApJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9jaGVja0dldEluV2luZG93KCk7XG4gICAgICAgICAgICAgICAgX2NoZWNrUHV0SW5XaW5kb3coKTtcblxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgQ29udGVudEZ1bGxIZWlnaHQgPSBmdW5jdGlvbiAoIG9iaiApIHtcblxuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICBfaGVhZGVyID0gJCgnLnNpdGVfX2hlYWRlcicpO1xuXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3NldEhlaWdodCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldEhlaWdodCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGhlYWRlckhlaWd0aCA9IF9oZWFkZXIuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICBfb2JqLmhlaWdodCggX3dpbmRvdy5oZWlnaHQoKSAtIGhlYWRlckhlaWd0aCApO1xuICAgICAgICAgICAgICAgIF9vYmouY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICdtaW4taGVpZ2h0JzogX29iai5maW5kKCc+ZGl2OmZpcnN0JykuaGVpZ2h0KClcbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBQbGFuc0Nob29zZUhlaWdodCA9IGZ1bmN0aW9uICggb2JqICkge1xuXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KSxcbiAgICAgICAgICAgIF9jYXB0aW9uID0gX29iai5maW5kKCcucGxhbnNfX2xpc3RfY2FwdGlvbicpLFxuICAgICAgICAgICAgX2NvbnRlbnQgPSBfb2JqLmZpbmQoJy5wbGFuc19fbGlzdC1yb3c6bm90KC5wbGFuc19fbGlzdF9jYXB0aW9uKScpLFxuICAgICAgICAgICAgX2NhcHRpb25IZWlnaHRzID0gW10sXG4gICAgICAgICAgICBfY29udGVudEhlaWdodHMgPSBbXTtcblxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRIZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPCAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NhcHRpb24uY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRlbnQuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldEhlaWdodCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9jYXB0aW9uSGVpZ2h0cyA9IFtdO1xuICAgICAgICAgICAgICAgIF9jb250ZW50SGVpZ2h0cyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgX2NhcHRpb24uZWFjaCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9ICQodGhpcykuaW5uZXJIZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgICAgICBfY2FwdGlvbkhlaWdodHMucHVzaCggaGVpZ2h0ICk7XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICB2YXIgbWF4SGVpZ2h0Q2FwdGlvbiA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIF9jYXB0aW9uSGVpZ2h0cyk7XG5cblxuICAgICAgICAgICAgICAgIF9jb250ZW50LmVhY2goIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSAkKHRoaXMpLmlubmVySGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgX2NvbnRlbnRIZWlnaHRzLnB1c2goIGhlaWdodCApO1xuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgdmFyIG1heEhlaWdodENvbnRlbnQgPSBNYXRoLm1heC5hcHBseShNYXRoLCBfY29udGVudEhlaWdodHMpO1xuXG4gICAgICAgICAgICAgICAgX2NhcHRpb24uaW5uZXJIZWlnaHQoIG1heEhlaWdodENhcHRpb24gKTtcbiAgICAgICAgICAgICAgICBfY29udGVudC5pbm5lckhlaWdodCggbWF4SGVpZ2h0Q29udGVudCApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG59ICkoKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuKCBmdW5jdGlvbigpIHtcblxuICAgICQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICQuZWFjaCggJCgnLmNob29zZS1kYXRhJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IENob29zZURhdGEoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcub3JkZXInKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgUGFzdGVEYXRhKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLnBsYW5zJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IERhdGVQbGFuKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgfSApO1xuXG4gICAgdmFyIENob29zZURhdGEgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfaXRlbXMgPSBfb2JqLmZpbmQoJy5jaG9vc2UtZGF0YV9faXRlbXMnKSxcbiAgICAgICAgICAgIF9pbnB1dCA9IF9pdGVtcy5maW5kKCdpbnB1dCcpLFxuICAgICAgICAgICAgX3JlZGlyZWN0QnRuID0gX29iai5maW5kKCcuYnRuX25leHQnKSxcbiAgICAgICAgICAgIF9kYXRhUmFkaW8gPSB7fSxcbiAgICAgICAgICAgIF9kYXRhQ2hlY2tib3ggPSB7fSxcbiAgICAgICAgICAgIF9kYXRhSW5wdXQgPSB7fSxcbiAgICAgICAgICAgIF9pZEl0ZW1zID0ge30sXG4gICAgICAgICAgICBfdmFsdWVJbnB1dEl0ZW1zID0ge307XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfaW5wdXQub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggISgkKHRoaXMpLmF0dHIoJ3R5cGUnKSA9PT0gJ3RleHQnKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9nZXREYXRhKCAkKHRoaXMpICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dyaXRlSW5TZXNzaW9uU3RvcmFnZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2lkSXRlbXMnLCBKU09OLnN0cmluZ2lmeShfaWRJdGVtcykpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAga2V5dXA6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggJCh0aGlzKS5hdHRyKCd0eXBlJykgPT09ICd0ZXh0JyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9nZXREYXRhKCAkKHRoaXMpICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dyaXRlSW5TZXNzaW9uU3RvcmFnZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2lkSXRlbXMnLCBKU09OLnN0cmluZ2lmeShfaWRJdGVtcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd2YWx1ZUlucHV0JywgSlNPTi5zdHJpbmdpZnkoX3ZhbHVlSW5wdXRJdGVtcykpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9yZWRpcmVjdEJ0bi5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhU3JjID0gY3VySXRlbS5kYXRhKCdzcmMnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3dyaXRlQWxsSWQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBkYXRhU3JjO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9nZXREYXRhID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9IGVsZW07XG5cbiAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5hdHRyKCd0eXBlJykgPT09ICdyYWRpbycgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGN1ckl0ZW0ucGFyZW50cygnLnBsYW5zJykubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfZGF0YVJhZGlvLnJhdGVQbGFuID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25UeXBlOiBjdXJJdGVtLmRhdGEoJ3JhdGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY3VySXRlbS5hdHRyKCd2YWx1ZScpXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2RhdGFSYWRpb1tjdXJJdGVtLmF0dHIoJ25hbWUnKV0gPSBjdXJJdGVtLmF0dHIoJ3ZhbHVlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIF9pZEl0ZW1zW2N1ckl0ZW0uYXR0cignbmFtZScpXSA9IGN1ckl0ZW0uYXR0cignaWQnKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiggY3VySXRlbS5hdHRyKCd0eXBlJykgPT09ICdjaGVja2JveCcgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBjdXJJdGVtLmlzKFwiOmNoZWNrZWRcIikgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9kYXRhQ2hlY2tib3hbY3VySXRlbS5hdHRyKCduYW1lJyldID0gY3VySXRlbS5hdHRyKCd2YWx1ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkSXRlbXNbY3VySXRlbS5hdHRyKCduYW1lJyldID0gY3VySXRlbS5hdHRyKCdpZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfZGF0YUNoZWNrYm94W2N1ckl0ZW0uYXR0cignbmFtZScpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfaWRJdGVtc1tjdXJJdGVtLmF0dHIoJ25hbWUnKV07XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiggY3VySXRlbS5hdHRyKCd0eXBlJykgPT09ICd0ZXh0JyApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIGN1ckl0ZW0udmFsKCkgIT0gJycgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9kYXRhSW5wdXRbY3VySXRlbS5hdHRyKCduYW1lJyldID0gY3VySXRlbS52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZEl0ZW1zW2N1ckl0ZW0uYXR0cignbmFtZScpXSA9IGN1ckl0ZW0uYXR0cignaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF92YWx1ZUlucHV0SXRlbXNbY3VySXRlbS5hdHRyKCdpZCcpXSA9IGN1ckl0ZW0udmFsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF9kYXRhSW5wdXRbY3VySXRlbS5hdHRyKCduYW1lJyldO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF9pZEl0ZW1zW2N1ckl0ZW0uYXR0cignbmFtZScpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfdmFsdWVJbnB1dEl0ZW1zW2N1ckl0ZW0uYXR0cignaWQnKV07XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZXRDaGVja2VkTmVlZElucHV0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBpZiggbG9jYWxTdG9yYWdlLmlkSXRlbXMgIT0gdW5kZWZpbmVkICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9pbnB1dC5lYWNoKCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5hdHRyKCd0eXBlJykgPT09ICdjaGVja2JveCcgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIGN1ckl0ZW0uYXR0cigndHlwZScpID09PSAndGV4dCcgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLnZhbCgnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGFsbElkID0gSlNPTi5wYXJzZSggbG9jYWxTdG9yYWdlLmlkSXRlbXMpLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZUlucHV0ID0gSlNPTi5wYXJzZSggbG9jYWxTdG9yYWdlLnZhbHVlSW5wdXQgKTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IoIHZhciBrZXkgaW4gYWxsSWQgICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IGFsbElkWyBrZXkgXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2lucHV0LmVhY2goIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5maWx0ZXIoJyMnKyBpdGVtICsnJykucHJvcCgnY2hlY2tlZCcsIHRydWUgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGl0ZW0pXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5hdHRyKCd0eXBlJykgPT09ICd0ZXh0JyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IoIHZhciBrZXkyIGluIHZhbHVlSW5wdXQgICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbTEgPSB2YWx1ZUlucHV0WyBrZXkyIF07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0uZmlsdGVyKCcjJysgaXRlbSArJycpLnZhbCggaXRlbTEgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cblxuXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3dyaXRlQWxsSWQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9pbnB1dC5lYWNoKCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGN1ckl0ZW0uaXMoXCI6Y2hlY2tlZFwiKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGN1ckl0ZW0uYXR0cigndHlwZScpID09PSAncmFkaW8nICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2lkSXRlbXNbY3VySXRlbS5hdHRyKCduYW1lJyldID0gY3VySXRlbS5hdHRyKCdpZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIGN1ckl0ZW0uYXR0cigndHlwZScpID09PSAnY2hlY2tib3gnICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGN1ckl0ZW0uaXMoXCI6Y2hlY2tlZFwiKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaWRJdGVtc1tjdXJJdGVtLmF0dHIoJ25hbWUnKV0gPSBjdXJJdGVtLmF0dHIoJ2lkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfaWRJdGVtc1tjdXJJdGVtLmF0dHIoJ25hbWUnKV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5hdHRyKCd0eXBlJykgPT09ICd0ZXh0JyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGN1ckl0ZW0udmFsKCkgIT0gJycgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaWRJdGVtc1tjdXJJdGVtLmF0dHIoJ25hbWUnKV0gPSBjdXJJdGVtLmF0dHIoJ2lkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZhbHVlSW5wdXRJdGVtc1tjdXJJdGVtLmF0dHIoJ2lkJyldID0gY3VySXRlbS52YWwoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfaWRJdGVtc1tjdXJJdGVtLmF0dHIoJ25hbWUnKV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF92YWx1ZUlucHV0SXRlbXNbY3VySXRlbS5hdHRyKCdpZCcpXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndmFsdWVJbnB1dCcsIEpTT04uc3RyaW5naWZ5KF92YWx1ZUlucHV0SXRlbXMpKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaWRJdGVtcycsIEpTT04uc3RyaW5naWZ5KF9pZEl0ZW1zKSk7XG5cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF93cml0ZURhdGFJbk9iakFmdGVyTG9hZCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX2lucHV0LmVhY2goIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5pcyhcIjpjaGVja2VkXCIpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5hdHRyKCd0eXBlJykgPT09ICdyYWRpbycgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5wYXJlbnRzKCcucGxhbnMnKS5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RhdGFSYWRpby5yYXRlUGxhbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25UeXBlOiBjdXJJdGVtLmRhdGEoJ3JhdGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjdXJJdGVtLmF0dHIoJ3ZhbHVlJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RhdGFSYWRpb1tjdXJJdGVtLmF0dHIoJ25hbWUnKV0gPSBjdXJJdGVtLmF0dHIoJ3ZhbHVlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiggY3VySXRlbS5hdHRyKCd0eXBlJykgPT09ICdjaGVja2JveCcgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5pcyhcIjpjaGVja2VkXCIpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kYXRhQ2hlY2tib3hbY3VySXRlbS5hdHRyKCduYW1lJyldID0gY3VySXRlbS5hdHRyKCd2YWx1ZScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgX2RhdGFDaGVja2JveFtjdXJJdGVtLmF0dHIoJ25hbWUnKV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBjdXJJdGVtLmF0dHIoJ3R5cGUnKSA9PT0gJ3RleHQnICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGN1ckl0ZW0udmFsKCkgIT0gJycgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGF0YUlucHV0W2N1ckl0ZW0uYXR0cignbmFtZScpXSA9IGN1ckl0ZW0udmFsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgX2RhdGFJbnB1dFtjdXJJdGVtLmF0dHIoJ25hbWUnKV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3dyaXRlSW5TZXNzaW9uU3RvcmFnZSgpO1xuICAgICAgICAgICAgICAgIF93cml0ZUFsbElkKCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfd3JpdGVJblNlc3Npb25TdG9yYWdlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncmFkaW9DaG9vc2UnLCBKU09OLnN0cmluZ2lmeShfZGF0YVJhZGlvKSk7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NoZWNrYm94Q2hvb3NlJywgSlNPTi5zdHJpbmdpZnkoX2RhdGFDaGVja2JveCkpO1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdpbnB1dFZhbHVlJywgSlNPTi5zdHJpbmdpZnkoX2RhdGFJbnB1dCkpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfc2V0Q2hlY2tlZE5lZWRJbnB1dCgpO1xuICAgICAgICAgICAgICAgIF93cml0ZURhdGFJbk9iakFmdGVyTG9hZCgpO1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBQYXN0ZURhdGEgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfY2hvc2VuRGF0YSA9IF9vYmouZmluZCgnLm9yZGVyX19jaG9zZW4tZGF0YSBzcGFuJyksXG4gICAgICAgICAgICBfZGF0YVJhZGlvLFxuICAgICAgICAgICAgX2RhdGFDaGVja2JveCxcbiAgICAgICAgICAgIF9kYXRhSW5wdXQsXG4gICAgICAgICAgICBfaW5wdXQgPSBfb2JqLmZpbmQoJ2lucHV0I2lucHV0XzFfNScpLFxuICAgICAgICAgICAgX2FyciA9IFtdLFxuICAgICAgICAgICAgX3N0ciA9ICcnO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG5cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF93cml0ZUluQmxvY2sgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIHZhciBkaXZSYXRlID0gJycsXG4gICAgICAgICAgICAgICAgICAgIG51bSA9ICcnLFxuICAgICAgICAgICAgICAgICAgICBhcnIgPSBbXTtcblxuICAgICAgICAgICAgICAgIGZvciggdmFyIGtleSBpbiBfZGF0YVJhZGlvICApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IF9kYXRhUmFkaW9bIGtleSBdICsgJywgJztcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKCBfZGF0YVJhZGlvLnJhdGVQbGFuICE9IHVuZGVmaW5lZCApIHtcblxuICAgICAgICAgICAgICAgICAgICAkLmVhY2goIF9kYXRhUmFkaW8ucmF0ZVBsYW4sIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBfZGF0YVJhZGlvLnJhdGVQbGFuLnZhbHVlLnNwbGl0KCcgJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfZGF0YVJhZGlvLnJhdGVQbGFuLnNlc3Npb25UeXBlID09PSAnc2Vzc2lvbiBwcmljaW5nJyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdlJhdGUgPSAnPHNwYW4+JysgX2RhdGFSYWRpby5yYXRlUGxhbi5zZXNzaW9uVHlwZSArJyAoJysgdmFsdWVbMF0gKycgc2Vzc2lvbnMpPC9zcGFuPicgKyAnLCAnO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIF9kYXRhUmFkaW8ucmF0ZVBsYW4uc2Vzc2lvblR5cGUgPT09ICdtaW51dGUgcHJpY2luZycgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWludXRlcyA9IHZhbHVlWzBdLnJlcGxhY2UoL1teMC05XSsvZywnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggbWludXRlcyA+IDEwMDAwMCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW51dGVzID0gbWludXRlcy8xMDAwMDAwICsgJ00nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXZSYXRlID0gJzxzcGFuPicrIF9kYXRhUmFkaW8ucmF0ZVBsYW4uc2Vzc2lvblR5cGUgKycgKCcrIG1pbnV0ZXMgKycgbWludXRlcyAoJyArIHZhbHVlWzJdICsgJy9taW51dGUpPC9zcGFuPicgKyAnLCAnO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiggZGl2UmF0ZSA9PSAnJyApIHtcblxuICAgICAgICAgICAgICAgICAgICBkaXZSYXRlID0gJyc7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IoIHZhciBrZXkxIGluIF9kYXRhQ2hlY2tib3ggICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKGtleTEpXG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiggYXJyLmxlbmd0aCA+IDAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGFyci5sZW5ndGggPT0gMSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtID0gJysgJyArIGFyci5sZW5ndGggKyAnIHNlcnZpY2UnO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG51bSA9ICcrICcgKyBhcnIubGVuZ3RoICsgJyBzZXJ2aWNlJztcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgaXRlbTIgPSAnJztcblxuICAgICAgICAgICAgICAgIGZvciggdmFyIGtleTIgaW4gX2RhdGFJbnB1dCAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKF9kYXRhSW5wdXQuaGFzT3duUHJvcGVydHkoa2V5MikpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTIgPSBfZGF0YUlucHV0WyBrZXkyIF0gICsgJyAnO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0yID0gJyc7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiggZGl2UmF0ZSA9PSAnJyApIHtcblxuICAgICAgICAgICAgICAgICAgICBfY2hvc2VuRGF0YS5odG1sKCdZb3UgY2hvc2UgJyArIGl0ZW0gKyAncG9ydHM6ICcgKyBpdGVtMiArIG51bSArICcuJyk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIF9jaG9zZW5EYXRhLmh0bWwoJ1lvdSBjaG9zZSAnICsgZGl2UmF0ZSArIGl0ZW0gKyBudW0gKyAnKS4nKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF93cml0ZUluSGlkZGVuID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfc3RyID0gJyc7XG5cbiAgICAgICAgICAgICAgICBmb3IoIHZhciBrZXkgaW4gX2RhdGFSYWRpbyAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBfZGF0YVJhZGlvWyBrZXkgXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiggdHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfc3RyICs9ICcnKyBpdGVtICsnOyAnXG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKCB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciggdmFyIGtleTEgaW4gaXRlbSAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbTEgPSBpdGVtWyBrZXkxIF07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RyICs9ICcnKyBpdGVtMSArJzsgJ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZm9yKCB2YXIga2V5MyBpbiBfZGF0YUNoZWNrYm94ICApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbTMgPSBfZGF0YUNoZWNrYm94WyBrZXkzIF07XG5cbiAgICAgICAgICAgICAgICAgICAgX3N0ciArPSAnJysgaXRlbTMgKyc7ICdcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBpdGVtNCA9ICcnO1xuXG4gICAgICAgICAgICAgICAgZm9yKCB2YXIga2V5NCBpbiBfZGF0YUlucHV0ICApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoX2RhdGFJbnB1dC5oYXNPd25Qcm9wZXJ0eShrZXk0KSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtNCA9IF9kYXRhSW5wdXRbIGtleTQgXTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtNCA9ICcnO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBfc3RyICs9ICcnKyBpdGVtNCArJzsgJ1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2lucHV0LnZhbCggX3N0ciApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2dldFNlc3Npb25EYXRhID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBpZiggbG9jYWxTdG9yYWdlLnJhZGlvQ2hvb3NlICE9IHVuZGVmaW5lZCApIHtcblxuICAgICAgICAgICAgICAgICAgICBfZGF0YVJhZGlvID0gSlNPTi5wYXJzZSggbG9jYWxTdG9yYWdlLnJhZGlvQ2hvb3NlICk7XG4gICAgICAgICAgICAgICAgICAgIF9kYXRhQ2hlY2tib3ggPSBKU09OLnBhcnNlKCBsb2NhbFN0b3JhZ2UuY2hlY2tib3hDaG9vc2UgKTtcbiAgICAgICAgICAgICAgICAgICAgX2RhdGFJbnB1dCA9IEpTT04ucGFyc2UoIGxvY2FsU3RvcmFnZS5pbnB1dFZhbHVlICk7XG5cbiAgICAgICAgICAgICAgICAgICAgX3dyaXRlSW5IaWRkZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgX3dyaXRlSW5CbG9jaygpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICQoJ2JvZHknKS5kYXRhKCdzcmMnKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgX2dldFNlc3Npb25EYXRhKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBEYXRlUGxhbiA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9pdGVtcyA9IF9vYmouZmluZCgnLnBsYW5zX19pdGVtJyksXG4gICAgICAgICAgICBfcmFkaW8gPSBfb2JqLmZpbmQoJ2lucHV0W3R5cGU9XCJyYWRpb1wiXScpLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRBY3RpdmVDbGFzcygpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfcmFkaW8ub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IGN1ckl0ZW0ucGFyZW50cygnLnBsYW5zX19pdGVtJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhKCBwYXJlbnQuaGFzQ2xhc3MoJ2FjdGl2ZScpICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlbXMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX2l0ZW1zLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0UmFkaW8gPSBjdXJJdGVtLmZpbmQoJ2lucHV0W3R5cGU9XCJyYWRpb1wiXTpmaXJzdCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggISggY3VySXRlbS5oYXNDbGFzcygnYWN0aXZlJykgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVtcy5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RSYWRpby50cmlnZ2VyKCdjbGljaycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZXRBY3RpdmVDbGFzcyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGFjdGl2ZVJhZGlvID0gX3JhZGlvLmZpbHRlcignOmNoZWNrZWQnKSxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gYWN0aXZlUmFkaW8ucGFyZW50cygnLnBsYW5zX19pdGVtJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LmFkZENsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxufSApKCk7XG4iLCIoIGZ1bmN0aW9uKCkge1xuXG4gICAgJCggZnVuY3Rpb24oKSB7XG4gICAgICAgICd1c2Ugc3RyaWN0JztcblxuICAgICAgICAkLmVhY2goICQoJy5vcmRlcl9fcGxhY2UnKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgRm9ybVZhbGlkYXRvciggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuXG4gICAgfSApO1xuXG4gICAgdmFyIEZvcm1WYWxpZGF0b3IgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfZm9ybSA9ICBfb2JqLmZpbmQoJ2Zvcm0nKSxcbiAgICAgICAgICAgIF9maWVsZHNSZXF1aXJlZCA9IF9vYmouZmluZCgnaW5wdXRbZGF0YS1yZXF1aXJlZD1cInJlcXVpcmVkXCJdLCB0ZXh0YXJlYVtkYXRhLXJlcXVpcmVkPVwicmVxdWlyZWRcIl0sIGlucHV0W2FyaWEtcmVxdWlyZWQ9XCJ0cnVlXCJdLCB0ZXh0YXJlYVthcmlhLXJlcXVpcmVkPVwidHJ1ZVwiXScpLFxuICAgICAgICAgICAgX3ZhbGlkRmllbGQgPSBfb2JqLmZpbmQoJ2lucHV0W2RhdGEtdmFsaWRhdGlvbj1cInZhbGlkXCJdJyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBfY29uc3RydWN0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYWRkTm90VG91Y2hlZENsYXNzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX2ZpZWxkc1JlcXVpcmVkLmVhY2goIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCAkKHRoaXMpLnZhbCgpID09PSAnJyApe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCAnbm90LXRvdWNoZWQnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF92YWxpZEZpZWxkLmVhY2goIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICBfdmFsaWRhdGVGaWVsZCggJCggdGhpcyApICk7XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb25FdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfZm9ybS5vbigge1xuICAgICAgICAgICAgICAgICAgICBzdWJtaXQ6IGZ1bmN0aW9uKCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2FkZE5vdFRvdWNoZWRDbGFzcygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX2ZpZWxkc1JlcXVpcmVkLmhhc0NsYXNzKCdub3QtdG91Y2hlZCcpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5maW5kKCcubm90LXRvdWNoZWQ6Zmlyc3QnKS5mb2N1cygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gaWYoIF92YWxpZEZpZWxkLmhhc0NsYXNzKCdub3QtdmFsaWQnKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouZmluZCgnLm5vdC12YWxpZDpmaXJzdCcpLmZvY3VzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9maWVsZHNSZXF1aXJlZC5vbigge1xuICAgICAgICAgICAgICAgICAgICBrZXlwcmVzczogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoICdub3QtdG91Y2hlZCcgKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3ZhbGlkRmllbGQub24oIHtcbiAgICAgICAgICAgICAgICAgICAga2V5dXA6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfdmFsaWRhdGVGaWVsZCggJCggdGhpcyApICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfbWFrZU5vdFZhbGlkID0gZnVuY3Rpb24gKCBmaWVsZCApIHtcbiAgICAgICAgICAgICAgICBmaWVsZC5hZGRDbGFzcyggJ25vdC12YWxpZCcgKTtcbiAgICAgICAgICAgICAgICBmaWVsZC5yZW1vdmVDbGFzcyggJ3ZhbGlkJyApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9tYWtlVmFsaWQgPSBmdW5jdGlvbiAoIGZpZWxkICkge1xuICAgICAgICAgICAgICAgIGZpZWxkLnJlbW92ZUNsYXNzKCAnbm90LXZhbGlkJyApO1xuICAgICAgICAgICAgICAgIGZpZWxkLmFkZENsYXNzKCAndmFsaWQnICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3ZhbGlkYXRlRW1haWwgPSBmdW5jdGlvbiAoIGVtYWlsICkge1xuICAgICAgICAgICAgICAgIHZhciByZSA9IC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xuICAgICAgICAgICAgICAgIHJldHVybiByZS50ZXN0KGVtYWlsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfdmFsaWRhdGVQaG9uZSA9IGZ1bmN0aW9uICggcGhvbmUgKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlID0gL14oPzpcXChcXGR7M31cXCl8XFxkezN9KVstIF0/XFxkezN9Wy0gXT9cXGR7NH0kLztcbiAgICAgICAgICAgICAgICByZXR1cm4gcmUudGVzdChwaG9uZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3ZhbGlkYXRlRmllbGQgPSBmdW5jdGlvbiAoIGZpZWxkLCBlICkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBmaWVsZC5hdHRyKCAndHlwZScpLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBmaWVsZC5hdHRyKCAnY2xhc3MnKTtcblxuICAgICAgICAgICAgICAgIC8vaWYoIHR5cGUgPT09ICdlbWFpbCcgfHwgdHlwZSA9PT0gJ3RleHQnICl7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyAgICBpZiggZmllbGQudmFsKCkgPT09ICcnICl7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgIF9tYWtlTm90VmFsaWQoIGZpZWxkICk7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAvLyAgICB9XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL31cblxuICAgICAgICAgICAgICAgIGlmKCB0eXBlID09PSAnZW1haWwnICl7XG4gICAgICAgICAgICAgICAgICAgIGlmKCAhX3ZhbGlkYXRlRW1haWwoIGZpZWxkLnZhbCgpICkgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9tYWtlTm90VmFsaWQoIGZpZWxkICk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvL2lmKCBjbGFzc05hbWUuaW5kZXhPZignc2l0ZV9faW5wdXRfcGhvbmUnKSArIDEgKXtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICAgIGlmKCBmaWVsZC52YWwoKSAhPSAnJyApIHtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICAgICAgICBpZiggIV92YWxpZGF0ZVBob25lKCBmaWVsZC52YWwoKSApICl7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICBfbWFrZU5vdFZhbGlkKCBmaWVsZCApO1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIC8vICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyAgICB9XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL31cblxuICAgICAgICAgICAgICAgIF9tYWtlVmFsaWQoIGZpZWxkICk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcbiAgICAgICAgX3NlbGYuY2hlY2tWYWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB2YWxpZCA9IHRydWU7XG5cbiAgICAgICAgICAgIF9maWVsZHMuZWFjaCggZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICQoIHRoaXMgKS5yZW1vdmVDbGFzcyggJ25vdC10b3VjaGVkJyApO1xuICAgICAgICAgICAgICAgIGlmKCAkKCB0aGlzICkuaGFzQ2xhc3MoICdub3QtdmFsaWQnICkgKXtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgcmV0dXJuIHZhbGlkO1xuICAgICAgICB9O1xuXG4gICAgICAgIF9jb25zdHJ1Y3RvcigpO1xuICAgIH07XG5cbn0gKSgpO1xuXG5cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
