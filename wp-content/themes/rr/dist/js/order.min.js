"use strict";!function(){$(function(){$.each($(".clouds"),function(){new t($(this))}),$.each($(".guy"),function(){new n($(this))}),$.each($(".site__content_full"),function(){new o($(this))}),$.each($(".plans"),function(){new i($(this))}),$.each($(".site__header"),function(){new e($(this))}),$(".popup").each(function(){new s($(this))})});var t=function(t){var n=this,o=t,i=o,e=$(window),s=(e.width(),function(){e.on({resize:function(){r(),a()},load:function(){a()},scroll:function(){a()}})}),a=function(){var t,n=o.offset().top,i=n-e.height(),s=n+o.height(),a=(s-e.scrollTop())/(s-i);a>1?t=0:a<0&&(t=1),a<1&&a>0&&(t=1-a),o.hasClass("putted-all")&&(t=.5),c(i,s,t)},c=function(t,n,o){i.each(function(){var t=$(this),n=100,i=1;t.hasClass("clouds_1")&&(i=-1),0==o?t.css({"-webkit-transform":"translateX("+-n*i+"%)",transform:"translateX("+-n*i+"%)"}):1==o?t.css({"-webkit-transform":"translateX("+-n*i+"%)",transform:"translateX("+-n*i+"%)"}):(o>=.5&&(o=1-o),t.css({"-webkit-transform":"translateX("+200*o*i+"%)",transform:"translateX("+200*o*i+"%)"}))})},r=function(){var t=e.height(),n=$(".site").height();n<=t?o.addClass("putted-all"):o.removeClass("putted-all")},h=function(){o[0].obj=n,s(),r()};h()},n=function(t){var n=this,o=t,i=o.find(".guy__hand"),e=$(window),s=e.width(),a=function(){e.on({resize:function(){s!=e.width()&&(s=e.width()+1,e.width()<768&&i.css({"-webkit-transform":"none",transform:"none"})),h(),r(),c()},load:function(){e.width()>=768&&c()},scroll:function(){e.width()>=768&&c()}})},c=function(){var t,n=e.height(),s=o.offset().top,a=i.offset().top-n,c=s-n+o.height();o.hasClass("putted")&&(a=i.offset().top-n/2,c=n/2.5);var r=(c-e.scrollTop())/(c-a);r>1?t=0:r<0&&(t=1),r<1&&r>0&&(t=1-r),o.hasClass("putted-all")&&(t=1),f(a,c,t)},r=function(){var t=e.height(),n=e.scrollTop(),s=i.height(),a=i.offset().top;s+a<t+n&&$(".site").height()>2*t?o.addClass("putted"):o.removeClass("putted")},h=function(){var t=e.height(),n=$(".site").height();n<=t?o.addClass("putted-all"):o.removeClass("putted-all")},f=function(t,n,o){var s=n-t;i.each(function(){var n=$(this),i=n.data("rotate-start"),a=n.data("rotate-finish"),c=i+(a-i)/s*(e.scrollTop()-t);1==o?n.css({"-webkit-transform":"rotate( "+-a+"deg )",transform:"rotate( "+-a+"deg )"}):0==o?n.css({"-webkit-transform":"rotate( "+-i+"deg )",transform:"rotate( "+-i+"deg )"}):n.css({"-webkit-transform":"rotate( "+-c+"deg )",transform:"rotate( "+-c+"deg )"})})},u=function(){o[0].obj=n,a(),r(),h()};u()},o=function(t){var n=this,o=t,i=$(window),e=$(".site__header"),s=function(){i.on({resize:function(){a()}})},a=function(){var t=e.height();o.height(i.height()-t),o.css({"min-height":o.find(">div:first").height()})},c=function(){o[0].obj=n,s(),a()};c()},i=function(t){var n=this,o=t,i=$(window),e=o.find(".plans__list_caption"),s=o.find(".plans__list-row:not(.plans__list_caption)"),a=[],c=[],r=function(){i.on({load:function(){i.width()>=1024&&h()},resize:function(){i.width()<1024?(e.css({height:""}),s.css({height:""})):h()}})},h=function(){a=[],c=[],e.each(function(){var t=$(this).innerHeight();a.push(t)});var t=Math.max.apply(Math,a);s.each(function(){var t=$(this).innerHeight();c.push(t)});var n=Math.max.apply(Math,c);e.innerHeight(t),s.innerHeight(n)},f=function(){o[0].obj=n,r()};f()},e=function(t){var n=this,o=t,i=$(window),e=o.find(".site__header__btn"),s=o.find(".site__header-menu"),a=$("html"),c=function(){o.removeClass("opened"),a.css({"overflow-y":"auto"}),s.attr("style","")},r=function(){i.on({scroll:function(){i.scrollTop()>0?o.addClass("fixed"):o.removeClass("fixed")},resize:function(){}}),e.on({click:function(){return o.hasClass("opened")?c():h(),!1}})},h=function(){o.addClass("opened"),a.css({"overflow-y":"hidden"})},f=function(){r(),o[0].obj=n,i.scrollTop()>o.innerHeight()/2?o.addClass("fixed"):o.removeClass("fixed")};f()},s=function(t){var n=this,o=40,i=$(".popup__open"),e=t,s=e.find(".popup__close, .popup__cancel"),a=e.find(".popup__wrap"),c=e.find(".popup__content"),r=$("html"),h=$(window),f=setTimeout(function(){},1),u=function(){h.height()-2*o-a.height()>0?a.css({top:(h.height()-2*o-a.height())/2}):a.css({top:0})},d=function(){var t,n=document.createElement("div");return n.className="popup__scrollbar-measure",document.body.appendChild(n),t=n.offsetWidth-n.clientWidth,document.body.removeChild(n),t},l=function(){e.css({overflowY:"hidden"}),r.css({overflowY:"auto",paddingRight:0}),e.removeClass("popup_opened"),e.addClass("popup_hide"),f=setTimeout(function(){e.css({overflowY:"auto"}),e.removeClass("popup_hide")},300)},p=function(){e[0].obj=n,w()},w=function(){h.on({resize:function(){u()}}),i.on({click:function(){return _($(this).attr("data-popup")),!1}}),a.on({click:function(t){t.stopPropagation()}}),e.on({click:function(){return l(),!1}}),s.on({click:function(){return l(),!1}})},_=function(t){g(t),r.css({overflowY:"hidden",paddingRight:d()}),e.addClass("popup_opened"),u()},g=function(t){var n=c.filter(".popup__"+t);c.css({display:"none"}),n.css({display:"block"})};p()}}();
"use strict";!function(){$(function(){$.each($(".choose-data"),function(){new t($(this))}),$.each($(".order"),function(){new e($(this))}),$.each($(".plans"),function(){new a($(this))})});var t=function(t){var e=this,a=t,n=a.find(".choose-data__items"),r=n.find("input"),i=a.find(".btn_next"),o={},s={},c={},l={},d={},f=function(){r.on({click:function(){"text"!==$(this).attr("type")&&(u($(this)),y(),localStorage.setItem("idItems",JSON.stringify(l)))},keyup:function(){"text"===$(this).attr("type")&&(u($(this)),y(),localStorage.setItem("idItems",JSON.stringify(l)),localStorage.setItem("valueInput",JSON.stringify(d)))},keydown:function(t){if($(this).hasClass("site__input_num")){if($.inArray(t.keyCode,[46,8,9,27,13,110,190])!==-1||65==t.keyCode&&t.ctrlKey===!0||67==t.keyCode&&t.ctrlKey===!0||88==t.keyCode&&t.ctrlKey===!0||t.keyCode>=35&&t.keyCode<=39)return;(t.shiftKey||t.keyCode<48||t.keyCode>57)&&(t.keyCode<96||t.keyCode>105)&&t.preventDefault()}}}),i.on({click:function(){var t=$(this),e=t.data("src");return p(),window.location.href=e,!1}})},u=function(t){var e=t;"radio"===e.attr("type")?(e.parents(".plans").length?o.ratePlan={sessionType:e.data("rate"),value:e.attr("value")}:o[e.attr("name")]=e.attr("value"),l[e.attr("name")]=e.attr("id")):"checkbox"===e.attr("type")?e.is(":checked")?(s[e.attr("name")]=e.attr("value"),l[e.attr("name")]=e.attr("id")):(delete s[e.attr("name")],delete l[e.attr("name")]):"text"===e.attr("type")&&(""!=e.val()?(c[e.attr("name")]=e.val(),l[e.attr("name")]=e.attr("id"),d[e.attr("id")]=e.val()):(delete c[e.attr("name")],delete l[e.attr("name")],delete d[e.attr("id")]))},v=function(){if(void 0!=localStorage.idItems){r.each(function(){var t=$(this);"checkbox"===t.attr("type")?t.prop("checked",!1):"text"===t.attr("type")&&t.val("")});var t=JSON.parse(localStorage.idItems),e=JSON.parse(localStorage.valueInput);for(var a in t){var n=t[a];r.each(function(){var t=$(this);if(t.filter("#"+n).prop("checked",!0),console.log(n),"text"===t.attr("type"))for(var a in e){var r=e[a];t.filter("#"+n).val(r)}})}}},p=function(){r.each(function(){var t=$(this);t.is(":checked")&&("radio"===t.attr("type")?l[t.attr("name")]=t.attr("id"):"checkbox"===t.attr("type")&&(t.is(":checked")?l[t.attr("name")]=t.attr("id"):delete l[t.attr("name")])),"text"===t.attr("type")&&(""!=t.val()?(l[t.attr("name")]=t.attr("id"),d[t.attr("id")]=t.val()):(delete l[t.attr("name")],delete d[t.attr("id")]),localStorage.setItem("valueInput",JSON.stringify(d)))}),localStorage.setItem("idItems",JSON.stringify(l))},h=function(){r.each(function(){var t=$(this);t.is(":checked")&&("radio"===t.attr("type")?t.parents(".plans").length?o.ratePlan={sessionType:t.data("rate"),value:t.attr("value")}:o[t.attr("name")]=t.attr("value"):"checkbox"===t.attr("type")&&(t.is(":checked")?s[t.attr("name")]=t.attr("value"):delete s[t.attr("name")])),"text"===t.attr("type")&&(""!=t.val()?c[t.attr("name")]=t.val():delete c[t.attr("name")])}),y(),p()},y=function(){localStorage.setItem("radioChoose",JSON.stringify(o)),localStorage.setItem("checkboxChoose",JSON.stringify(s)),localStorage.setItem("inputValue",JSON.stringify(c))},m=function(){a[0].obj=e,f(),v(),h()};m()},e=function(t){var e,a,n,r=this,i=t,o=i.find(".order__chosen-data span"),s=i.find("input#input_1_5"),c="",l=function(){},d=function(){var t="",r="",i=[];for(var s in e)var c=e[s]+", ";void 0!=e.ratePlan&&$.each(e.ratePlan,function(){var a=e.ratePlan.value.split(" ");if("session pricing"===e.ratePlan.sessionType)t="<span>"+e.ratePlan.sessionType+" ("+a[0]+" sessions)</span>, ";else if("minute pricing"===e.ratePlan.sessionType){var n=a[0].replace(/[^0-9]+/g,"");n>1e5&&(n=n/1e6+"M"),t="<span>"+e.ratePlan.sessionType+" ("+n+" minutes ("+a[2]+"/minute)</span>, "}}),""==t&&(t="");for(var l in a)i.push(l);i.length>0&&(r=1==i.length?"+ "+i.length+" service":"+ "+i.length+" service");var d="";for(var f in n)d=n.hasOwnProperty(f)?n[f]+" ":"";""==t?o.html("You chose "+c+"ports: "+d+r+"."):o.html("You chose "+t+c+r+").")},f=function(){c="";for(var t in e){var r=e[t];if("string"==typeof r)c+=""+r+"; ";else if("object"==typeof r)for(var i in r){var o=r[i];c+=""+o+"; "}}for(var l in a){var d=a[l];c+=""+d+"; "}var f="";for(var u in n)f=n.hasOwnProperty(u)?n[u]:"",c+=""+f+"; ";s.val(c)},u=function(){void 0!=localStorage.radioChoose?(e=JSON.parse(localStorage.radioChoose),a=JSON.parse(localStorage.checkboxChoose),n=JSON.parse(localStorage.inputValue),f(),d()):window.location.href=$("body").data("src")},v=function(){i[0].obj=r,l(),u()};v()},a=function(t){var e=this,a=t,n=a.find(".plans__item"),r=a.find('input[type="radio"]'),i=$(window),o=function(){i.on({load:function(){s()}}),r.on({change:function(){var t=$(this),e=t.parents(".plans__item");e.hasClass("active")||(n.removeClass("active"),e.addClass("active"))}}),n.on({click:function(){var t=$(this),e=t.find('input[type="radio"]:first');t.hasClass("active")||(n.removeClass("active"),t.addClass("active"),e.trigger("click"))}})},s=function(){var t=r.filter(":checked"),e=t.parents(".plans__item");e.addClass("active")},c=function(){a[0].obj=e,o()};c()}}();
!function(){$(function(){"use strict";$.each($(".order__place"),function(){new t($(this))})});var t=function(t){var n=this,i=t,a=i.find("form"),e=i.find('input[data-required="required"], textarea[data-required="required"], input[aria-required="true"], textarea[aria-required="true"]'),o=i.find('input[data-validation="valid"]'),s=function(){u(),i[0].obj=n},r=function(){e.each(function(){""===$(this).val()&&$(this).addClass("not-touched")}),o.each(function(){l($(this))})},u=function(){a.on({submit:function(){return r(),e.hasClass("not-touched")?(i.find(".not-touched:first").focus(),!1):!o.hasClass("not-valid")||(i.find(".not-valid:first").focus(),!1)}}),e.on({keypress:function(){$(this).removeClass("not-touched")}}),o.on({keyup:function(){l($(this))}})},d=function(t){t.addClass("not-valid"),t.removeClass("valid")},c=function(t){t.removeClass("not-valid"),t.addClass("valid")},f=function(t){var n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return n.test(t)},l=function(t,n){var i=t.attr("type");t.attr("class");return"email"!==i||f(t.val())?void c(t):(d(t),!1)};n.checkValid=function(){var t=!0;return _fields.each(function(){$(this).removeClass("not-touched"),$(this).hasClass("not-valid")&&(t=!1)}),t},s()}}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5tYWluLmpzIiwianF1ZXJ5LmNoZWNrb3V0LmpzIiwianF1ZXJ5LmZvcm0udmFsaWRhdG9yLmpzIl0sIm5hbWVzIjpbIiQiLCJlYWNoIiwiQ2xvdWRzQW5pbWF0ZWQiLCJ0aGlzIiwiR3V5QW5pbWF0ZWQiLCJDb250ZW50RnVsbEhlaWdodCIsIlBsYW5zQ2hvb3NlSGVpZ2h0IiwiTWVudSIsIlBvcHVwIiwib2JqIiwiX3NlbGYiLCJfb2JqIiwiX2l0ZW1zIiwiX3dpbmRvdyIsIndpbmRvdyIsIl9hZGRFdmVudHMiLCJ3aWR0aCIsIm9uIiwicmVzaXplIiwiX2NoZWNrUHV0SW5XaW5kb3ciLCJfY2hlY2tTY3JvbGwiLCJsb2FkIiwic2Nyb2xsIiwic2Nyb2xsUG9pbnQiLCJ0b3BQb3MiLCJvZmZzZXQiLCJ0b3AiLCJzdGFydCIsImhlaWdodCIsImVuZCIsIngiLCJzY3JvbGxUb3AiLCJoYXNDbGFzcyIsIl9hbmltYXRpb25FbGVtcyIsInN0YXJ0UG9pbnQiLCJlbmRQb2ludCIsImN1ckVsZW0iLCJ0cmFuc2xhdGVGaW5pc2giLCJjc3MiLCItd2Via2l0LXRyYW5zZm9ybSIsInRyYW5zZm9ybSIsImhlaWdodFdpbiIsImhlaWdodFNpdGUiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiX2luaXQiLCJfaGFuZCIsImZpbmQiLCJfZ2xvYmFsV2lkdGgiLCJfY2hlY2tHZXRJbldpbmRvdyIsIndpbmRvd0giLCJzY3JvbGxUb3BXaW4iLCJoZWlnaHRPYmoiLCJwb3NpdGlvbk9iaiIsInNlZ21lbnQiLCJyb3RhdGVTdGFydCIsImRhdGEiLCJyb3RhdGVGaW5pc2giLCJrb2ZSb3RhdGUiLCJfaGVhZGVyIiwiX3NldEhlaWdodCIsImhlYWRlckhlaWd0aCIsIm1pbi1oZWlnaHQiLCJfY2FwdGlvbiIsIl9jb250ZW50IiwiX2NhcHRpb25IZWlnaHRzIiwiX2NvbnRlbnRIZWlnaHRzIiwiaW5uZXJIZWlnaHQiLCJwdXNoIiwibWF4SGVpZ2h0Q2FwdGlvbiIsIk1hdGgiLCJtYXgiLCJhcHBseSIsIm1heEhlaWdodENvbnRlbnQiLCJfbWVudUJ0biIsIl9tZW51SXRlbXMiLCJfaHRtbCIsIl9jbG9zZU1lbnUiLCJvdmVyZmxvdy15IiwiYXR0ciIsIl9vbkV2ZW50cyIsImNsaWNrIiwiX29wZW5NZW51IiwiX3BvcHVwUGFkZGluZyIsIl9idG5TaG93IiwiX2J0bkNsb3NlIiwiX3dyYXAiLCJfY29udGVudHMiLCJfc2Nyb2xsQ29udGVpbmVyIiwiX3RpbWVyIiwic2V0VGltZW91dCIsIl9jZW50ZXJXcmFwIiwiX2dldFNjcm9sbFdpZHRoIiwic2Nyb2xsQmFyV2lkdGgiLCJzY3JvbGxEaXYiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJvZmZzZXRXaWR0aCIsImNsaWVudFdpZHRoIiwicmVtb3ZlQ2hpbGQiLCJfaGlkZSIsIm92ZXJmbG93WSIsInBhZGRpbmdSaWdodCIsIl9zaG93IiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsIl9zZXRQb3B1cENvbnRlbnQiLCJjdXJDb250ZW50IiwiZmlsdGVyIiwiZGlzcGxheSIsIkNob29zZURhdGEiLCJQYXN0ZURhdGEiLCJEYXRlUGxhbiIsIl9pbnB1dCIsIl9yZWRpcmVjdEJ0biIsIl9kYXRhUmFkaW8iLCJfZGF0YUNoZWNrYm94IiwiX2RhdGFJbnB1dCIsIl9pZEl0ZW1zIiwiX3ZhbHVlSW5wdXRJdGVtcyIsIl9nZXREYXRhIiwiX3dyaXRlSW5TZXNzaW9uU3RvcmFnZSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5Iiwia2V5dXAiLCJrZXlkb3duIiwiaW5BcnJheSIsImtleUNvZGUiLCJjdHJsS2V5Iiwic2hpZnRLZXkiLCJwcmV2ZW50RGVmYXVsdCIsImN1ckl0ZW0iLCJkYXRhU3JjIiwiX3dyaXRlQWxsSWQiLCJsb2NhdGlvbiIsImhyZWYiLCJlbGVtIiwicGFyZW50cyIsImxlbmd0aCIsInJhdGVQbGFuIiwic2Vzc2lvblR5cGUiLCJ2YWx1ZSIsImlzIiwidmFsIiwiX3NldENoZWNrZWROZWVkSW5wdXQiLCJ1bmRlZmluZWQiLCJpZEl0ZW1zIiwicHJvcCIsImFsbElkIiwicGFyc2UiLCJ2YWx1ZUlucHV0Iiwia2V5IiwiaXRlbSIsImNvbnNvbGUiLCJsb2ciLCJrZXkyIiwiaXRlbTEiLCJfd3JpdGVEYXRhSW5PYmpBZnRlckxvYWQiLCJfY2hvc2VuRGF0YSIsIl9zdHIiLCJfd3JpdGVJbkJsb2NrIiwiZGl2UmF0ZSIsIm51bSIsImFyciIsInNwbGl0IiwibWludXRlcyIsInJlcGxhY2UiLCJrZXkxIiwiaXRlbTIiLCJoYXNPd25Qcm9wZXJ0eSIsImh0bWwiLCJfd3JpdGVJbkhpZGRlbiIsImtleTMiLCJpdGVtMyIsIml0ZW00Iiwia2V5NCIsIl9nZXRTZXNzaW9uRGF0YSIsInJhZGlvQ2hvb3NlIiwiY2hlY2tib3hDaG9vc2UiLCJpbnB1dFZhbHVlIiwiX3JhZGlvIiwiX3NldEFjdGl2ZUNsYXNzIiwiY2hhbmdlIiwicGFyZW50IiwiZmlyc3RSYWRpbyIsInRyaWdnZXIiLCJhY3RpdmVSYWRpbyIsIkZvcm1WYWxpZGF0b3IiLCJfZm9ybSIsIl9maWVsZHNSZXF1aXJlZCIsIl92YWxpZEZpZWxkIiwiX2NvbnN0cnVjdG9yIiwiX2FkZE5vdFRvdWNoZWRDbGFzcyIsIl92YWxpZGF0ZUZpZWxkIiwic3VibWl0IiwiZm9jdXMiLCJrZXlwcmVzcyIsIl9tYWtlTm90VmFsaWQiLCJmaWVsZCIsIl9tYWtlVmFsaWQiLCJfdmFsaWRhdGVFbWFpbCIsImVtYWlsIiwicmUiLCJ0ZXN0IiwidHlwZSIsImNoZWNrVmFsaWQiLCJ2YWxpZCIsIl9maWVsZHMiXSwibWFwcGluZ3MiOiJBQUFBLGNBQ0EsV0FFSUEsRUFBRyxXQUVDQSxFQUFFQyxLQUFNRCxFQUFFLFdBQVksV0FFbEIsR0FBSUUsR0FBZ0JGLEVBQUVHLFNBSTFCSCxFQUFFQyxLQUFNRCxFQUFFLFFBQVMsV0FFZixHQUFJSSxHQUFhSixFQUFFRyxTQUl2QkgsRUFBRUMsS0FB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QUFZLFdBRVJpSCxFQUFNaEwsSUFDRnNMLE9BQVEsV0FJSixNQUZBRixLQUVJSCxFQUFnQmxLLFNBQVMsZ0JBRXpCckIsRUFBS29DLEtBQUssc0JBQXNCeUosU0FFekIsSUFHTEwsRUFBWW5LLFNBQVMsZUFFdkJyQixFQUFLb0MsS0FBSyxvQkFBb0J5SixTQUV2QixNQVluQk4sRUFBZ0JqTCxJQUNad0wsU0FBVSxXQUVOek0sRUFBRUcsTUFBTXlDLFlBQWEsa0JBSzdCdUosRUFBWWxMLElBQ1JnSCxNQUFPLFdBRUhxRSxFQUFnQnRNLEVBQUdHLFdBSy9CdU0sRUFBZ0IsU0FBV0MsR0FDdkJBLEVBQU1oSyxTQUFVLGFBQ2hCZ0ssRUFBTS9KLFlBQWEsVUFFdkJnSyxFQUFhLFNBQVdELEdBQ3BCQSxFQUFNL0osWUFBYSxhQUNuQitKLEVBQU1oSyxTQUFVLFVBRXBCa0ssRUFBaUIsU0FBV0MsR0FDeEIsR0FBSUMsR0FBSyx3SkFDVCxPQUFPQSxHQUFHQyxLQUFLRixJQU1uQlIsRUFBaUIsU0FBV0ssRUFBT2hHLEdBRS9CLEdBQUlzRyxHQUFPTixFQUFNNUgsS0FBTSxPQUNQNEgsR0FBTTVILEtBQU0sUUFXNUIsT0FBYSxVQUFUa0ksR0FDS0osRUFBZ0JGLEVBQU12RCxXQW1CL0J3RCxHQUFZRCxJQWxCSkQsRUFBZUMsSUFDUixHQXdCdkJqTSxHQUFNd00sV0FBYSxXQUNmLEdBQUlDLElBQVEsQ0FVWixPQVJBQyxTQUFRbk4sS0FBTSxXQUNWRCxFQUFHRyxNQUFPeUMsWUFBYSxlQUNuQjVDLEVBQUdHLE1BQU82QixTQUFVLGVBQ3BCbUwsR0FBUSxLQUtUQSxHQUdYZiIsImZpbGUiOiJvcmRlci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbiggZnVuY3Rpb24oKSB7XG5cbiAgICAkKCBmdW5jdGlvbigpIHtcblxuICAgICAgICAkLmVhY2goICQoJy5jbG91ZHMnKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgQ2xvdWRzQW5pbWF0ZWQoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuZ3V5JyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IEd1eUFuaW1hdGVkKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLnNpdGVfX2NvbnRlbnRfZnVsbCcpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBDb250ZW50RnVsbEhlaWdodCggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5wbGFucycpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBQbGFuc0Nob29zZUhlaWdodCggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5zaXRlX19oZWFkZXInKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgTWVudSggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkKCcucG9wdXAnKS5lYWNoKCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgbmV3IFBvcHVwKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgfSApO1xuXG4gICAgdmFyIENsb3Vkc0FuaW1hdGVkID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2l0ZW1zID0gX29iaixcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSBfd2luZG93LndpZHRoKCk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1B1dEluV2luZG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoKTtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2hlY2tTY3JvbGwgPSBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgdmFyIHRvcFBvcyA9IF9vYmoub2Zmc2V0KCkudG9wICxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSB0b3BQb3MgLSBfd2luZG93LmhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICBlbmQgPSB0b3BQb3MgKyBfb2JqLmhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxQb2ludDtcblxuICAgICAgICAgICAgICAgIHZhciB4ID0gKCBlbmQgLSBfd2luZG93LnNjcm9sbFRvcCgpICkgLyAoIGVuZCAtICBzdGFydCApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCB4ID4gMSApIHtcblxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxQb2ludCA9IDA7XG5cblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIHggPCAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFBvaW50ID0gMTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKCAoIHggPCAxICkgJiYgKCB4ID4gMCApICl7XG5cbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsUG9pbnQgPSAxIC0geDtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiggIF9vYmouaGFzQ2xhc3MoJ3B1dHRlZC1hbGwnKSApIHtcblxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxQb2ludCA9IDAuNTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9hbmltYXRpb25FbGVtcyggc3RhcnQsIGVuZCwgc2Nyb2xsUG9pbnQgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9hbmltYXRpb25FbGVtcyA9IGZ1bmN0aW9uICggc3RhcnRQb2ludCwgZW5kUG9pbnQsIHNjcm9sbFBvaW50ICkge1xuXG4gICAgICAgICAgICAgICAgX2l0ZW1zLmVhY2goIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VyRWxlbSA9ICQoIHRoaXMgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVN0YXJ0ID0gMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZUZpbmlzaCA9IDEwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSAxO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBjdXJFbGVtLmhhc0NsYXNzKCdjbG91ZHNfMScpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gLTE7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICggc2Nyb2xsUG9pbnQgPT0gMCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyRWxlbS5jc3MoIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKCcgKyggLXRyYW5zbGF0ZUZpbmlzaCAqIHggKSsgJyUpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoJyArKCAtdHJhbnNsYXRlRmluaXNoICogeCApKyAnJSknXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBzY3JvbGxQb2ludCA9PSAxICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJFbGVtLmNzcygge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoJyArKCAtdHJhbnNsYXRlRmluaXNoICogeCApKyAnJSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsoIC10cmFuc2xhdGVGaW5pc2ggKiB4ICkrICclKSdcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiggc2Nyb2xsUG9pbnQgPCAwLjUgJiYgc2Nyb2xsUG9pbnQgPiAwICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIGN1ckVsZW0uY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKCcgKyggc2Nyb2xsUG9pbnQgKiAyMDAgKiB4ICkrICclKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKCcgKyggc2Nyb2xsUG9pbnQgKiAyMDAgKiB4ICkrICclKSdcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICB9ICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYoIHNjcm9sbFBvaW50ID49IDAuNSAmJiBzY3JvbGxQb2ludCA8IDAuOCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBjdXJFbGVtLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsoIHRyYW5zbGF0ZUZpbmlzaCAqIHggKSsgJyUpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoJyArKCB0cmFuc2xhdGVGaW5pc2ggKiB4ICkrICclKSdcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICB9ICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiggc2Nyb2xsUG9pbnQgPj0gMC44ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIHNjcm9sbFBvaW50ID0gMS4zIC0gc2Nyb2xsUG9pbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgY3VyRWxlbS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoJyArKCBzY3JvbGxQb2ludCAqIDIwMCAqIHggKSsgJyUpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoJyArKCBzY3JvbGxQb2ludCAqIDIwMCAqIHggKSsgJyUpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIH0gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAvL31cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHNjcm9sbFBvaW50ID49IDAuNSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFBvaW50ID0gMSAtIHNjcm9sbFBvaW50O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckVsZW0uY3NzKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsoIHNjcm9sbFBvaW50ICogMjAwICogeCApKyAnJSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsoIHNjcm9sbFBvaW50ICogMjAwICogeCApKyAnJSknXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jaGVja1B1dEluV2luZG93ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0V2luID0gX3dpbmRvdy5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0U2l0ZSA9ICQoJy5zaXRlJykuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICBpZiggaGVpZ2h0U2l0ZSA8PSBoZWlnaHRXaW4gKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcygncHV0dGVkLWFsbCcpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCdwdXR0ZWQtYWxsJyk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9jaGVja1B1dEluV2luZG93KCk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIEd1eUFuaW1hdGVkID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2hhbmQgPSBfb2JqLmZpbmQoJy5ndXlfX2hhbmQnKSxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSBfd2luZG93LndpZHRoKCk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfZ2xvYmFsV2lkdGggIT0gX3dpbmRvdy53aWR0aCgpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gX3dpbmRvdy53aWR0aCgpICsgMTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDc2OCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaGFuZC5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAnbm9uZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1B1dEluV2luZG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tHZXRJbldpbmRvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gNzY4ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGw6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF93aW5kb3cud2lkdGgoKSA+PSA3NjgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jaGVja1Njcm9sbCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHdpbmRvd0ggPSBfd2luZG93LmhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICB0b3BQb3MgPSBfb2JqLm9mZnNldCgpLnRvcCxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBfaGFuZC5vZmZzZXQoKS50b3AgLSB3aW5kb3dILFxuICAgICAgICAgICAgICAgICAgICBlbmQgPSB0b3BQb3MgLSB3aW5kb3dIICsgX29iai5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsUG9pbnQ7XG5cbiAgICAgICAgICAgICAgICBpZiggIF9vYmouaGFzQ2xhc3MoJ3B1dHRlZCcpICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gX2hhbmQub2Zmc2V0KCkudG9wIC0gd2luZG93SC8yO1xuICAgICAgICAgICAgICAgICAgICBlbmQgPSB3aW5kb3dILzIuNTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciB4ID0gKCBlbmQgLSBfd2luZG93LnNjcm9sbFRvcCgpICkgLyAoIGVuZCAtICBzdGFydCApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCB4ID4gMSApIHtcblxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxQb2ludCA9IDA7XG5cblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIHggPCAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFBvaW50ID0gMTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKCAoIHggPCAxICkgJiYgKCB4ID4gMCApICl7XG5cbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsUG9pbnQgPSAxIC0geDtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiggIF9vYmouaGFzQ2xhc3MoJ3B1dHRlZC1hbGwnKSApIHtcblxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxQb2ludCA9IDE7XG5cbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIF9hbmltYXRpb25FbGVtcyggc3RhcnQsIGVuZCwgc2Nyb2xsUG9pbnQgKTtcblxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2NoZWNrR2V0SW5XaW5kb3cgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIHZhciBoZWlnaHRXaW4gPSBfd2luZG93LmhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3BXaW4gPV93aW5kb3cuc2Nyb2xsVG9wKCksXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodE9iaiA9IF9oYW5kLmhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbk9iaiA9IF9oYW5kLm9mZnNldCgpLnRvcDtcblxuICAgICAgICAgICAgICAgIGlmKCAoIGhlaWdodE9iaiArIHBvc2l0aW9uT2JqIDwgaGVpZ2h0V2luICsgc2Nyb2xsVG9wV2luICkgJiYgJCgnLnNpdGUnKS5oZWlnaHQoKSA+IGhlaWdodFdpbiAqIDIgICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoJ3B1dHRlZCcpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCdwdXR0ZWQnKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jaGVja1B1dEluV2luZG93ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0V2luID0gX3dpbmRvdy5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0U2l0ZSA9ICQoJy5zaXRlJykuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICBpZiggaGVpZ2h0U2l0ZSA8PSBoZWlnaHRXaW4gKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcygncHV0dGVkLWFsbCcpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCdwdXR0ZWQtYWxsJyk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYW5pbWF0aW9uRWxlbXMgPSBmdW5jdGlvbiAoIHN0YXJ0UG9pbnQsIGVuZFBvaW50LCBzY3JvbGxQb2ludCApIHtcblxuICAgICAgICAgICAgICAgIHZhciBzZWdtZW50ID0gZW5kUG9pbnQgLSBzdGFydFBvaW50O1xuXG4gICAgICAgICAgICAgICAgX2hhbmQuZWFjaCggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJFbGVtID0gJCggdGhpcyApLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRlU3RhcnQgPSBjdXJFbGVtLmRhdGEoJ3JvdGF0ZS1zdGFydCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRlRmluaXNoID0gY3VyRWxlbS5kYXRhKCdyb3RhdGUtZmluaXNoJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBrb2ZSb3RhdGUgPSByb3RhdGVTdGFydCArICggcm90YXRlRmluaXNoIC0gcm90YXRlU3RhcnQgKSAvIHNlZ21lbnQgKiAoIF93aW5kb3cuc2Nyb2xsVG9wKCkgLSBzdGFydFBvaW50ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBzY3JvbGxQb2ludCA9PSAxICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJFbGVtLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICdyb3RhdGUoICcrICggLXJvdGF0ZUZpbmlzaCApICsnZGVnICknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAncm90YXRlKCAnKyAoIC1yb3RhdGVGaW5pc2ggKSArJ2RlZyApJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvL19vYmoucmVtb3ZlQ2xhc3MoJ3B1dHRlZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIHNjcm9sbFBvaW50ID09IDAgKSB7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyRWxlbS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAncm90YXRlKCAnKyAoIC1yb3RhdGVTdGFydCApICsnZGVnICknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAncm90YXRlKCAnKyAoIC1yb3RhdGVTdGFydCApICsnZGVnICknXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vX29iai5yZW1vdmVDbGFzcygncHV0dGVkJyk7XG5cblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJFbGVtLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICdyb3RhdGUoICcrICggLWtvZlJvdGF0ZSApKydkZWcgKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICdyb3RhdGUoICcrICggLWtvZlJvdGF0ZSApICsnZGVnICknXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgX2NoZWNrR2V0SW5XaW5kb3coKTtcbiAgICAgICAgICAgICAgICBfY2hlY2tQdXRJbldpbmRvdygpO1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBDb250ZW50RnVsbEhlaWdodCA9IGZ1bmN0aW9uICggb2JqICkge1xuXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KSxcbiAgICAgICAgICAgIF9oZWFkZXIgPSAkKCcuc2l0ZV9faGVhZGVyJyk7XG5cbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0SGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgaGVhZGVySGVpZ3RoID0gX2hlYWRlci5oZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgIF9vYmouaGVpZ2h0KCBfd2luZG93LmhlaWdodCgpIC0gaGVhZGVySGVpZ3RoICk7XG4gICAgICAgICAgICAgICAgX29iai5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJ21pbi1oZWlnaHQnOiBfb2JqLmZpbmQoJz5kaXY6Zmlyc3QnKS5oZWlnaHQoKVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9zZXRIZWlnaHQoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIFBsYW5zQ2hvb3NlSGVpZ2h0ID0gZnVuY3Rpb24gKCBvYmogKSB7XG5cbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgX2NhcHRpb24gPSBfb2JqLmZpbmQoJy5wbGFuc19fbGlzdF9jYXB0aW9uJyksXG4gICAgICAgICAgICBfY29udGVudCA9IF9vYmouZmluZCgnLnBsYW5zX19saXN0LXJvdzpub3QoLnBsYW5zX19saXN0X2NhcHRpb24pJyksXG4gICAgICAgICAgICBfY2FwdGlvbkhlaWdodHMgPSBbXSxcbiAgICAgICAgICAgIF9jb250ZW50SGVpZ2h0cyA9IFtdO1xuXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NldEhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2FwdGlvbi5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGVudC5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRIZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0SGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX2NhcHRpb25IZWlnaHRzID0gW107XG4gICAgICAgICAgICAgICAgX2NvbnRlbnRIZWlnaHRzID0gW107XG5cbiAgICAgICAgICAgICAgICBfY2FwdGlvbi5lYWNoKCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gJCh0aGlzKS5pbm5lckhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIF9jYXB0aW9uSGVpZ2h0cy5wdXNoKCBoZWlnaHQgKTtcblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIHZhciBtYXhIZWlnaHRDYXB0aW9uID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgX2NhcHRpb25IZWlnaHRzKTtcblxuXG4gICAgICAgICAgICAgICAgX2NvbnRlbnQuZWFjaCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9ICQodGhpcykuaW5uZXJIZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgICAgICBfY29udGVudEhlaWdodHMucHVzaCggaGVpZ2h0ICk7XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICB2YXIgbWF4SGVpZ2h0Q29udGVudCA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIF9jb250ZW50SGVpZ2h0cyk7XG5cbiAgICAgICAgICAgICAgICBfY2FwdGlvbi5pbm5lckhlaWdodCggbWF4SGVpZ2h0Q2FwdGlvbiApO1xuICAgICAgICAgICAgICAgIF9jb250ZW50LmlubmVySGVpZ2h0KCBtYXhIZWlnaHRDb250ZW50ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgTWVudSA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cpLFxuICAgICAgICAgICAgX21lbnVCdG4gPSBfb2JqLmZpbmQoJy5zaXRlX19oZWFkZXJfX2J0bicpLFxuICAgICAgICAgICAgX21lbnVJdGVtcyA9IF9vYmouZmluZCgnLnNpdGVfX2hlYWRlci1tZW51JyksXG4gICAgICAgICAgICBfaHRtbCA9ICQoJ2h0bWwnKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2Nsb3NlTWVudSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ29wZW5lZCcgKTtcblxuICAgICAgICAgICAgICAgIF9odG1sLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cteSc6ICdhdXRvJ1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9tZW51SXRlbXMuYXR0ciggJ3N0eWxlJywgJycgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LnNjcm9sbFRvcCgpID4gMCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoJ2ZpeGVkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCdmaXhlZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cblxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9tZW51QnRuLm9uKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9vYmouaGFzQ2xhc3MoICdvcGVuZWQnICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VNZW51KCk7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vcGVuTWVudSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb3Blbk1lbnUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdvcGVuZWQnICk7XG5cbiAgICAgICAgICAgICAgICBfaHRtbC5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LnNjcm9sbFRvcCgpID4gX29iai5pbm5lckhlaWdodCgpLzIgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcygnZml4ZWQnKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcygnZml4ZWQnKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfTtcblxuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBQb3B1cCA9IGZ1bmN0aW9uKCBvYmogKXtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX3BvcHVwUGFkZGluZyA9IDQwLFxuICAgICAgICAgICAgX2J0blNob3cgPSAgJCggJy5wb3B1cF9fb3BlbicgKSxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfYnRuQ2xvc2UgPSBfb2JqLmZpbmQoICcucG9wdXBfX2Nsb3NlLCAucG9wdXBfX2NhbmNlbCcgKSxcbiAgICAgICAgICAgIF93cmFwID0gX29iai5maW5kKCAnLnBvcHVwX193cmFwJyApLFxuICAgICAgICAgICAgX2NvbnRlbnRzID0gX29iai5maW5kKCAnLnBvcHVwX19jb250ZW50JyApLFxuICAgICAgICAgICAgX3Njcm9sbENvbnRlaW5lciA9ICQoICdodG1sJyApLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApLFxuICAgICAgICAgICAgX3RpbWVyID0gc2V0VGltZW91dCggZnVuY3Rpb24oKXt9LCAxICk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9jZW50ZXJXcmFwID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBpZiAoIF93aW5kb3cuaGVpZ2h0KCkgLSAoIF9wb3B1cFBhZGRpbmcgKiAyICkgLSBfd3JhcC5oZWlnaHQoKSA+IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgIF93cmFwLmNzcyggeyB0b3A6ICggKCBfd2luZG93LmhlaWdodCgpIC0gKCBfcG9wdXBQYWRkaW5nICogMiApICkgLSBfd3JhcC5oZWlnaHQoKSApIC8gMiB9ICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3dyYXAuY3NzKCB7IHRvcDogMCB9ICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9nZXRTY3JvbGxXaWR0aCA9IGZ1bmN0aW9uICgpe1xuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyksXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbEJhcldpZHRoO1xuXG4gICAgICAgICAgICAgICAgc2Nyb2xsRGl2LmNsYXNzTmFtZSA9ICdwb3B1cF9fc2Nyb2xsYmFyLW1lYXN1cmUnO1xuXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCggc2Nyb2xsRGl2ICk7XG5cbiAgICAgICAgICAgICAgICBzY3JvbGxCYXJXaWR0aCA9IHNjcm9sbERpdi5vZmZzZXRXaWR0aCAtIHNjcm9sbERpdi5jbGllbnRXaWR0aDtcblxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2Nyb2xsRGl2KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBzY3JvbGxCYXJXaWR0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaGlkZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX29iai5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfc2Nyb2xsQ29udGVpbmVyLmNzcygge1xuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiAwXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3BvcHVwX29wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAncG9wdXBfaGlkZScgKTtcblxuICAgICAgICAgICAgICAgIF90aW1lciA9IHNldFRpbWVvdXQoIGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5jc3MgKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdwb3B1cF9oaWRlJyApO1xuICAgICAgICAgICAgICAgIH0sIDMwMCApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIF9vYmpbIDAgXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb25FdmVudHMgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NlbnRlcldyYXAoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfYnRuU2hvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zaG93KCAkKCB0aGlzICkuYXR0ciggJ2RhdGEtcG9wdXAnICkgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfd3JhcC5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oIGUgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX29iai5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX2J0bkNsb3NlLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2hvdyA9IGZ1bmN0aW9uKCBjbGFzc05hbWUgKXtcbiAgICAgICAgICAgICAgICBfc2V0UG9wdXBDb250ZW50KCBjbGFzc05hbWUgKTtcblxuICAgICAgICAgICAgICAgIF9zY3JvbGxDb250ZWluZXIuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2hpZGRlbicsXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDogX2dldFNjcm9sbFdpZHRoKClcbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ3BvcHVwX29wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICBfY2VudGVyV3JhcCgpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldFBvcHVwQ29udGVudCA9IGZ1bmN0aW9uKCBjbGFzc05hbWUgKXtcbiAgICAgICAgICAgICAgICB2YXIgY3VyQ29udGVudCA9IF9jb250ZW50cy5maWx0ZXIoICcucG9wdXBfXycgKyBjbGFzc05hbWUgKTtcblxuICAgICAgICAgICAgICAgIF9jb250ZW50cy5jc3MoIHsgZGlzcGxheTogJ25vbmUnIH0gKTtcbiAgICAgICAgICAgICAgICBjdXJDb250ZW50LmNzcyggeyBkaXNwbGF5OiAnYmxvY2snIH0gKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcblxuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxufSApKCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbiggZnVuY3Rpb24oKSB7XG5cbiAgICAkKCBmdW5jdGlvbigpIHtcblxuICAgICAgICAkLmVhY2goICQoJy5jaG9vc2UtZGF0YScpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBDaG9vc2VEYXRhKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLm9yZGVyJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IFBhc3RlRGF0YSggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5wbGFucycpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBEYXRlUGxhbiggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgIH0gKTtcblxuICAgIHZhciBDaG9vc2VEYXRhID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2l0ZW1zID0gX29iai5maW5kKCcuY2hvb3NlLWRhdGFfX2l0ZW1zJyksXG4gICAgICAgICAgICBfaW5wdXQgPSBfaXRlbXMuZmluZCgnaW5wdXQnKSxcbiAgICAgICAgICAgIF9yZWRpcmVjdEJ0biA9IF9vYmouZmluZCgnLmJ0bl9uZXh0JyksXG4gICAgICAgICAgICBfZGF0YVJhZGlvID0ge30sXG4gICAgICAgICAgICBfZGF0YUNoZWNrYm94ID0ge30sXG4gICAgICAgICAgICBfZGF0YUlucHV0ID0ge30sXG4gICAgICAgICAgICBfaWRJdGVtcyA9IHt9LFxuICAgICAgICAgICAgX3ZhbHVlSW5wdXRJdGVtcyA9IHt9O1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX2lucHV0Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoICEoJCh0aGlzKS5hdHRyKCd0eXBlJykgPT09ICd0ZXh0JykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZ2V0RGF0YSggJCh0aGlzKSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93cml0ZUluU2Vzc2lvblN0b3JhZ2UoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdpZEl0ZW1zJywgSlNPTi5zdHJpbmdpZnkoX2lkSXRlbXMpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGtleXVwOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoICQodGhpcykuYXR0cigndHlwZScpID09PSAndGV4dCcgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZ2V0RGF0YSggJCh0aGlzKSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93cml0ZUluU2Vzc2lvblN0b3JhZ2UoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdpZEl0ZW1zJywgSlNPTi5zdHJpbmdpZnkoX2lkSXRlbXMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndmFsdWVJbnB1dCcsIEpTT04uc3RyaW5naWZ5KF92YWx1ZUlucHV0SXRlbXMpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGtleWRvd246IGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAkKHRoaXMpLmhhc0NsYXNzKCdzaXRlX19pbnB1dF9udW0nKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkLmluQXJyYXkoZS5rZXlDb2RlLCBbNDYsIDgsIDksIDI3LCAxMywgMTEwLCAxOTBdKSAhPT0gLTEgfHxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZS5rZXlDb2RlID09IDY1ICYmIGUuY3RybEtleSA9PT0gdHJ1ZSkgfHxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZS5rZXlDb2RlID09IDY3ICYmIGUuY3RybEtleSA9PT0gdHJ1ZSkgfHxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZS5rZXlDb2RlID09IDg4ICYmIGUuY3RybEtleSA9PT0gdHJ1ZSkgfHxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZS5rZXlDb2RlID49IDM1ICYmIGUua2V5Q29kZSA8PSAzOSkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChlLnNoaWZ0S2V5IHx8IChlLmtleUNvZGUgPCA0OCB8fCBlLmtleUNvZGUgPiA1NykpICYmIChlLmtleUNvZGUgPCA5NiB8fCBlLmtleUNvZGUgPiAxMDUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9yZWRpcmVjdEJ0bi5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhU3JjID0gY3VySXRlbS5kYXRhKCdzcmMnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3dyaXRlQWxsSWQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBkYXRhU3JjO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9nZXREYXRhID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9IGVsZW07XG5cbiAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5hdHRyKCd0eXBlJykgPT09ICdyYWRpbycgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGN1ckl0ZW0ucGFyZW50cygnLnBsYW5zJykubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfZGF0YVJhZGlvLnJhdGVQbGFuID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25UeXBlOiBjdXJJdGVtLmRhdGEoJ3JhdGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY3VySXRlbS5hdHRyKCd2YWx1ZScpXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2RhdGFSYWRpb1tjdXJJdGVtLmF0dHIoJ25hbWUnKV0gPSBjdXJJdGVtLmF0dHIoJ3ZhbHVlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIF9pZEl0ZW1zW2N1ckl0ZW0uYXR0cignbmFtZScpXSA9IGN1ckl0ZW0uYXR0cignaWQnKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiggY3VySXRlbS5hdHRyKCd0eXBlJykgPT09ICdjaGVja2JveCcgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBjdXJJdGVtLmlzKFwiOmNoZWNrZWRcIikgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9kYXRhQ2hlY2tib3hbY3VySXRlbS5hdHRyKCduYW1lJyldID0gY3VySXRlbS5hdHRyKCd2YWx1ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkSXRlbXNbY3VySXRlbS5hdHRyKCduYW1lJyldID0gY3VySXRlbS5hdHRyKCdpZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfZGF0YUNoZWNrYm94W2N1ckl0ZW0uYXR0cignbmFtZScpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfaWRJdGVtc1tjdXJJdGVtLmF0dHIoJ25hbWUnKV07XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiggY3VySXRlbS5hdHRyKCd0eXBlJykgPT09ICd0ZXh0JyApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIGN1ckl0ZW0udmFsKCkgIT0gJycgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9kYXRhSW5wdXRbY3VySXRlbS5hdHRyKCduYW1lJyldID0gY3VySXRlbS52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZEl0ZW1zW2N1ckl0ZW0uYXR0cignbmFtZScpXSA9IGN1ckl0ZW0uYXR0cignaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF92YWx1ZUlucHV0SXRlbXNbY3VySXRlbS5hdHRyKCdpZCcpXSA9IGN1ckl0ZW0udmFsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF9kYXRhSW5wdXRbY3VySXRlbS5hdHRyKCduYW1lJyldO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF9pZEl0ZW1zW2N1ckl0ZW0uYXR0cignbmFtZScpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfdmFsdWVJbnB1dEl0ZW1zW2N1ckl0ZW0uYXR0cignaWQnKV07XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZXRDaGVja2VkTmVlZElucHV0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBpZiggbG9jYWxTdG9yYWdlLmlkSXRlbXMgIT0gdW5kZWZpbmVkICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9pbnB1dC5lYWNoKCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5hdHRyKCd0eXBlJykgPT09ICdjaGVja2JveCcgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIGN1ckl0ZW0uYXR0cigndHlwZScpID09PSAndGV4dCcgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLnZhbCgnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGFsbElkID0gSlNPTi5wYXJzZSggbG9jYWxTdG9yYWdlLmlkSXRlbXMpLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZUlucHV0ID0gSlNPTi5wYXJzZSggbG9jYWxTdG9yYWdlLnZhbHVlSW5wdXQgKTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IoIHZhciBrZXkgaW4gYWxsSWQgICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IGFsbElkWyBrZXkgXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2lucHV0LmVhY2goIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5maWx0ZXIoJyMnKyBpdGVtICsnJykucHJvcCgnY2hlY2tlZCcsIHRydWUgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGl0ZW0pXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5hdHRyKCd0eXBlJykgPT09ICd0ZXh0JyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IoIHZhciBrZXkyIGluIHZhbHVlSW5wdXQgICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbTEgPSB2YWx1ZUlucHV0WyBrZXkyIF07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0uZmlsdGVyKCcjJysgaXRlbSArJycpLnZhbCggaXRlbTEgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cblxuXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3dyaXRlQWxsSWQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9pbnB1dC5lYWNoKCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGN1ckl0ZW0uaXMoXCI6Y2hlY2tlZFwiKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGN1ckl0ZW0uYXR0cigndHlwZScpID09PSAncmFkaW8nICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2lkSXRlbXNbY3VySXRlbS5hdHRyKCduYW1lJyldID0gY3VySXRlbS5hdHRyKCdpZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIGN1ckl0ZW0uYXR0cigndHlwZScpID09PSAnY2hlY2tib3gnICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGN1ckl0ZW0uaXMoXCI6Y2hlY2tlZFwiKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaWRJdGVtc1tjdXJJdGVtLmF0dHIoJ25hbWUnKV0gPSBjdXJJdGVtLmF0dHIoJ2lkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfaWRJdGVtc1tjdXJJdGVtLmF0dHIoJ25hbWUnKV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5hdHRyKCd0eXBlJykgPT09ICd0ZXh0JyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGN1ckl0ZW0udmFsKCkgIT0gJycgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaWRJdGVtc1tjdXJJdGVtLmF0dHIoJ25hbWUnKV0gPSBjdXJJdGVtLmF0dHIoJ2lkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZhbHVlSW5wdXRJdGVtc1tjdXJJdGVtLmF0dHIoJ2lkJyldID0gY3VySXRlbS52YWwoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfaWRJdGVtc1tjdXJJdGVtLmF0dHIoJ25hbWUnKV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF92YWx1ZUlucHV0SXRlbXNbY3VySXRlbS5hdHRyKCdpZCcpXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndmFsdWVJbnB1dCcsIEpTT04uc3RyaW5naWZ5KF92YWx1ZUlucHV0SXRlbXMpKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaWRJdGVtcycsIEpTT04uc3RyaW5naWZ5KF9pZEl0ZW1zKSk7XG5cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF93cml0ZURhdGFJbk9iakFmdGVyTG9hZCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX2lucHV0LmVhY2goIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5pcyhcIjpjaGVja2VkXCIpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5hdHRyKCd0eXBlJykgPT09ICdyYWRpbycgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5wYXJlbnRzKCcucGxhbnMnKS5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RhdGFSYWRpby5yYXRlUGxhbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25UeXBlOiBjdXJJdGVtLmRhdGEoJ3JhdGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjdXJJdGVtLmF0dHIoJ3ZhbHVlJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RhdGFSYWRpb1tjdXJJdGVtLmF0dHIoJ25hbWUnKV0gPSBjdXJJdGVtLmF0dHIoJ3ZhbHVlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiggY3VySXRlbS5hdHRyKCd0eXBlJykgPT09ICdjaGVja2JveCcgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5pcyhcIjpjaGVja2VkXCIpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kYXRhQ2hlY2tib3hbY3VySXRlbS5hdHRyKCduYW1lJyldID0gY3VySXRlbS5hdHRyKCd2YWx1ZScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgX2RhdGFDaGVja2JveFtjdXJJdGVtLmF0dHIoJ25hbWUnKV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBjdXJJdGVtLmF0dHIoJ3R5cGUnKSA9PT0gJ3RleHQnICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGN1ckl0ZW0udmFsKCkgIT0gJycgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGF0YUlucHV0W2N1ckl0ZW0uYXR0cignbmFtZScpXSA9IGN1ckl0ZW0udmFsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgX2RhdGFJbnB1dFtjdXJJdGVtLmF0dHIoJ25hbWUnKV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3dyaXRlSW5TZXNzaW9uU3RvcmFnZSgpO1xuICAgICAgICAgICAgICAgIF93cml0ZUFsbElkKCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfd3JpdGVJblNlc3Npb25TdG9yYWdlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncmFkaW9DaG9vc2UnLCBKU09OLnN0cmluZ2lmeShfZGF0YVJhZGlvKSk7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NoZWNrYm94Q2hvb3NlJywgSlNPTi5zdHJpbmdpZnkoX2RhdGFDaGVja2JveCkpO1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdpbnB1dFZhbHVlJywgSlNPTi5zdHJpbmdpZnkoX2RhdGFJbnB1dCkpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfc2V0Q2hlY2tlZE5lZWRJbnB1dCgpO1xuICAgICAgICAgICAgICAgIF93cml0ZURhdGFJbk9iakFmdGVyTG9hZCgpO1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBQYXN0ZURhdGEgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfY2hvc2VuRGF0YSA9IF9vYmouZmluZCgnLm9yZGVyX19jaG9zZW4tZGF0YSBzcGFuJyksXG4gICAgICAgICAgICBfZGF0YVJhZGlvLFxuICAgICAgICAgICAgX2RhdGFDaGVja2JveCxcbiAgICAgICAgICAgIF9kYXRhSW5wdXQsXG4gICAgICAgICAgICBfaW5wdXQgPSBfb2JqLmZpbmQoJ2lucHV0I2lucHV0XzFfNScpLFxuICAgICAgICAgICAgX2FyciA9IFtdLFxuICAgICAgICAgICAgX3N0ciA9ICcnO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG5cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF93cml0ZUluQmxvY2sgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIHZhciBkaXZSYXRlID0gJycsXG4gICAgICAgICAgICAgICAgICAgIG51bSA9ICcnLFxuICAgICAgICAgICAgICAgICAgICBhcnIgPSBbXTtcblxuICAgICAgICAgICAgICAgIGZvciggdmFyIGtleSBpbiBfZGF0YVJhZGlvICApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IF9kYXRhUmFkaW9bIGtleSBdICsgJywgJztcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKCBfZGF0YVJhZGlvLnJhdGVQbGFuICE9IHVuZGVmaW5lZCApIHtcblxuICAgICAgICAgICAgICAgICAgICAkLmVhY2goIF9kYXRhUmFkaW8ucmF0ZVBsYW4sIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBfZGF0YVJhZGlvLnJhdGVQbGFuLnZhbHVlLnNwbGl0KCcgJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfZGF0YVJhZGlvLnJhdGVQbGFuLnNlc3Npb25UeXBlID09PSAnc2Vzc2lvbiBwcmljaW5nJyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdlJhdGUgPSAnPHNwYW4+JysgX2RhdGFSYWRpby5yYXRlUGxhbi5zZXNzaW9uVHlwZSArJyAoJysgdmFsdWVbMF0gKycgc2Vzc2lvbnMpPC9zcGFuPicgKyAnLCAnO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIF9kYXRhUmFkaW8ucmF0ZVBsYW4uc2Vzc2lvblR5cGUgPT09ICdtaW51dGUgcHJpY2luZycgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWludXRlcyA9IHZhbHVlWzBdLnJlcGxhY2UoL1teMC05XSsvZywnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggbWludXRlcyA+IDEwMDAwMCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW51dGVzID0gbWludXRlcy8xMDAwMDAwICsgJ00nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXZSYXRlID0gJzxzcGFuPicrIF9kYXRhUmFkaW8ucmF0ZVBsYW4uc2Vzc2lvblR5cGUgKycgKCcrIG1pbnV0ZXMgKycgbWludXRlcyAoJyArIHZhbHVlWzJdICsgJy9taW51dGUpPC9zcGFuPicgKyAnLCAnO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiggZGl2UmF0ZSA9PSAnJyApIHtcblxuICAgICAgICAgICAgICAgICAgICBkaXZSYXRlID0gJyc7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IoIHZhciBrZXkxIGluIF9kYXRhQ2hlY2tib3ggICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKGtleTEpXG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiggYXJyLmxlbmd0aCA+IDAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGFyci5sZW5ndGggPT0gMSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtID0gJysgJyArIGFyci5sZW5ndGggKyAnIHNlcnZpY2UnO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG51bSA9ICcrICcgKyBhcnIubGVuZ3RoICsgJyBzZXJ2aWNlJztcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgaXRlbTIgPSAnJztcblxuICAgICAgICAgICAgICAgIGZvciggdmFyIGtleTIgaW4gX2RhdGFJbnB1dCAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKF9kYXRhSW5wdXQuaGFzT3duUHJvcGVydHkoa2V5MikpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTIgPSBfZGF0YUlucHV0WyBrZXkyIF0gICsgJyAnO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0yID0gJyc7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiggZGl2UmF0ZSA9PSAnJyApIHtcblxuICAgICAgICAgICAgICAgICAgICBfY2hvc2VuRGF0YS5odG1sKCdZb3UgY2hvc2UgJyArIGl0ZW0gKyAncG9ydHM6ICcgKyBpdGVtMiArIG51bSArICcuJyk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIF9jaG9zZW5EYXRhLmh0bWwoJ1lvdSBjaG9zZSAnICsgZGl2UmF0ZSArIGl0ZW0gKyBudW0gKyAnKS4nKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF93cml0ZUluSGlkZGVuID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfc3RyID0gJyc7XG5cbiAgICAgICAgICAgICAgICBmb3IoIHZhciBrZXkgaW4gX2RhdGFSYWRpbyAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBfZGF0YVJhZGlvWyBrZXkgXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiggdHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfc3RyICs9ICcnKyBpdGVtICsnOyAnXG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKCB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciggdmFyIGtleTEgaW4gaXRlbSAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbTEgPSBpdGVtWyBrZXkxIF07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RyICs9ICcnKyBpdGVtMSArJzsgJ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZm9yKCB2YXIga2V5MyBpbiBfZGF0YUNoZWNrYm94ICApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbTMgPSBfZGF0YUNoZWNrYm94WyBrZXkzIF07XG5cbiAgICAgICAgICAgICAgICAgICAgX3N0ciArPSAnJysgaXRlbTMgKyc7ICdcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBpdGVtNCA9ICcnO1xuXG4gICAgICAgICAgICAgICAgZm9yKCB2YXIga2V5NCBpbiBfZGF0YUlucHV0ICApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoX2RhdGFJbnB1dC5oYXNPd25Qcm9wZXJ0eShrZXk0KSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtNCA9IF9kYXRhSW5wdXRbIGtleTQgXTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtNCA9ICcnO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBfc3RyICs9ICcnKyBpdGVtNCArJzsgJ1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2lucHV0LnZhbCggX3N0ciApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2dldFNlc3Npb25EYXRhID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBpZiggbG9jYWxTdG9yYWdlLnJhZGlvQ2hvb3NlICE9IHVuZGVmaW5lZCApIHtcblxuICAgICAgICAgICAgICAgICAgICBfZGF0YVJhZGlvID0gSlNPTi5wYXJzZSggbG9jYWxTdG9yYWdlLnJhZGlvQ2hvb3NlICk7XG4gICAgICAgICAgICAgICAgICAgIF9kYXRhQ2hlY2tib3ggPSBKU09OLnBhcnNlKCBsb2NhbFN0b3JhZ2UuY2hlY2tib3hDaG9vc2UgKTtcbiAgICAgICAgICAgICAgICAgICAgX2RhdGFJbnB1dCA9IEpTT04ucGFyc2UoIGxvY2FsU3RvcmFnZS5pbnB1dFZhbHVlICk7XG5cbiAgICAgICAgICAgICAgICAgICAgX3dyaXRlSW5IaWRkZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgX3dyaXRlSW5CbG9jaygpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICQoJ2JvZHknKS5kYXRhKCdzcmMnKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgX2dldFNlc3Npb25EYXRhKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBEYXRlUGxhbiA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9pdGVtcyA9IF9vYmouZmluZCgnLnBsYW5zX19pdGVtJyksXG4gICAgICAgICAgICBfcmFkaW8gPSBfb2JqLmZpbmQoJ2lucHV0W3R5cGU9XCJyYWRpb1wiXScpLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRBY3RpdmVDbGFzcygpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfcmFkaW8ub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IGN1ckl0ZW0ucGFyZW50cygnLnBsYW5zX19pdGVtJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhKCBwYXJlbnQuaGFzQ2xhc3MoJ2FjdGl2ZScpICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlbXMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX2l0ZW1zLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0UmFkaW8gPSBjdXJJdGVtLmZpbmQoJ2lucHV0W3R5cGU9XCJyYWRpb1wiXTpmaXJzdCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggISggY3VySXRlbS5oYXNDbGFzcygnYWN0aXZlJykgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVtcy5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RSYWRpby50cmlnZ2VyKCdjbGljaycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZXRBY3RpdmVDbGFzcyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGFjdGl2ZVJhZGlvID0gX3JhZGlvLmZpbHRlcignOmNoZWNrZWQnKSxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gYWN0aXZlUmFkaW8ucGFyZW50cygnLnBsYW5zX19pdGVtJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LmFkZENsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxufSApKCk7XG4iLCIoIGZ1bmN0aW9uKCkge1xuXG4gICAgJCggZnVuY3Rpb24oKSB7XG4gICAgICAgICd1c2Ugc3RyaWN0JztcblxuICAgICAgICAkLmVhY2goICQoJy5vcmRlcl9fcGxhY2UnKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgRm9ybVZhbGlkYXRvciggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuXG4gICAgfSApO1xuXG4gICAgdmFyIEZvcm1WYWxpZGF0b3IgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfZm9ybSA9ICBfb2JqLmZpbmQoJ2Zvcm0nKSxcbiAgICAgICAgICAgIF9maWVsZHNSZXF1aXJlZCA9IF9vYmouZmluZCgnaW5wdXRbZGF0YS1yZXF1aXJlZD1cInJlcXVpcmVkXCJdLCB0ZXh0YXJlYVtkYXRhLXJlcXVpcmVkPVwicmVxdWlyZWRcIl0sIGlucHV0W2FyaWEtcmVxdWlyZWQ9XCJ0cnVlXCJdLCB0ZXh0YXJlYVthcmlhLXJlcXVpcmVkPVwidHJ1ZVwiXScpLFxuICAgICAgICAgICAgX3ZhbGlkRmllbGQgPSBfb2JqLmZpbmQoJ2lucHV0W2RhdGEtdmFsaWRhdGlvbj1cInZhbGlkXCJdJyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBfY29uc3RydWN0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYWRkTm90VG91Y2hlZENsYXNzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX2ZpZWxkc1JlcXVpcmVkLmVhY2goIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCAkKHRoaXMpLnZhbCgpID09PSAnJyApe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCAnbm90LXRvdWNoZWQnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF92YWxpZEZpZWxkLmVhY2goIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICBfdmFsaWRhdGVGaWVsZCggJCggdGhpcyApICk7XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb25FdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfZm9ybS5vbigge1xuICAgICAgICAgICAgICAgICAgICBzdWJtaXQ6IGZ1bmN0aW9uKCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2FkZE5vdFRvdWNoZWRDbGFzcygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX2ZpZWxkc1JlcXVpcmVkLmhhc0NsYXNzKCdub3QtdG91Y2hlZCcpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5maW5kKCcubm90LXRvdWNoZWQ6Zmlyc3QnKS5mb2N1cygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gaWYoIF92YWxpZEZpZWxkLmhhc0NsYXNzKCdub3QtdmFsaWQnKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouZmluZCgnLm5vdC12YWxpZDpmaXJzdCcpLmZvY3VzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9maWVsZHNSZXF1aXJlZC5vbigge1xuICAgICAgICAgICAgICAgICAgICBrZXlwcmVzczogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoICdub3QtdG91Y2hlZCcgKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3ZhbGlkRmllbGQub24oIHtcbiAgICAgICAgICAgICAgICAgICAga2V5dXA6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfdmFsaWRhdGVGaWVsZCggJCggdGhpcyApICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfbWFrZU5vdFZhbGlkID0gZnVuY3Rpb24gKCBmaWVsZCApIHtcbiAgICAgICAgICAgICAgICBmaWVsZC5hZGRDbGFzcyggJ25vdC12YWxpZCcgKTtcbiAgICAgICAgICAgICAgICBmaWVsZC5yZW1vdmVDbGFzcyggJ3ZhbGlkJyApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9tYWtlVmFsaWQgPSBmdW5jdGlvbiAoIGZpZWxkICkge1xuICAgICAgICAgICAgICAgIGZpZWxkLnJlbW92ZUNsYXNzKCAnbm90LXZhbGlkJyApO1xuICAgICAgICAgICAgICAgIGZpZWxkLmFkZENsYXNzKCAndmFsaWQnICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3ZhbGlkYXRlRW1haWwgPSBmdW5jdGlvbiAoIGVtYWlsICkge1xuICAgICAgICAgICAgICAgIHZhciByZSA9IC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xuICAgICAgICAgICAgICAgIHJldHVybiByZS50ZXN0KGVtYWlsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfdmFsaWRhdGVQaG9uZSA9IGZ1bmN0aW9uICggcGhvbmUgKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlID0gL14oPzpcXChcXGR7M31cXCl8XFxkezN9KVstIF0/XFxkezN9Wy0gXT9cXGR7NH0kLztcbiAgICAgICAgICAgICAgICByZXR1cm4gcmUudGVzdChwaG9uZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3ZhbGlkYXRlRmllbGQgPSBmdW5jdGlvbiAoIGZpZWxkLCBlICkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBmaWVsZC5hdHRyKCAndHlwZScpLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBmaWVsZC5hdHRyKCAnY2xhc3MnKTtcblxuICAgICAgICAgICAgICAgIC8vaWYoIHR5cGUgPT09ICdlbWFpbCcgfHwgdHlwZSA9PT0gJ3RleHQnICl7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyAgICBpZiggZmllbGQudmFsKCkgPT09ICcnICl7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgIF9tYWtlTm90VmFsaWQoIGZpZWxkICk7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAvLyAgICB9XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL31cblxuICAgICAgICAgICAgICAgIGlmKCB0eXBlID09PSAnZW1haWwnICl7XG4gICAgICAgICAgICAgICAgICAgIGlmKCAhX3ZhbGlkYXRlRW1haWwoIGZpZWxkLnZhbCgpICkgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9tYWtlTm90VmFsaWQoIGZpZWxkICk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvL2lmKCBjbGFzc05hbWUuaW5kZXhPZignc2l0ZV9faW5wdXRfcGhvbmUnKSArIDEgKXtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICAgIGlmKCBmaWVsZC52YWwoKSAhPSAnJyApIHtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICAgICAgICBpZiggIV92YWxpZGF0ZVBob25lKCBmaWVsZC52YWwoKSApICl7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICBfbWFrZU5vdFZhbGlkKCBmaWVsZCApO1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIC8vICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyAgICB9XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL31cblxuICAgICAgICAgICAgICAgIF9tYWtlVmFsaWQoIGZpZWxkICk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcbiAgICAgICAgX3NlbGYuY2hlY2tWYWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB2YWxpZCA9IHRydWU7XG5cbiAgICAgICAgICAgIF9maWVsZHMuZWFjaCggZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICQoIHRoaXMgKS5yZW1vdmVDbGFzcyggJ25vdC10b3VjaGVkJyApO1xuICAgICAgICAgICAgICAgIGlmKCAkKCB0aGlzICkuaGFzQ2xhc3MoICdub3QtdmFsaWQnICkgKXtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgcmV0dXJuIHZhbGlkO1xuICAgICAgICB9O1xuXG4gICAgICAgIF9jb25zdHJ1Y3RvcigpO1xuICAgIH07XG5cbn0gKSgpO1xuXG5cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
