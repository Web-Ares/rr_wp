"use strict";!function(){$(function(){$.each($(".clouds"),function(){new t($(this))}),$.each($(".guy"),function(){new n($(this))}),$.each($(".site__content_full"),function(){new o($(this))}),$.each($(".plans"),function(){new i($(this))}),$.each($(".site__header"),function(){new e($(this))}),$(".popup").each(function(){new s($(this))}),$(document).bind("gform_confirmation_loaded",function(){$(".popup__request").addClass("popup__request_no-bg")})});var t=function(t){var n=this,o=t,i=o,e=$(window),s=(e.width(),function(){e.on({resize:function(){r(),a()},load:function(){a()},scroll:function(){a()}})}),a=function(){var t,n=o.offset().top,i=n-e.height(),s=n+o.height(),a=(s-e.scrollTop())/(s-i);a>1?t=0:a<0&&(t=1),a<1&&a>0&&(t=1-a),o.hasClass("putted-all")&&(t=.5),c(i,s,t)},c=function(t,n,o){i.each(function(){var t=$(this),n=100,i=1;t.hasClass("clouds_1")&&(i=-1),0==o?t.css({"-webkit-transform":"translateX("+-n*i+"%)",transform:"translateX("+-n*i+"%)"}):1==o?t.css({"-webkit-transform":"translateX("+-n*i+"%)",transform:"translateX("+-n*i+"%)"}):(o>=.5&&(o=1-o),t.css({"-webkit-transform":"translateX("+200*o*i+"%)",transform:"translateX("+200*o*i+"%)"}))})},r=function(){var t=e.height(),n=$(".site").height();n<=t?o.addClass("putted-all"):o.removeClass("putted-all")},h=function(){o[0].obj=n,s(),r()};h()},n=function(t){var n=this,o=t,i=o.find(".guy__hand"),e=$(window),s=e.width(),a=function(){e.on({resize:function(){s!=e.width()&&(s=e.width()+1,e.width()<768&&i.css({"-webkit-transform":"none",transform:"none"})),h(),r(),c()},load:function(){e.width()>=768&&c()},scroll:function(){e.width()>=768&&c()}})},c=function(){var t,n=e.height(),s=o.offset().top,a=i.offset().top-n,c=s-n+o.height();o.hasClass("putted")&&(a=i.offset().top-n/2,c=n/2.5);var r=(c-e.scrollTop())/(c-a);r>1?t=0:r<0&&(t=1),r<1&&r>0&&(t=1-r),o.hasClass("putted-all")&&(t=1),u(a,c,t)},r=function(){var t=e.height(),n=e.scrollTop(),s=i.height(),a=i.offset().top;s+a<t+n&&$(".site").height()>2*t?o.addClass("putted"):o.removeClass("putted")},h=function(){var t=e.height(),n=$(".site").height();n<=t?o.addClass("putted-all"):o.removeClass("putted-all")},u=function(t,n,o){var s=n-t;i.each(function(){var n=$(this),i=n.data("rotate-start"),a=n.data("rotate-finish"),c=i+(a-i)/s*(e.scrollTop()-t);1==o?n.css({"-webkit-transform":"rotate( "+-a+"deg )",transform:"rotate( "+-a+"deg )"}):0==o?n.css({"-webkit-transform":"rotate( "+-i+"deg )",transform:"rotate( "+-i+"deg )"}):n.css({"-webkit-transform":"rotate( "+-c+"deg )",transform:"rotate( "+-c+"deg )"})})},f=function(){o[0].obj=n,a(),r(),h()};f()},o=function(t){var n=this,o=t,i=$(window),e=$(".site__header"),s=function(){i.on({resize:function(){a()}})},a=function(){var t=e.height();o.height(i.height()-t),o.css({"min-height":o.find(">div:first").height()})},c=function(){o[0].obj=n,s(),a()};c()},i=function(t){var n=this,o=t,i=$(window),e=o.find(".plans__list_caption"),s=o.find(".plans__list-row:not(.plans__list_caption)"),a=[],c=[],r=function(){i.on({load:function(){i.width()>=1024&&h()},resize:function(){i.width()<1024?(e.css({height:""}),s.css({height:""})):h()}})},h=function(){a=[],c=[],e.each(function(){var t=$(this).innerHeight();a.push(t)});var t=Math.max.apply(Math,a);s.each(function(){var t=$(this).innerHeight();c.push(t)});var n=Math.max.apply(Math,c);e.innerHeight(t),s.innerHeight(n)},u=function(){o[0].obj=n,r()};u()},e=function(t){var n=this,o=t,i=($(window),o.find(".site__header__btn")),e=o.find(".site__header-menu"),s=($(".site__content"),$("html")),a=function(){o.removeClass("opened"),s.css({"overflow-y":"auto"}),e.attr("style","")},c=function(){i.on({click:function(){return o.hasClass("opened")?a():r(),!1}})},r=function(){o.addClass("opened"),s.css({"overflow-y":"hidden"})},h=function(){c(),o[0].obj=n};h()},s=function(t){var n=this,o=40,i=$(".popup__open"),e=t,s=e.find(".popup__close, .popup__cancel"),a=e.find(".popup__wrap"),c=e.find(".popup__content"),r=$("html"),h=$(window),u=setTimeout(function(){},1),f=function(){h.height()-2*o-a.height()>0?a.css({top:(h.height()-2*o-a.height())/2}):a.css({top:0})},d=function(){var t,n=document.createElement("div");return n.className="popup__scrollbar-measure",document.body.appendChild(n),t=n.offsetWidth-n.clientWidth,document.body.removeChild(n),t},l=function(){e.css({overflowY:"hidden"}),r.css({overflowY:"auto",paddingRight:0}),e.removeClass("popup_opened"),e.addClass("popup_hide"),u=setTimeout(function(){e.css({overflowY:"auto"}),e.removeClass("popup_hide")},300)},p=function(){e[0].obj=n,_()},_=function(){h.on({resize:function(){f()}}),i.on({click:function(){return w($(this).attr("data-popup")),!1}}),a.on({click:function(t){t.stopPropagation()}}),e.on({click:function(){return l(),!1}}),s.on({click:function(){return l(),!1}})},w=function(t){g(t),r.css({overflowY:"hidden",paddingRight:d()}),e.addClass("popup_opened"),f()},g=function(t){var n=c.filter(".popup__"+t);c.css({display:"none"}),n.css({display:"block"})};p()}}();
"use strict";!function(){$(function(){$.each($(".choose-data"),function(){new t($(this))}),$.each($(".order"),function(){new e($(this))}),$.each($(".plans"),function(){new a($(this))})});var t=function(t){var e=this,a=t,n=a.find(".choose-data__items"),r=n.find("input"),i=a.find(".btn_next"),o={},s={},c={},l={},d={},f=function(){r.on({click:function(){"text"!==$(this).attr("type")&&(u($(this)),y(),localStorage.setItem("idItems",JSON.stringify(l)))},keyup:function(){"text"===$(this).attr("type")&&(u($(this)),y(),localStorage.setItem("idItems",JSON.stringify(l)),localStorage.setItem("valueInput",JSON.stringify(d)))},keydown:function(t){if($(this).hasClass("site__input_num")){if($.inArray(t.keyCode,[46,8,9,27,13,110,190])!==-1||65==t.keyCode&&t.ctrlKey===!0||67==t.keyCode&&t.ctrlKey===!0||88==t.keyCode&&t.ctrlKey===!0||t.keyCode>=35&&t.keyCode<=39)return;(t.shiftKey||t.keyCode<48||t.keyCode>57)&&(t.keyCode<96||t.keyCode>105)&&t.preventDefault()}}}),i.on({click:function(){var t=$(this),e=t.data("src");return p(),window.location.href=e,!1}})},u=function(t){var e=t;"radio"===e.attr("type")?(e.parents(".plans").length?o.ratePlan={sessionType:e.data("rate"),value:e.attr("value")}:o[e.attr("name")]=e.attr("value"),l[e.attr("name")]=e.attr("id")):"checkbox"===e.attr("type")?e.is(":checked")?(s[e.attr("name")]=e.attr("value"),l[e.attr("name")]=e.attr("id")):(delete s[e.attr("name")],delete l[e.attr("name")]):"text"===e.attr("type")&&(""!=e.val()?(c[e.attr("name")]=e.val(),l[e.attr("name")]=e.attr("id"),d[e.attr("id")]=e.val()):(delete c[e.attr("name")],delete l[e.attr("name")],delete d[e.attr("id")]))},v=function(){if(void 0!=localStorage.idItems){r.each(function(){var t=$(this);"checkbox"===t.attr("type")?t.prop("checked",!1):"text"===t.attr("type")&&t.val("")});var t=JSON.parse(localStorage.idItems),e=JSON.parse(localStorage.valueInput);for(var a in t){var n=t[a];r.each(function(){var t=$(this);if(t.filter("#"+n).prop("checked",!0),console.log(n),"text"===t.attr("type"))for(var a in e){var r=e[a];t.filter("#"+n).val(r)}})}}},p=function(){r.each(function(){var t=$(this);t.is(":checked")&&("radio"===t.attr("type")?l[t.attr("name")]=t.attr("id"):"checkbox"===t.attr("type")&&(t.is(":checked")?l[t.attr("name")]=t.attr("id"):delete l[t.attr("name")])),"text"===t.attr("type")&&(""!=t.val()?(l[t.attr("name")]=t.attr("id"),d[t.attr("id")]=t.val()):(delete l[t.attr("name")],delete d[t.attr("id")]),localStorage.setItem("valueInput",JSON.stringify(d)))}),localStorage.setItem("idItems",JSON.stringify(l))},h=function(){r.each(function(){var t=$(this);t.is(":checked")&&("radio"===t.attr("type")?t.parents(".plans").length?o.ratePlan={sessionType:t.data("rate"),value:t.attr("value")}:o[t.attr("name")]=t.attr("value"):"checkbox"===t.attr("type")&&(t.is(":checked")?s[t.attr("name")]=t.attr("value"):delete s[t.attr("name")])),"text"===t.attr("type")&&(""!=t.val()?c[t.attr("name")]=t.val():delete c[t.attr("name")])}),y(),p()},y=function(){localStorage.setItem("radioChoose",JSON.stringify(o)),localStorage.setItem("checkboxChoose",JSON.stringify(s)),localStorage.setItem("inputValue",JSON.stringify(c))},m=function(){a[0].obj=e,f(),v(),h()};m()},e=function(t){var e,a,n,r=this,i=t,o=i.find(".order__chosen-data span"),s=i.find("input#input_1_5"),c="",l=function(){},d=function(){var t="",r="",i=[];for(var s in e)var c=e[s]+", ";void 0!=e.ratePlan&&$.each(e.ratePlan,function(){var a=e.ratePlan.value.split(" ");if("session pricing"===e.ratePlan.sessionType)t="<span>"+e.ratePlan.sessionType+" ("+a[0]+" sessions)</span>, ";else if("minute pricing"===e.ratePlan.sessionType){var n=a[0].replace(/[^0-9]+/g,"");n>1e5&&(n=n/1e6+"M"),t="<span>"+e.ratePlan.sessionType+" ("+n+" minutes ("+a[2]+"/minute)</span>, "}}),""==t&&(t="");for(var l in a)i.push(l);i.length>0&&(r=1==i.length?"+ "+i.length+" service":"+ "+i.length+" service");var d="";for(var f in n)d=n.hasOwnProperty(f)?n[f]+" ":"";""==t?o.html("You chose "+c+"ports: "+d+r+"."):o.html("You chose "+t+c+r+").")},f=function(){c="";for(var t in e){var r=e[t];if("string"==typeof r)c+=""+r+"; ";else if("object"==typeof r)for(var i in r){var o=r[i];c+=""+o+"; "}}for(var l in a){var d=a[l];c+=""+d+"; "}var f="";for(var u in n)f=n.hasOwnProperty(u)?n[u]:"",c+=""+f+"; ";s.val(c)},u=function(){void 0!=localStorage.radioChoose?(e=JSON.parse(localStorage.radioChoose),a=JSON.parse(localStorage.checkboxChoose),n=JSON.parse(localStorage.inputValue),f(),d()):window.location.href=$("body").data("src")},v=function(){i[0].obj=r,l(),u()};v()},a=function(t){var e=this,a=t,n=a.find(".plans__item"),r=a.find('input[type="radio"]'),i=$(window),o=function(){i.on({load:function(){s()}}),r.on({change:function(){var t=$(this),e=t.parents(".plans__item");e.hasClass("active")||(n.removeClass("active"),e.addClass("active"))}}),n.on({click:function(){var t=$(this),e=t.find('input[type="radio"]:first');t.hasClass("active")||(n.removeClass("active"),t.addClass("active"),e.trigger("click"))}})},s=function(){var t=r.filter(":checked"),e=t.parents(".plans__item");e.addClass("active")},c=function(){a[0].obj=e,o()};c()}}();
!function(){$(function(){"use strict";$.each($(".order__place"),function(){new t($(this))})});var t=function(t){var n=this,i=t,a=i.find("form"),e=i.find('input[data-required="required"], textarea[data-required="required"], input[aria-required="true"], textarea[aria-required="true"]'),o=i.find('input[data-validation="valid"]'),s=function(){u(),i[0].obj=n},r=function(){e.each(function(){""===$(this).val()&&$(this).addClass("not-touched")}),o.each(function(){l($(this))})},u=function(){a.on({submit:function(){return r(),e.hasClass("not-touched")?(i.find(".not-touched:first").focus(),!1):!o.hasClass("not-valid")||(i.find(".not-valid:first").focus(),!1)}}),e.on({keypress:function(){$(this).removeClass("not-touched")}}),o.on({keyup:function(){l($(this))}})},d=function(t){t.addClass("not-valid"),t.removeClass("valid")},c=function(t){t.removeClass("not-valid"),t.addClass("valid")},f=function(t){var n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return n.test(t)},l=function(t,n){var i=t.attr("type");t.attr("class");return"email"!==i||f(t.val())?void c(t):(d(t),!1)};n.checkValid=function(){var t=!0;return _fields.each(function(){$(this).removeClass("not-touched"),$(this).hasClass("not-valid")&&(t=!1)}),t},s()}}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5tYWluLmpzIiwianF1ZXJ5LmNoZWNrb3V0LmpzIiwianF1ZXJ5LmZvcm0udmFsaWRhdG9yLmpzIl0sIm5hbWVzIjpbIiQiLCJlYWNoIiwiQ2xvdWRzQW5pbWF0ZWQiLCJ0aGlzIiwiR3V5QW5pbWF0ZWQiLCJDb250ZW50RnVsbEhlaWdodCIsIlBsYW5zQ2hvb3NlSGVpZ2h0IiwiTWVudSIsIlBvcHVwIiwiZG9jdW1lbnQiLCJiaW5kIiwiYWRkQ2xhc3MiLCJvYmoiLCJfc2VsZiIsIl9vYmoiLCJfaXRlbXMiLCJfd2luZG93Iiwid2luZG93IiwiX2FkZEV2ZW50cyIsIndpZHRoIiwib24iLCJyZXNpemUiLCJfY2hlY2tQdXRJbldpbmRvdyIsIl9jaGVja1Njcm9sbCIsImxvYWQiLCJzY3JvbGwiLCJzY3JvbGxQb2ludCIsInRvcFBvcyIsIm9mZnNldCIsInRvcCIsInN0YXJ0IiwiaGVpZ2h0IiwiZW5kIiwieCIsInNjcm9sbFRvcCIsImhhc0NsYXNzIiwiX2FuaW1hdGlvbkVsZW1zIiwic3RhcnRQb2ludCIsImVuZFBvaW50IiwiY3VyRWxlbSIsInRyYW5zbGF0ZUZpbmlzaCIsImNzcyIsIi13ZWJraXQtdHJhbnNmb3JtIiwidHJhbnNmb3JtIiwiaGVpZ2h0V2luIiwiaGVpZ2h0U2l0ZSIsInJlbW92ZUNsYXNzIiwiX2luaXQiLCJfaGFuZCIsImZpbmQiLCJfZ2xvYmFsV2lkdGgiLCJfY2hlY2tHZXRJbldpbmRvdyIsIndpbmRvd0giLCJzY3JvbGxUb3BXaW4iLCJoZWlnaHRPYmoiLCJwb3NpdGlvbk9iaiIsInNlZ21lbnQiLCJyb3RhdGVTdGFydCIsImRhdGEiLCJyb3RhdGVGaW5pc2giLCJrb2ZSb3RhdGUiLCJfaGVhZGVyIiwiX3NldEhlaWdodCIsImhlYWRlckhlaWd0aCIsIm1pbi1oZWlnaHQiLCJfY2FwdGlvbiIsIl9jb250ZW50IiwiX2NhcHRpb25IZWlnaHRzIiwiX2NvbnRlbnRIZWlnaHRzIiwiaW5uZXJIZWlnaHQiLCJwdXNoIiwibWF4SGVpZ2h0Q2FwdGlvbiIsIk1hdGgiLCJtYXgiLCJhcHBseSIsIm1heEhlaWdodENvbnRlbnQiLCJfbWVudUJ0biIsIl9tZW51SXRlbXMiLCJfaHRtbCIsIl9jbG9zZU1lbnUiLCJvdmVyZmxvdy15IiwiYXR0ciIsIl9vbkV2ZW50cyIsImNsaWNrIiwiX29wZW5NZW51IiwiX3BvcHVwUGFkZGluZyIsIl9idG5TaG93IiwiX2J0bkNsb3NlIiwiX3dyYXAiLCJfY29udGVudHMiLCJfc2Nyb2xsQ29udGVpbmVyIiwiX3RpbWVyIiwic2V0VGltZW91dCIsIl9jZW50ZXJXcmFwIiwiX2dldFNjcm9sbFdpZHRoIiwic2Nyb2xsQmFyV2lkdGgiLCJzY3JvbGxEaXYiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiYm9keSIsImFwcGVuZENoaWxkIiwib2Zmc2V0V2lkdGgiLCJjbGllbnRXaWR0aCIsInJlbW92ZUNoaWxkIiwiX2hpZGUiLCJvdmVyZmxvd1kiLCJwYWRkaW5nUmlnaHQiLCJfc2hvdyIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJfc2V0UG9wdXBDb250ZW50IiwiY3VyQ29udGVudCIsImZpbHRlciIsImRpc3BsYXkiLCJDaG9vc2VEYXRhIiwiUGFzdGVEYXRhIiwiRGF0ZVBsYW4iLCJfaW5wdXQiLCJfcmVkaXJlY3RCdG4iLCJfZGF0YVJhZGlvIiwiX2RhdGFDaGVja2JveCIsIl9kYXRhSW5wdXQiLCJfaWRJdGVtcyIsIl92YWx1ZUlucHV0SXRlbXMiLCJfZ2V0RGF0YSIsIl93cml0ZUluU2Vzc2lvblN0b3JhZ2UiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImtleXVwIiwia2V5ZG93biIsImluQXJyYXkiLCJrZXlDb2RlIiwiY3RybEtleSIsInNoaWZ0S2V5IiwicHJldmVudERlZmF1bHQiLCJjdXJJdGVtIiwiZGF0YVNyYyIsIl93cml0ZUFsbElkIiwibG9jYXRpb24iLCJocmVmIiwiZWxlbSIsInBhcmVudHMiLCJsZW5ndGgiLCJyYXRlUGxhbiIsInNlc3Npb25UeXBlIiwidmFsdWUiLCJpcyIsInZhbCIsIl9zZXRDaGVja2VkTmVlZElucHV0IiwidW5kZWZpbmVkIiwiaWRJdGVtcyIsInByb3AiLCJhbGxJZCIsInBhcnNlIiwidmFsdWVJbnB1dCIsImtleSIsIml0ZW0iLCJjb25zb2xlIiwibG9nIiwia2V5MiIsIml0ZW0xIiwiX3dyaXRlRGF0YUluT2JqQWZ0ZXJMb2FkIiwiX2Nob3NlbkRhdGEiLCJfc3RyIiwiX3dyaXRlSW5CbG9jayIsImRpdlJhdGUiLCJudW0iLCJhcnIiLCJzcGxpdCIsIm1pbnV0ZXMiLCJyZXBsYWNlIiwia2V5MSIsIml0ZW0yIiwiaGFzT3duUHJvcGVydHkiLCJodG1sIiwiX3dyaXRlSW5IaWRkZW4iLCJrZXkzIiwiaXRlbTMiLCJpdGVtNCIsImtleTQiLCJfZ2V0U2Vzc2lvbkRhdGEiLCJyYWRpb0Nob29zZSIsImNoZWNrYm94Q2hvb3NlIiwiaW5wdXRWYWx1ZSIsIl9yYWRpbyIsIl9zZXRBY3RpdmVDbGFzcyIsImNoYW5nZSIsInBhcmVudCIsImZpcnN0UmFkaW8iLCJ0cmlnZ2VyIiwiYWN0aXZlUmFkaW8iLCJGb3JtVmFsaWRhdG9yIiwiX2Zvcm0iLCJfZmllbGRzUmVxdWlyZWQiLCJfdmFsaWRGaWVsZCIsIl9jb25zdHJ1Y3RvciIsIl9hZGROb3RUb3VjaGVkQ2xhc3MiLCJfdmFsaWRhdGVGaWVsZCIsInN1Ym1pdCIsImZvY3VzIiwia2V5cHJlc3MiLCJfbWFrZU5vdFZhbGlkIiwiZmllbGQiLCJfbWFrZVZhbGlkIiwiX3ZhbGlkYXRlRW1haWwiLCJlbWFpbCIsInJlIiwidGVzdCIsInR5cGUiLCJjaGVja1ZhbGlkIiwidmFsaWQiLCJfZmllbGRzIl0sIm1hcHBpbmdzIjoiQUFBQSxjQUNBLFdBRUlBLEVBQUcsV0FFQ0EsRUFBRUMsS0FBTUQsRUFBRSxXQUFZLFdBRWxCLEdBQUlFLEdBQWdCRixFQUFFRyxTQUkxQkgsRUFBRUMsS0FBTUQsRUFBRSxRQUFTLFdBRWYsR0FBSUksR0FBYUosRUFBRUcsU0FJdkJILEVBQUVDLEtBQU1ELEVBQUUsdUJBQXdCLFdBRTlCLEdBQUlLLEdBQW1CTCxFQUFFRyxTQUk3QkgsRUFBRUMsS0FBTUQsRUFBRSxVQUFXLFdBRWpCLEdBQUlNLEdBQW1CTixFQUFFRyxTQUk3QkgsRUFBRUMsS0FBTUQsRUFBRSxpQkFBa0IsV0FFeEIsR0FBSU8sR0FBTVAsRUFBRUcsU0FJaEJILEVBQUUsVUFBVUMsS0FBTSxXQUVkLEdBQUlPLEdBQU9SLEVBQUVHLFNBS2pCSCxFQUFFUyxVQUFVQyxLQUFLLDRCQUE2QixXQUUxQ1YsRUFBRSxtQkFBbUJXLFNBQVMsMkJBTXRDLElBQUlULEdBQWlCLFNBQVVVLEdBRzNCLEdBQUlDLEdBQVFWLEtBQ1JXLEVBQU9GLEVBQ1BHLEVBQVNELEVBQ1RFLEVBQVVoQixFQUFFaUIsUUFJWkMsR0FIZUYsRUFBUUcsUUFHVixXQUVUSCxFQUFRSSxJQUNKQyxPQUFRLFdBRUpDLElBQ0FDLEtBR0pDLEtBQU0sV0FFRkQsS0FHSkUsT0FBUSxXQUVKRixTQU1aQSxFQUFlLFdBRVgsR0FHSUcsR0FIQUMsRUFBU2IsRUFBS2MsU0FBU0MsSUFDdkJDLEVBQVFILEVBQVNYLEVBQVFlLFNBQ3pCQyxFQUFNTCxFQUFTYixFQUFLaUIsU0FHcEJFLEdBQU1ELEVBQU1oQixFQUFRa0IsY0FBa0JGLEVBQU9GLEVBRTVDRyxHQUFJLEVBRUxQLEVBQWMsRUFHTk8sRUFBSSxJQUVaUCxFQUFjLEdBSVpPLEVBQUksR0FBU0EsRUFBSSxJQUVuQlAsRUFBYyxFQUFJTyxHQUdqQm5CLEVBQUtxQixTQUFTLGdCQUVmVCxFQUFjLElBSWxCVSxFQUFpQk4sRUFBT0UsRUFBS04sSUFHakNVLEVBQWtCLFNBQVdDLEVBQVlDLEVBQVVaLEdBRS9DWCxFQUFPZCxLQUFNLFdBRVQsR0FBSXNDLEdBQVV2QyxFQUFHRyxNQUVicUMsRUFBa0IsSUFDbEJQLEVBQUksQ0FFSk0sR0FBUUosU0FBUyxjQUVqQkYsTUFJZ0IsR0FBZlAsRUFFRGEsRUFBUUUsS0FFSkMsb0JBQXFCLGVBQWtCRixFQUFrQlAsRUFBSyxLQUM5RFUsVUFBYSxlQUFrQkgsRUFBa0JQLEVBQUssT0FJbkMsR0FBZlAsRUFFUmEsRUFBUUUsS0FFSkMsb0JBQXFCLGVBQWtCRixFQUFrQlAsRUFBSyxLQUM5RFUsVUFBYSxlQUFrQkgsRUFBa0JQLEVBQUssUUEyQ3REUCxHQUFlLEtBRWZBLEVBQWMsRUFBSUEsR0FJdEJhLEVBQVFFLEtBRUpDLG9CQUFxQixjQUErQixJQUFkaEIsRUFBb0JPLEVBQUssS0FDL0RVLFVBQWEsY0FBK0IsSUFBZGpCLEVBQW9CTyxFQUFLLFdBVXZFWCxFQUFvQixXQUVoQixHQUFJc0IsR0FBWTVCLEVBQVFlLFNBQ3BCYyxFQUFhN0MsRUFBRSxTQUFTK0IsUUFFeEJjLElBQWNELEVBRWQ5QixFQUFLSCxTQUFTLGNBSWRHLEVBQUtnQyxZQUFZLGVBS3pCQyxFQUFRLFdBRUpqQyxFQUFLLEdBQUdGLElBQU1DLEVBQ2RLLElBQ0FJLElBSVJ5QixNQUdBM0MsRUFBYyxTQUFVUSxHQUd4QixHQUFJQyxHQUFRVixLQUNSVyxFQUFPRixFQUNQb0MsRUFBUWxDLEVBQUttQyxLQUFLLGNBQ2xCakMsRUFBVWhCLEVBQUVpQixRQUNaaUMsRUFBZWxDLEVBQVFHLFFBR3ZCRCxFQUFhLFdBRVRGLEVBQVFJLElBQ0pDLE9BQVEsV0FFQTZCLEdBQWdCbEMsRUFBUUcsVUFFeEIrQixFQUFlbEMsRUFBUUcsUUFBVSxFQUc3QkgsRUFBUUcsUUFBVSxLQUVsQjZCLEVBQU1QLEtBQ0ZDLG9CQUFxQixPQUNyQkMsVUFBYSxVQU96QnJCLElBQ0E2QixJQUNBNUIsS0FHSkMsS0FBTSxXQUVFUixFQUFRRyxTQUFXLEtBRW5CSSxLQUtSRSxPQUFRLFdBRUFULEVBQVFHLFNBQVcsS0FFbkJJLFFBUWhCQSxFQUFlLFdBRVgsR0FJSUcsR0FKQTBCLEVBQVVwQyxFQUFRZSxTQUNsQkosRUFBU2IsRUFBS2MsU0FBU0MsSUFDdkJDLEVBQVFrQixFQUFNcEIsU0FBU0MsSUFBTXVCLEVBQzdCcEIsRUFBTUwsRUFBU3lCLEVBQVV0QyxFQUFLaUIsUUFHN0JqQixHQUFLcUIsU0FBUyxZQUVmTCxFQUFRa0IsRUFBTXBCLFNBQVNDLElBQU11QixFQUFRLEVBQ3JDcEIsRUFBTW9CLEVBQVEsSUFJbEIsSUFBSW5CLElBQU1ELEVBQU1oQixFQUFRa0IsY0FBa0JGLEVBQU9GLEVBRTVDRyxHQUFJLEVBRUxQLEVBQWMsRUFHTk8sRUFBSSxJQUVaUCxFQUFjLEdBSVpPLEVBQUksR0FBU0EsRUFBSSxJQUVuQlAsRUFBYyxFQUFJTyxHQUdqQm5CLEVBQUtxQixTQUFTLGdCQUVmVCxFQUFjLEdBS2xCVSxFQUFpQk4sRUFBT0UsRUFBS04sSUFJakN5QixFQUFvQixXQUVoQixHQUFJUCxHQUFZNUIsRUFBUWUsU0FDcEJzQixFQUFjckMsRUFBUWtCLFlBQ3RCb0IsRUFBWU4sRUFBTWpCLFNBQ2xCd0IsRUFBY1AsRUFBTXBCLFNBQVNDLEdBRTNCeUIsR0FBWUMsRUFBY1gsRUFBWVMsR0FBa0JyRCxFQUFFLFNBQVMrQixTQUF1QixFQUFaYSxFQUVoRjlCLEVBQUtILFNBQVMsVUFJZEcsRUFBS2dDLFlBQVksV0FLekJ4QixFQUFvQixXQUVoQixHQUFJc0IsR0FBWTVCLEVBQVFlLFNBQ3BCYyxFQUFhN0MsRUFBRSxTQUFTK0IsUUFFeEJjLElBQWNELEVBRWQ5QixFQUFLSCxTQUFTLGNBSWRHLEVBQUtnQyxZQUFZLGVBS3pCVixFQUFrQixTQUFXQyxFQUFZQyxFQUFVWixHQUUvQyxHQUFJOEIsR0FBVWxCLEVBQVdELENBRXpCVyxHQUFNL0MsS0FBTSxXQUVSLEdBQUlzQyxHQUFVdkMsRUFBR0csTUFDYnNELEVBQWNsQixFQUFRbUIsS0FBSyxnQkFDM0JDLEVBQWVwQixFQUFRbUIsS0FBSyxpQkFDNUJFLEVBQVlILEdBQWdCRSxFQUFlRixHQUFnQkQsR0FBWXhDLEVBQVFrQixZQUFjRyxFQUU3RSxJQUFmWCxFQUVEYSxFQUFRRSxLQUNKQyxvQkFBcUIsWUFBZWlCLEVBQWdCLFFBQ3BEaEIsVUFBYSxZQUFlZ0IsRUFBZ0IsVUFLekIsR0FBZmpDLEVBR1JhLEVBQVFFLEtBQ0pDLG9CQUFxQixZQUFlZSxFQUFlLFFBQ25EZCxVQUFhLFlBQWVjLEVBQWUsVUFRL0NsQixFQUFRRSxLQUNKQyxvQkFBcUIsWUFBZWtCLEVBQVksUUFDaERqQixVQUFhLFlBQWVpQixFQUFhLGFBT3pEYixFQUFRLFdBRUpqQyxFQUFLLEdBQUdGLElBQU1DLEVBQ2RLLElBQ0FpQyxJQUNBN0IsSUFJUnlCLE1BR0ExQyxFQUFvQixTQUFXTyxHQUUvQixHQUFJQyxHQUFRVixLQUNSVyxFQUFPRixFQUNQSSxFQUFVaEIsRUFBRWlCLFFBQ1o0QyxFQUFVN0QsRUFBRSxpQkFFWmtCLEVBQWEsV0FFVEYsRUFBUUksSUFDSkMsT0FBUSxXQUNKeUMsUUFLWkEsRUFBYSxXQUVULEdBQUlDLEdBQWVGLEVBQVE5QixRQUUzQmpCLEdBQUtpQixPQUFRZixFQUFRZSxTQUFXZ0MsR0FDaENqRCxFQUFLMkIsS0FDRHVCLGFBQWNsRCxFQUFLbUMsS0FBSyxjQUFjbEIsWUFHOUNnQixFQUFRLFdBQ0pqQyxFQUFLLEdBQUdGLElBQU1DLEVBQ2RLLElBQ0E0QyxJQUdSZixNQUdBekMsRUFBb0IsU0FBV00sR0FFL0IsR0FBSUMsR0FBUVYsS0FDUlcsRUFBT0YsRUFDUEksRUFBVWhCLEVBQUVpQixRQUNaZ0QsRUFBV25ELEVBQUttQyxLQUFLLHdCQUNyQmlCLEVBQVdwRCxFQUFLbUMsS0FBSyw4Q0FDckJrQixLQUNBQyxLQUVBbEQsRUFBYSxXQUVURixFQUFRSSxJQUNKSSxLQUFNLFdBRUVSLEVBQVFHLFNBQVcsTUFFbkIyQyxLQUtSekMsT0FBUSxXQUVBTCxFQUFRRyxRQUFVLE1BRWxCOEMsRUFBU3hCLEtBQ0xWLE9BQVEsS0FFWm1DLEVBQVN6QixLQUNMVixPQUFRLE1BS1orQixRQVFoQkEsRUFBYSxXQUNUSyxLQUNBQyxLQUVBSCxFQUFTaEUsS0FBTSxXQUVYLEdBQUk4QixHQUFTL0IsRUFBRUcsTUFBTWtFLGFBRXJCRixHQUFnQkcsS0FBTXZDLElBSTFCLElBQUl3QyxHQUFtQkMsS0FBS0MsSUFBSUMsTUFBTUYsS0FBTUwsRUFHNUNELEdBQVNqRSxLQUFNLFdBRVgsR0FBSThCLEdBQVMvQixFQUFFRyxNQUFNa0UsYUFFckJELEdBQWdCRSxLQUFNdkMsSUFJMUIsSUFBSTRDLEdBQW1CSCxLQUFLQyxJQUFJQyxNQUFNRixLQUFNSixFQUU1Q0gsR0FBU0ksWUFBYUUsR0FDdEJMLEVBQVNHLFlBQWFNLElBRzFCNUIsRUFBUSxXQUNKakMsRUFBSyxHQUFHRixJQUFNQyxFQUNkSyxJQUdSNkIsTUFHQXhDLEVBQU8sU0FBVUssR0FHakIsR0FBSUMsR0FBUVYsS0FDUlcsRUFBT0YsRUFFUGdFLEdBRFU1RSxFQUFHaUIsUUFDRkgsRUFBS21DLEtBQUssdUJBQ3JCNEIsRUFBYS9ELEVBQUttQyxLQUFLLHNCQUV2QjZCLEdBRFc5RSxFQUFFLGtCQUNMQSxFQUFFLFNBR1YrRSxFQUFhLFdBRVRqRSxFQUFLZ0MsWUFBYSxVQUVsQmdDLEVBQU1yQyxLQUNGdUMsYUFBYyxTQUdsQkgsRUFBV0ksS0FBTSxRQUFTLEtBRzlCQyxFQUFZLFdBRVJOLEVBQVN4RCxJQUVMK0QsTUFBTyxXQWFILE1BWElyRSxHQUFLcUIsU0FBVSxVQUVmNEMsSUFLQUssS0FJRyxNQU9uQkEsRUFBWSxXQUVSdEUsRUFBS0gsU0FBVSxVQUVmbUUsRUFBTXJDLEtBQ0Z1QyxhQUFjLFlBSXRCakMsRUFBUSxXQUVKbUMsSUFDQXBFLEVBQUssR0FBR0YsSUFBTUMsRUFLdEJrQyxNQUdBdkMsRUFBUSxTQUFVSSxHQUdsQixHQUFJQyxHQUFRVixLQUNSa0YsRUFBZ0IsR0FDaEJDLEVBQVl0RixFQUFHLGdCQUNmYyxFQUFPRixFQUNQMkUsRUFBWXpFLEVBQUttQyxLQUFNLGlDQUN2QnVDLEVBQVExRSxFQUFLbUMsS0FBTSxnQkFDbkJ3QyxFQUFZM0UsRUFBS21DLEtBQU0sbUJBQ3ZCeUMsRUFBbUIxRixFQUFHLFFBQ3RCZ0IsRUFBVWhCLEVBQUdpQixRQUNiMEUsRUFBU0MsV0FBWSxhQUFjLEdBR25DQyxFQUFjLFdBQ0w3RSxFQUFRZSxTQUE2QixFQUFoQnNELEVBQXNCRyxFQUFNekQsU0FBVyxFQUM3RHlELEVBQU0vQyxLQUFPWixLQUFTYixFQUFRZSxTQUE2QixFQUFoQnNELEVBQXdCRyxFQUFNekQsVUFBYSxJQUV0RnlELEVBQU0vQyxLQUFPWixJQUFLLEtBRzFCaUUsRUFBa0IsV0FDZCxHQUNJQyxHQURBQyxFQUFZdkYsU0FBU3dGLGNBQWUsTUFXeEMsT0FSQUQsR0FBVUUsVUFBWSwyQkFFdEJ6RixTQUFTMEYsS0FBS0MsWUFBYUosR0FFM0JELEVBQWlCQyxFQUFVSyxZQUFjTCxFQUFVTSxZQUVuRDdGLFNBQVMwRixLQUFLSSxZQUFZUCxHQUVuQkQsR0FFWFMsRUFBUSxXQUNKMUYsRUFBSzJCLEtBQ0RnRSxVQUFXLFdBRWZmLEVBQWlCakQsS0FDYmdFLFVBQVcsT0FDWEMsYUFBYyxJQUdsQjVGLEVBQUtnQyxZQUFhLGdCQUNsQmhDLEVBQUtILFNBQVUsY0FFZmdGLEVBQVNDLFdBQVksV0FFakI5RSxFQUFLMkIsS0FDRGdFLFVBQVcsU0FHZjNGLEVBQUtnQyxZQUFhLGVBQ25CLE1BR1BDLEVBQVEsV0FDSmpDLEVBQU0sR0FBSUYsSUFBTUMsRUFDaEJxRSxLQUVKQSxFQUFZLFdBQ1JsRSxFQUFRSSxJQUNKQyxPQUFRLFdBQ0p3RSxPQUdSUCxFQUFTbEUsSUFDTCtELE1BQU8sV0FFSCxNQURBd0IsR0FBTzNHLEVBQUdHLE1BQU84RSxLQUFNLGdCQUNoQixLQUdmTyxFQUFNcEUsSUFDRitELE1BQU8sU0FBVXlCLEdBQ2JBLEVBQUVDLHFCQUdWL0YsRUFBS00sSUFDRCtELE1BQU8sV0FFSCxNQURBcUIsTUFDTyxLQUdmakIsRUFBVW5FLElBQ04rRCxNQUFPLFdBRUgsTUFEQXFCLE1BQ08sTUFJbkJHLEVBQVEsU0FBVVQsR0FDZFksRUFBa0JaLEdBRWxCUixFQUFpQmpELEtBQ2JnRSxVQUFXLFNBQ1hDLGFBQWNaLE1BRWxCaEYsRUFBS0gsU0FBVSxnQkFDZmtGLEtBR0ppQixFQUFtQixTQUFVWixHQUN6QixHQUFJYSxHQUFhdEIsRUFBVXVCLE9BQVEsV0FBYWQsRUFFaERULEdBQVVoRCxLQUFPd0UsUUFBUyxTQUMxQkYsRUFBV3RFLEtBQU93RSxRQUFTLFVBUW5DbEU7QUMvc0JSLGNBQ0EsV0FFSS9DLEVBQUcsV0FFQ0EsRUFBRUMsS0FBTUQsRUFBRSxnQkFBaUIsV0FFdkIsR0FBSWtILEdBQVlsSCxFQUFFRyxTQUl0QkgsRUFBRUMsS0FBTUQsRUFBRSxVQUFXLFdBRWpCLEdBQUltSCxHQUFXbkgsRUFBRUcsU0FJckJILEVBQUVDLEtBQU1ELEVBQUUsVUFBVyxXQUVqQixHQUFJb0gsR0FBVXBILEVBQUVHLFVBTXhCLElBQUkrRyxHQUFhLFNBQVV0RyxHQUd2QixHQUFJQyxHQUFRVixLQUNSVyxFQUFPRixFQUNQRyxFQUFTRCxFQUFLbUMsS0FBSyx1QkFDbkJvRSxFQUFTdEcsRUFBT2tDLEtBQUssU0FDckJxRSxFQUFleEcsRUFBS21DLEtBQUssYUFDekJzRSxLQUNBQyxLQUNBQyxLQUNBQyxLQUNBQyxLQUdBekcsRUFBYSxXQUVUbUcsRUFBT2pHLElBQ0grRCxNQUFPLFdBRTRCLFNBQXpCbkYsRUFBRUcsTUFBTThFLEtBQUssVUFFZjJDLEVBQVU1SCxFQUFFRyxPQUNaMEgsSUFFQUMsYUFBYUMsUUFBUSxVQUFXQyxLQUFLQyxVQUFVUCxNQUt2RFEsTUFBTyxXQUUwQixTQUF6QmxJLEVBQUVHLE1BQU04RSxLQUFLLFVBRWIyQyxFQUFVNUgsRUFBRUcsT0FDWjBILElBRUFDLGFBQWFDLFFBQVEsVUFBV0MsS0FBS0MsVUFBVVAsSUFDL0NJLGFBQWFDLFFBQVEsYUFBY0MsS0FBS0MsVUFBVU4sTUFLMURRLFFBQVMsU0FBVXZCLEdBRWYsR0FBSTVHLEVBQUVHLE1BQU1nQyxTQUFTLG1CQUFxQixDQUV0QyxHQUFJbkMsRUFBRW9JLFFBQVF4QixFQUFFeUIsU0FBVSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksSUFBSyxZQUUvQixJQUFiekIsRUFBRXlCLFNBQWlCekIsRUFBRTBCLFdBQVksR0FFcEIsSUFBYjFCLEVBQUV5QixTQUFpQnpCLEVBQUUwQixXQUFZLEdBRXBCLElBQWIxQixFQUFFeUIsU0FBaUJ6QixFQUFFMEIsV0FBWSxHQUVqQzFCLEVBQUV5QixTQUFXLElBQU16QixFQUFFeUIsU0FBVyxHQUVqQyxRQUdDekIsRUFBRTJCLFVBQWEzQixFQUFFeUIsUUFBVSxJQUFNekIsRUFBRXlCLFFBQVUsTUFBU3pCLEVBQUV5QixRQUFVLElBQU16QixFQUFFeUIsUUFBVSxNQUNyRnpCLEVBQUU0QixxQkFPbEJsQixFQUFhbEcsSUFDVCtELE1BQU8sV0FFSCxHQUFJc0QsR0FBVXpJLEVBQUVHLE1BQ1p1SSxFQUFVRCxFQUFRL0UsS0FBSyxNQU0zQixPQUpBaUYsS0FFQTFILE9BQU8ySCxTQUFTQyxLQUFPSCxHQUVoQixNQU1uQmQsRUFBVyxTQUFVa0IsR0FFakIsR0FBSUwsR0FBVUssQ0FFZSxXQUF6QkwsRUFBUXhELEtBQUssU0FFVHdELEVBQVFNLFFBQVEsVUFBVUMsT0FFMUJ6QixFQUFXMEIsVUFDUEMsWUFBYVQsRUFBUS9FLEtBQUssUUFDMUJ5RixNQUFPVixFQUFReEQsS0FBSyxVQU14QnNDLEVBQVdrQixFQUFReEQsS0FBSyxTQUFXd0QsRUFBUXhELEtBQUssU0FJcER5QyxFQUFTZSxFQUFReEQsS0FBSyxTQUFXd0QsRUFBUXhELEtBQUssT0FFZCxhQUF6QndELEVBQVF4RCxLQUFLLFFBRWZ3RCxFQUFRVyxHQUFHLGFBRVo1QixFQUFjaUIsRUFBUXhELEtBQUssU0FBV3dELEVBQVF4RCxLQUFLLFNBQ25EeUMsRUFBU2UsRUFBUXhELEtBQUssU0FBV3dELEVBQVF4RCxLQUFLLGNBSXZDdUMsR0FBY2lCLEVBQVF4RCxLQUFLLGVBQzNCeUMsR0FBU2UsRUFBUXhELEtBQUssVUFHRCxTQUF6QndELEVBQVF4RCxLQUFLLFVBRUUsSUFBakJ3RCxFQUFRWSxPQUVUNUIsRUFBV2dCLEVBQVF4RCxLQUFLLFNBQVd3RCxFQUFRWSxNQUMzQzNCLEVBQVNlLEVBQVF4RCxLQUFLLFNBQVd3RCxFQUFReEQsS0FBSyxNQUM5QzBDLEVBQWlCYyxFQUFReEQsS0FBSyxPQUFTd0QsRUFBUVksY0FJeEM1QixHQUFXZ0IsRUFBUXhELEtBQUssZUFDeEJ5QyxHQUFTZSxFQUFReEQsS0FBSyxlQUN0QjBDLEdBQWlCYyxFQUFReEQsS0FBSyxVQU1qRHFFLEVBQXVCLFdBRW5CLEdBQTRCQyxRQUF4QnpCLGFBQWEwQixRQUF1QixDQUVwQ25DLEVBQU9wSCxLQUFNLFdBRVQsR0FBSXdJLEdBQVV6SSxFQUFFRyxLQUVhLGNBQXpCc0ksRUFBUXhELEtBQUssUUFFYndELEVBQVFnQixLQUFLLFdBQVcsR0FFUSxTQUF6QmhCLEVBQVF4RCxLQUFLLFNBRXBCd0QsRUFBUVksSUFBSSxLQU1wQixJQUFJSyxHQUFRMUIsS0FBSzJCLE1BQU83QixhQUFhMEIsU0FFakNJLEVBQWE1QixLQUFLMkIsTUFBTzdCLGFBQWE4QixXQUUxQyxLQUFLLEdBQUlDLEtBQU9ILEdBQVMsQ0FFckIsR0FBSUksR0FBT0osRUFBT0csRUFFbEJ4QyxHQUFPcEgsS0FBTSxXQUVULEdBQUl3SSxHQUFVekksRUFBRUcsS0FNaEIsSUFKQXNJLEVBQVF6QixPQUFPLElBQUs4QyxHQUFVTCxLQUFLLFdBQVcsR0FFOUNNLFFBQVFDLElBQUlGLEdBRWlCLFNBQXpCckIsRUFBUXhELEtBQUssUUFFYixJQUFLLEdBQUlnRixLQUFRTCxHQUFjLENBRTNCLEdBQUlNLEdBQVFOLEVBQVlLLEVBRXhCeEIsR0FBUXpCLE9BQU8sSUFBSzhDLEdBQVVULElBQUthLFNBZTNEdkIsRUFBYyxXQUVWdEIsRUFBT3BILEtBQU0sV0FFVCxHQUFJd0ksR0FBVXpJLEVBQUVHLEtBRVpzSSxHQUFRVyxHQUFHLGNBRWtCLFVBQXpCWCxFQUFReEQsS0FBSyxRQUVieUMsRUFBU2UsRUFBUXhELEtBQUssU0FBV3dELEVBQVF4RCxLQUFLLE1BRWQsYUFBekJ3RCxFQUFReEQsS0FBSyxVQUVoQndELEVBQVFXLEdBQUcsWUFFWDFCLEVBQVNlLEVBQVF4RCxLQUFLLFNBQVd3RCxFQUFReEQsS0FBSyxZQUl2Q3lDLEdBQVNlLEVBQVF4RCxLQUFLLFdBU1osU0FBekJ3RCxFQUFReEQsS0FBSyxVQUVRLElBQWpCd0QsRUFBUVksT0FFUjNCLEVBQVNlLEVBQVF4RCxLQUFLLFNBQVd3RCxFQUFReEQsS0FBSyxNQUM5QzBDLEVBQWlCYyxFQUFReEQsS0FBSyxPQUFTd0QsRUFBUVksY0FJeEMzQixHQUFTZSxFQUFReEQsS0FBSyxlQUN0QjBDLEdBQWlCYyxFQUFReEQsS0FBSyxRQUl6QzZDLGFBQWFDLFFBQVEsYUFBY0MsS0FBS0MsVUFBVU4sT0FNMURHLGFBQWFDLFFBQVEsVUFBV0MsS0FBS0MsVUFBVVAsS0FJbkR5QyxFQUEyQixXQUV2QjlDLEVBQU9wSCxLQUFNLFdBRVQsR0FBSXdJLEdBQVV6SSxFQUFFRyxLQUVac0ksR0FBUVcsR0FBRyxjQUVrQixVQUF6QlgsRUFBUXhELEtBQUssUUFFVHdELEVBQVFNLFFBQVEsVUFBVUMsT0FFMUJ6QixFQUFXMEIsVUFDUEMsWUFBYVQsRUFBUS9FLEtBQUssUUFDMUJ5RixNQUFPVixFQUFReEQsS0FBSyxVQUt4QnNDLEVBQVdrQixFQUFReEQsS0FBSyxTQUFXd0QsRUFBUXhELEtBQUssU0FJcEIsYUFBekJ3RCxFQUFReEQsS0FBSyxVQUVoQndELEVBQVFXLEdBQUcsWUFFWDVCLEVBQWNpQixFQUFReEQsS0FBSyxTQUFXd0QsRUFBUXhELEtBQUssZUFJNUN1QyxHQUFjaUIsRUFBUXhELEtBQUssV0FVakIsU0FBekJ3RCxFQUFReEQsS0FBSyxVQUVTLElBQWpCd0QsRUFBUVksTUFFVDVCLEVBQVdnQixFQUFReEQsS0FBSyxTQUFXd0QsRUFBUVksWUFJcEM1QixHQUFXZ0IsRUFBUXhELEtBQUssWUFPM0M0QyxJQUNBYyxLQUdKZCxFQUF5QixXQUVyQkMsYUFBYUMsUUFBUSxjQUFlQyxLQUFLQyxVQUFVVixJQUNuRE8sYUFBYUMsUUFBUSxpQkFBa0JDLEtBQUtDLFVBQVVULElBQ3RETSxhQUFhQyxRQUFRLGFBQWNDLEtBQUtDLFVBQVVSLEtBR3REMUUsRUFBUSxXQUVKakMsRUFBSyxHQUFHRixJQUFNQyxFQUNkSyxJQUNBb0ksSUFDQWEsSUFJUnBILE1BR0FvRSxFQUFZLFNBQVV2RyxHQUd0QixHQUdJMkcsR0FDQUMsRUFDQUMsRUFMQTVHLEVBQVFWLEtBQ1JXLEVBQU9GLEVBQ1B3SixFQUFjdEosRUFBS21DLEtBQUssNEJBSXhCb0UsRUFBU3ZHLEVBQUttQyxLQUFLLG1CQUVuQm9ILEVBQU8sR0FHUG5KLEVBQWEsYUFLYm9KLEVBQWdCLFdBRVosR0FBSUMsR0FBVSxHQUNWQyxFQUFNLEdBQ05DLElBRUosS0FBSyxHQUFJWixLQUFPdEMsR0FFWixHQUFJdUMsR0FBT3ZDLEVBQVlzQyxHQUFRLElBSVJOLFNBQXZCaEMsRUFBVzBCLFVBRVhqSixFQUFFQyxLQUFNc0gsRUFBVzBCLFNBQVUsV0FFekIsR0FBSUUsR0FBUTVCLEVBQVcwQixTQUFTRSxNQUFNdUIsTUFBTSxJQUU1QyxJQUF3QyxvQkFBcENuRCxFQUFXMEIsU0FBU0MsWUFFcEJxQixFQUFVLFNBQVVoRCxFQUFXMEIsU0FBU0MsWUFBYSxLQUFNQyxFQUFNLEdBQUksMEJBRWxFLElBQXdDLG1CQUFwQzVCLEVBQVcwQixTQUFTQyxZQUFtQyxDQUU5RCxHQUFJeUIsR0FBVXhCLEVBQU0sR0FBR3lCLFFBQVEsV0FBVyxHQUV0Q0QsR0FBVSxNQUVWQSxFQUFVQSxFQUFRLElBQVUsS0FJaENKLEVBQVUsU0FBVWhELEVBQVcwQixTQUFTQyxZQUFhLEtBQU15QixFQUFTLGFBQWV4QixFQUFNLEdBQUssdUJBUzNGLElBQVhvQixJQUVBQSxFQUFVLEdBSWQsS0FBSyxHQUFJTSxLQUFRckQsR0FFYmlELEVBQUluRyxLQUFLdUcsRUFJVEosR0FBSXpCLE9BQVMsSUFJVHdCLEVBRmMsR0FBZEMsRUFBSXpCLE9BRUUsS0FBT3lCLEVBQUl6QixPQUFTLFdBSXBCLEtBQU95QixFQUFJekIsT0FBUyxXQU1sQyxJQUFJOEIsR0FBUSxFQUVaLEtBQUssR0FBSWIsS0FBUXhDLEdBSVRxRCxFQUZBckQsRUFBV3NELGVBQWVkLEdBRWxCeEMsRUFBWXdDLEdBQVUsSUFJdEIsRUFPRCxLQUFYTSxFQUVBSCxFQUFZWSxLQUFLLGFBQWVsQixFQUFPLFVBQVlnQixFQUFRTixFQUFNLEtBSWpFSixFQUFZWSxLQUFLLGFBQWVULEVBQVVULEVBQU9VLEVBQU0sT0FLL0RTLEVBQWlCLFdBRWJaLEVBQU8sRUFFUCxLQUFLLEdBQUlSLEtBQU90QyxHQUFjLENBRTFCLEdBQUl1QyxHQUFPdkMsRUFBWXNDLEVBRXZCLElBQW9CLGdCQUFUQyxHQUVQTyxHQUFRLEdBQUlQLEVBQU0sU0FFZixJQUFvQixnQkFBVEEsR0FFZCxJQUFLLEdBQUllLEtBQVFmLEdBQVEsQ0FFckIsR0FBSUksR0FBUUosRUFBTWUsRUFFbEJSLElBQVEsR0FBSUgsRUFBTyxNQVEvQixJQUFLLEdBQUlnQixLQUFRMUQsR0FBaUIsQ0FFOUIsR0FBSTJELEdBQVEzRCxFQUFlMEQsRUFFM0JiLElBQVEsR0FBSWMsRUFBTyxLQUl2QixHQUFJQyxHQUFRLEVBRVosS0FBSyxHQUFJQyxLQUFRNUQsR0FJVDJELEVBRkEzRCxFQUFXc0QsZUFBZU0sR0FFbEI1RCxFQUFZNEQsR0FJWixHQUlaaEIsR0FBUSxHQUFJZSxFQUFPLElBSXZCL0QsR0FBT2dDLElBQUtnQixJQUdoQmlCLEVBQWtCLFdBRWtCL0IsUUFBNUJ6QixhQUFheUQsYUFFYmhFLEVBQWFTLEtBQUsyQixNQUFPN0IsYUFBYXlELGFBQ3RDL0QsRUFBZ0JRLEtBQUsyQixNQUFPN0IsYUFBYTBELGdCQUN6Qy9ELEVBQWFPLEtBQUsyQixNQUFPN0IsYUFBYTJELFlBRXRDUixJQUNBWCxLQUlBckosT0FBTzJILFNBQVNDLEtBQU83SSxFQUFFLFFBQVEwRCxLQUFLLFFBSzlDWCxFQUFRLFdBRUpqQyxFQUFLLEdBQUdGLElBQU1DLEVBQ2RLLElBQ0FvSyxJQUdSdkksTUFHQXFFLEVBQVcsU0FBVXhHLEdBR3JCLEdBQUlDLEdBQVFWLEtBQ1JXLEVBQU9GLEVBQ1BHLEVBQVNELEVBQUttQyxLQUFLLGdCQUNuQnlJLEVBQVM1SyxFQUFLbUMsS0FBSyx1QkFDbkJqQyxFQUFVaEIsRUFBRWlCLFFBR1pDLEVBQWEsV0FFVEYsRUFBUUksSUFDSkksS0FBTSxXQUVGbUssT0FLUkQsRUFBT3RLLElBQ0h3SyxPQUFRLFdBRUosR0FBSW5ELEdBQVV6SSxFQUFFRyxNQUNaMEwsRUFBU3BELEVBQVFNLFFBQVEsZUFFdEI4QyxHQUFPMUosU0FBUyxZQUVuQnBCLEVBQU8rQixZQUFZLFVBQ25CK0ksRUFBT2xMLFNBQVMsY0FPNUJJLEVBQU9LLElBQ0grRCxNQUFPLFdBRUgsR0FBSXNELEdBQVV6SSxFQUFFRyxNQUNaMkwsRUFBYXJELEVBQVF4RixLQUFLLDRCQUV2QndGLEdBQVF0RyxTQUFTLFlBRXBCcEIsRUFBTytCLFlBQVksVUFDbkIyRixFQUFROUgsU0FBUyxVQUNqQm1MLEVBQVdDLFFBQVEsY0FRbkNKLEVBQWtCLFdBRWQsR0FBSUssR0FBY04sRUFBTzFFLE9BQU8sWUFDNUI2RSxFQUFTRyxFQUFZakQsUUFBUSxlQUU3QjhDLEdBQU9sTCxTQUFTLFdBR3hCb0MsRUFBUSxXQUVKakMsRUFBSyxHQUFHRixJQUFNQyxFQUNkSyxJQUdSNkI7Q0N4bUJSLFdBRUkvQyxFQUFHLFdBQ0MsWUFFQUEsR0FBRUMsS0FBTUQsRUFBRSxpQkFBa0IsV0FFeEIsR0FBSWlNLEdBQWVqTSxFQUFFRyxVQU83QixJQUFJOEwsR0FBZ0IsU0FBVXJMLEdBRzFCLEdBQUlDLEdBQVFWLEtBQ1JXLEVBQU9GLEVBQ1BzTCxFQUFTcEwsRUFBS21DLEtBQUssUUFDbkJrSixFQUFrQnJMLEVBQUttQyxLQUFLLG9JQUM1Qm1KLEVBQWN0TCxFQUFLbUMsS0FBSyxrQ0FJeEJvSixFQUFlLFdBQ1huSCxJQUNBcEUsRUFBSyxHQUFHRixJQUFNQyxHQUVsQnlMLEVBQXNCLFdBRWxCSCxFQUFnQmxNLEtBQU0sV0FFSSxLQUFsQkQsRUFBRUcsTUFBTWtKLE9BRVJySixFQUFFRyxNQUFNUSxTQUFVLGlCQUsxQnlMLEVBQVluTSxLQUFNLFdBRWRzTSxFQUFnQnZNLEVBQUdHLFVBSzNCK0UsRUFBWSxXQUVSZ0gsRUFBTTlLLElBQ0ZvTCxPQUFRLFdBSUosTUFGQUYsS0FFSUgsRUFBZ0JoSyxTQUFTLGdCQUV6QnJCLEVBQUttQyxLQUFLLHNCQUFzQndKLFNBRXpCLElBR0xMLEVBQVlqSyxTQUFTLGVBRXZCckIsRUFBS21DLEtBQUssb0JBQW9Cd0osU0FFdkIsTUFZbkJOLEVBQWdCL0ssSUFDWnNMLFNBQVUsV0FFTjFNLEVBQUVHLE1BQU0yQyxZQUFhLGtCQUs3QnNKLEVBQVloTCxJQUNSOEcsTUFBTyxXQUVIcUUsRUFBZ0J2TSxFQUFHRyxXQUsvQndNLEVBQWdCLFNBQVdDLEdBQ3ZCQSxFQUFNak0sU0FBVSxhQUNoQmlNLEVBQU05SixZQUFhLFVBRXZCK0osRUFBYSxTQUFXRCxHQUNwQkEsRUFBTTlKLFlBQWEsYUFDbkI4SixFQUFNak0sU0FBVSxVQUVwQm1NLEVBQWlCLFNBQVdDLEdBQ3hCLEdBQUlDLEdBQUssd0pBQ1QsT0FBT0EsR0FBR0MsS0FBS0YsSUFNbkJSLEVBQWlCLFNBQVdLLEVBQU9oRyxHQUUvQixHQUFJc0csR0FBT04sRUFBTTNILEtBQU0sT0FDUDJILEdBQU0zSCxLQUFNLFFBVzVCLE9BQWEsVUFBVGlJLEdBQ0tKLEVBQWdCRixFQUFNdkQsV0FtQi9Cd0QsR0FBWUQsSUFsQkpELEVBQWVDLElBQ1IsR0F3QnZCL0wsR0FBTXNNLFdBQWEsV0FDZixHQUFJQyxJQUFRLENBVVosT0FSQUMsU0FBUXBOLEtBQU0sV0FDVkQsRUFBR0csTUFBTzJDLFlBQWEsZUFDbkI5QyxFQUFHRyxNQUFPZ0MsU0FBVSxlQUNwQmlMLEdBQVEsS0FLVEEsR0FHWGYiLCJmaWxlIjoib3JkZXIubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4oIGZ1bmN0aW9uKCkge1xuXG4gICAgJCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuY2xvdWRzJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IENsb3Vkc0FuaW1hdGVkKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLmd1eScpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBHdXlBbmltYXRlZCggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5zaXRlX19jb250ZW50X2Z1bGwnKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgQ29udGVudEZ1bGxIZWlnaHQoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcucGxhbnMnKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgUGxhbnNDaG9vc2VIZWlnaHQoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuc2l0ZV9faGVhZGVyJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IE1lbnUoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJCgnLnBvcHVwJykuZWFjaCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIG5ldyBQb3B1cCggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuXG4gICAgICAgICQoZG9jdW1lbnQpLmJpbmQoJ2dmb3JtX2NvbmZpcm1hdGlvbl9sb2FkZWQnLCBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAkKCcucG9wdXBfX3JlcXVlc3QnKS5hZGRDbGFzcygncG9wdXBfX3JlcXVlc3Rfbm8tYmcnKTtcblxuICAgICAgICB9ICk7XG5cbiAgICB9ICk7XG5cbiAgICB2YXIgQ2xvdWRzQW5pbWF0ZWQgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfaXRlbXMgPSBfb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KSxcbiAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IF93aW5kb3cud2lkdGgoKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrUHV0SW5XaW5kb3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoKTtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGw6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jaGVja1Njcm9sbCA9IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICB2YXIgdG9wUG9zID0gX29iai5vZmZzZXQoKS50b3AgLFxuICAgICAgICAgICAgICAgICAgICBzdGFydCA9IHRvcFBvcyAtIF93aW5kb3cuaGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgICAgIGVuZCA9IHRvcFBvcyArIF9vYmouaGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFBvaW50O1xuXG4gICAgICAgICAgICAgICAgdmFyIHggPSAoIGVuZCAtIF93aW5kb3cuc2Nyb2xsVG9wKCkgKSAvICggZW5kIC0gIHN0YXJ0ICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHggPiAxICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFBvaW50ID0gMDtcblxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICggeCA8IDAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsUG9pbnQgPSAxO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYoICggeCA8IDEgKSAmJiAoIHggPiAwICkgKXtcblxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxQb2ludCA9IDEgLSB4O1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKCAgX29iai5oYXNDbGFzcygncHV0dGVkLWFsbCcpICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFBvaW50ID0gMC41O1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2FuaW1hdGlvbkVsZW1zKCBzdGFydCwgZW5kLCBzY3JvbGxQb2ludCApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2FuaW1hdGlvbkVsZW1zID0gZnVuY3Rpb24gKCBzdGFydFBvaW50LCBlbmRQb2ludCwgc2Nyb2xsUG9pbnQgKSB7XG5cbiAgICAgICAgICAgICAgICBfaXRlbXMuZWFjaCggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJFbGVtID0gJCggdGhpcyApLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlU3RhcnQgPSAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlRmluaXNoID0gMTAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgeCA9IDE7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGN1ckVsZW0uaGFzQ2xhc3MoJ2Nsb3Vkc18xJykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSAtMTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBzY3JvbGxQb2ludCA9PSAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJFbGVtLmNzcygge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoJyArKCAtdHJhbnNsYXRlRmluaXNoICogeCApKyAnJSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsoIC10cmFuc2xhdGVGaW5pc2ggKiB4ICkrICclKSdcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIHNjcm9sbFBvaW50ID09IDEgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckVsZW0uY3NzKCB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsoIC10cmFuc2xhdGVGaW5pc2ggKiB4ICkrICclKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKCcgKyggLXRyYW5zbGF0ZUZpbmlzaCAqIHggKSsgJyUpJ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmKCBzY3JvbGxQb2ludCA8IDAuNSAmJiBzY3JvbGxQb2ludCA+IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgY3VyRWxlbS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoJyArKCBzY3JvbGxQb2ludCAqIDIwMCAqIHggKSsgJyUpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoJyArKCBzY3JvbGxQb2ludCAqIDIwMCAqIHggKSsgJyUpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIH0gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAvL31cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiggc2Nyb2xsUG9pbnQgPj0gMC41ICYmIHNjcm9sbFBvaW50IDwgMC44ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIGN1ckVsZW0uY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKCcgKyggdHJhbnNsYXRlRmluaXNoICogeCApKyAnJSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsoIHRyYW5zbGF0ZUZpbmlzaCAqIHggKSsgJyUpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIH0gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAvL31cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmKCBzY3JvbGxQb2ludCA+PSAwLjggKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgc2Nyb2xsUG9pbnQgPSAxLjMgLSBzY3JvbGxQb2ludDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBjdXJFbGVtLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsoIHNjcm9sbFBvaW50ICogMjAwICogeCApKyAnJSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsoIHNjcm9sbFBvaW50ICogMjAwICogeCApKyAnJSknXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgfSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggc2Nyb2xsUG9pbnQgPj0gMC41ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsUG9pbnQgPSAxIC0gc2Nyb2xsUG9pbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyRWxlbS5jc3MoIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKCcgKyggc2Nyb2xsUG9pbnQgKiAyMDAgKiB4ICkrICclKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKCcgKyggc2Nyb2xsUG9pbnQgKiAyMDAgKiB4ICkrICclKSdcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2NoZWNrUHV0SW5XaW5kb3cgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIHZhciBoZWlnaHRXaW4gPSBfd2luZG93LmhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHRTaXRlID0gJCgnLnNpdGUnKS5oZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgIGlmKCBoZWlnaHRTaXRlIDw9IGhlaWdodFdpbiApIHtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCdwdXR0ZWQtYWxsJyk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoJ3B1dHRlZC1hbGwnKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgX2NoZWNrUHV0SW5XaW5kb3coKTtcblxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgR3V5QW5pbWF0ZWQgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfaGFuZCA9IF9vYmouZmluZCgnLmd1eV9faGFuZCcpLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KSxcbiAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IF93aW5kb3cud2lkdGgoKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9nbG9iYWxXaWR0aCAhPSBfd2luZG93LndpZHRoKCkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSBfd2luZG93LndpZHRoKCkgKyAxO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDwgNzY4ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oYW5kLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ25vbmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICdub25lJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrUHV0SW5XaW5kb3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja0dldEluV2luZG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoKTtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSA3NjggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3dpbmRvdy53aWR0aCgpID49IDc2OCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2NoZWNrU2Nyb2xsID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgd2luZG93SCA9IF93aW5kb3cuaGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgICAgIHRvcFBvcyA9IF9vYmoub2Zmc2V0KCkudG9wLFxuICAgICAgICAgICAgICAgICAgICBzdGFydCA9IF9oYW5kLm9mZnNldCgpLnRvcCAtIHdpbmRvd0gsXG4gICAgICAgICAgICAgICAgICAgIGVuZCA9IHRvcFBvcyAtIHdpbmRvd0ggKyBfb2JqLmhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxQb2ludDtcblxuICAgICAgICAgICAgICAgIGlmKCAgX29iai5oYXNDbGFzcygncHV0dGVkJykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBfaGFuZC5vZmZzZXQoKS50b3AgLSB3aW5kb3dILzI7XG4gICAgICAgICAgICAgICAgICAgIGVuZCA9IHdpbmRvd0gvMi41O1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHggPSAoIGVuZCAtIF93aW5kb3cuc2Nyb2xsVG9wKCkgKSAvICggZW5kIC0gIHN0YXJ0ICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHggPiAxICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFBvaW50ID0gMDtcblxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICggeCA8IDAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsUG9pbnQgPSAxO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYoICggeCA8IDEgKSAmJiAoIHggPiAwICkgKXtcblxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxQb2ludCA9IDEgLSB4O1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKCAgX29iai5oYXNDbGFzcygncHV0dGVkLWFsbCcpICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFBvaW50ID0gMTtcblxuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgX2FuaW1hdGlvbkVsZW1zKCBzdGFydCwgZW5kLCBzY3JvbGxQb2ludCApO1xuXG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2hlY2tHZXRJbldpbmRvdyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodFdpbiA9IF93aW5kb3cuaGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcFdpbiA9X3dpbmRvdy5zY3JvbGxUb3AoKSxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0T2JqID0gX2hhbmQuaGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uT2JqID0gX2hhbmQub2Zmc2V0KCkudG9wO1xuXG4gICAgICAgICAgICAgICAgaWYoICggaGVpZ2h0T2JqICsgcG9zaXRpb25PYmogPCBoZWlnaHRXaW4gKyBzY3JvbGxUb3BXaW4gKSAmJiAkKCcuc2l0ZScpLmhlaWdodCgpID4gaGVpZ2h0V2luICogMiAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcygncHV0dGVkJyk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoJ3B1dHRlZCcpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2NoZWNrUHV0SW5XaW5kb3cgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIHZhciBoZWlnaHRXaW4gPSBfd2luZG93LmhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHRTaXRlID0gJCgnLnNpdGUnKS5oZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgIGlmKCBoZWlnaHRTaXRlIDw9IGhlaWdodFdpbiApIHtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCdwdXR0ZWQtYWxsJyk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoJ3B1dHRlZC1hbGwnKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9hbmltYXRpb25FbGVtcyA9IGZ1bmN0aW9uICggc3RhcnRQb2ludCwgZW5kUG9pbnQsIHNjcm9sbFBvaW50ICkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHNlZ21lbnQgPSBlbmRQb2ludCAtIHN0YXJ0UG9pbnQ7XG5cbiAgICAgICAgICAgICAgICBfaGFuZC5lYWNoKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckVsZW0gPSAkKCB0aGlzICksXG4gICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVTdGFydCA9IGN1ckVsZW0uZGF0YSgncm90YXRlLXN0YXJ0JyksXG4gICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVGaW5pc2ggPSBjdXJFbGVtLmRhdGEoJ3JvdGF0ZS1maW5pc2gnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtvZlJvdGF0ZSA9IHJvdGF0ZVN0YXJ0ICsgKCByb3RhdGVGaW5pc2ggLSByb3RhdGVTdGFydCApIC8gc2VnbWVudCAqICggX3dpbmRvdy5zY3JvbGxUb3AoKSAtIHN0YXJ0UG9pbnQgKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIHNjcm9sbFBvaW50ID09IDEgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckVsZW0uY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3JvdGF0ZSggJysgKCAtcm90YXRlRmluaXNoICkgKydkZWcgKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICdyb3RhdGUoICcrICggLXJvdGF0ZUZpbmlzaCApICsnZGVnICknXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vX29iai5yZW1vdmVDbGFzcygncHV0dGVkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggc2Nyb2xsUG9pbnQgPT0gMCApIHtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJFbGVtLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICdyb3RhdGUoICcrICggLXJvdGF0ZVN0YXJ0ICkgKydkZWcgKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICdyb3RhdGUoICcrICggLXJvdGF0ZVN0YXJ0ICkgKydkZWcgKSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy9fb2JqLnJlbW92ZUNsYXNzKCdwdXR0ZWQnKTtcblxuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckVsZW0uY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3JvdGF0ZSggJysgKCAta29mUm90YXRlICkrJ2RlZyApJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3JvdGF0ZSggJysgKCAta29mUm90YXRlICkgKydkZWcgKSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfY2hlY2tHZXRJbldpbmRvdygpO1xuICAgICAgICAgICAgICAgIF9jaGVja1B1dEluV2luZG93KCk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIENvbnRlbnRGdWxsSGVpZ2h0ID0gZnVuY3Rpb24gKCBvYmogKSB7XG5cbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgX2hlYWRlciA9ICQoJy5zaXRlX19oZWFkZXInKTtcblxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRIZWlnaHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZXRIZWlnaHQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIHZhciBoZWFkZXJIZWlndGggPSBfaGVhZGVyLmhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgX29iai5oZWlnaHQoIF93aW5kb3cuaGVpZ2h0KCkgLSBoZWFkZXJIZWlndGggKTtcbiAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnbWluLWhlaWdodCc6IF9vYmouZmluZCgnPmRpdjpmaXJzdCcpLmhlaWdodCgpXG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgX3NldEhlaWdodCgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgUGxhbnNDaG9vc2VIZWlnaHQgPSBmdW5jdGlvbiAoIG9iaiApIHtcblxuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICBfY2FwdGlvbiA9IF9vYmouZmluZCgnLnBsYW5zX19saXN0X2NhcHRpb24nKSxcbiAgICAgICAgICAgIF9jb250ZW50ID0gX29iai5maW5kKCcucGxhbnNfX2xpc3Qtcm93Om5vdCgucGxhbnNfX2xpc3RfY2FwdGlvbiknKSxcbiAgICAgICAgICAgIF9jYXB0aW9uSGVpZ2h0cyA9IFtdLFxuICAgICAgICAgICAgX2NvbnRlbnRIZWlnaHRzID0gW107XG5cbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDwgMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jYXB0aW9uLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZW50LmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NldEhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZXRIZWlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfY2FwdGlvbkhlaWdodHMgPSBbXTtcbiAgICAgICAgICAgICAgICBfY29udGVudEhlaWdodHMgPSBbXTtcblxuICAgICAgICAgICAgICAgIF9jYXB0aW9uLmVhY2goIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSAkKHRoaXMpLmlubmVySGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgX2NhcHRpb25IZWlnaHRzLnB1c2goIGhlaWdodCApO1xuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgdmFyIG1heEhlaWdodENhcHRpb24gPSBNYXRoLm1heC5hcHBseShNYXRoLCBfY2FwdGlvbkhlaWdodHMpO1xuXG5cbiAgICAgICAgICAgICAgICBfY29udGVudC5lYWNoKCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gJCh0aGlzKS5pbm5lckhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIF9jb250ZW50SGVpZ2h0cy5wdXNoKCBoZWlnaHQgKTtcblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIHZhciBtYXhIZWlnaHRDb250ZW50ID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgX2NvbnRlbnRIZWlnaHRzKTtcblxuICAgICAgICAgICAgICAgIF9jYXB0aW9uLmlubmVySGVpZ2h0KCBtYXhIZWlnaHRDYXB0aW9uICk7XG4gICAgICAgICAgICAgICAgX2NvbnRlbnQuaW5uZXJIZWlnaHQoIG1heEhlaWdodENvbnRlbnQgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBNZW51ID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyksXG4gICAgICAgICAgICBfbWVudUJ0biA9IF9vYmouZmluZCgnLnNpdGVfX2hlYWRlcl9fYnRuJyksXG4gICAgICAgICAgICBfbWVudUl0ZW1zID0gX29iai5maW5kKCcuc2l0ZV9faGVhZGVyLW1lbnUnKSxcbiAgICAgICAgICAgIF9jb250ZW50ID0gJCgnLnNpdGVfX2NvbnRlbnQnKSxcbiAgICAgICAgICAgIF9odG1sID0gJCgnaHRtbCcpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfY2xvc2VNZW51ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuXG4gICAgICAgICAgICAgICAgX2h0bWwuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ2F1dG8nXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX21lbnVJdGVtcy5hdHRyKCAnc3R5bGUnLCAnJyApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX21lbnVCdG4ub24oIHtcblxuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX29iai5oYXNDbGFzcyggJ29wZW5lZCcgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZU1lbnUoKTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29wZW5NZW51KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vcGVuTWVudSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ29wZW5lZCcgKTtcblxuICAgICAgICAgICAgICAgIF9odG1sLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cteSc6ICdoaWRkZW4nXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuXG4gICAgICAgICAgICB9O1xuXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIFBvcHVwID0gZnVuY3Rpb24oIG9iaiApe1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfcG9wdXBQYWRkaW5nID0gNDAsXG4gICAgICAgICAgICBfYnRuU2hvdyA9ICAkKCAnLnBvcHVwX19vcGVuJyApLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9idG5DbG9zZSA9IF9vYmouZmluZCggJy5wb3B1cF9fY2xvc2UsIC5wb3B1cF9fY2FuY2VsJyApLFxuICAgICAgICAgICAgX3dyYXAgPSBfb2JqLmZpbmQoICcucG9wdXBfX3dyYXAnICksXG4gICAgICAgICAgICBfY29udGVudHMgPSBfb2JqLmZpbmQoICcucG9wdXBfX2NvbnRlbnQnICksXG4gICAgICAgICAgICBfc2Nyb2xsQ29udGVpbmVyID0gJCggJ2h0bWwnICksXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgICAgICBfdGltZXIgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe30sIDEgKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2NlbnRlcldyYXAgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGlmICggX3dpbmRvdy5oZWlnaHQoKSAtICggX3BvcHVwUGFkZGluZyAqIDIgKSAtIF93cmFwLmhlaWdodCgpID4gMCApIHtcbiAgICAgICAgICAgICAgICAgICAgX3dyYXAuY3NzKCB7IHRvcDogKCAoIF93aW5kb3cuaGVpZ2h0KCkgLSAoIF9wb3B1cFBhZGRpbmcgKiAyICkgKSAtIF93cmFwLmhlaWdodCgpICkgLyAyIH0gKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfd3JhcC5jc3MoIHsgdG9wOiAwIH0gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2dldFNjcm9sbFdpZHRoID0gZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnKSxcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQmFyV2lkdGg7XG5cbiAgICAgICAgICAgICAgICBzY3JvbGxEaXYuY2xhc3NOYW1lID0gJ3BvcHVwX19zY3JvbGxiYXItbWVhc3VyZSc7XG5cbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKCBzY3JvbGxEaXYgKTtcblxuICAgICAgICAgICAgICAgIHNjcm9sbEJhcldpZHRoID0gc2Nyb2xsRGl2Lm9mZnNldFdpZHRoIC0gc2Nyb2xsRGl2LmNsaWVudFdpZHRoO1xuXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjcm9sbEJhcldpZHRoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9oaWRlID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdoaWRkZW4nXG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9zY3JvbGxDb250ZWluZXIuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDBcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAncG9wdXBfb3BlbmVkJyApO1xuICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdwb3B1cF9oaWRlJyApO1xuXG4gICAgICAgICAgICAgICAgX3RpbWVyID0gc2V0VGltZW91dCggZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLmNzcyAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3BvcHVwX2hpZGUnICk7XG4gICAgICAgICAgICAgICAgfSwgMzAwICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX29ialsgMCBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2VudGVyV3JhcCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9idG5TaG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX3Nob3coICQoIHRoaXMgKS5hdHRyKCAnZGF0YS1wb3B1cCcgKSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF93cmFwLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiggZSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfb2JqLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfYnRuQ2xvc2Uub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zaG93ID0gZnVuY3Rpb24oIGNsYXNzTmFtZSApe1xuICAgICAgICAgICAgICAgIF9zZXRQb3B1cENvbnRlbnQoIGNsYXNzTmFtZSApO1xuXG4gICAgICAgICAgICAgICAgX3Njcm9sbENvbnRlaW5lci5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnaGlkZGVuJyxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiBfZ2V0U2Nyb2xsV2lkdGgoKVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAncG9wdXBfb3BlbmVkJyApO1xuICAgICAgICAgICAgICAgIF9jZW50ZXJXcmFwKCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0UG9wdXBDb250ZW50ID0gZnVuY3Rpb24oIGNsYXNzTmFtZSApe1xuICAgICAgICAgICAgICAgIHZhciBjdXJDb250ZW50ID0gX2NvbnRlbnRzLmZpbHRlciggJy5wb3B1cF9fJyArIGNsYXNzTmFtZSApO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRlbnRzLmNzcyggeyBkaXNwbGF5OiAnbm9uZScgfSApO1xuICAgICAgICAgICAgICAgIGN1ckNvbnRlbnQuY3NzKCB7IGRpc3BsYXk6ICdibG9jaycgfSApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG59ICkoKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuKCBmdW5jdGlvbigpIHtcblxuICAgICQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICQuZWFjaCggJCgnLmNob29zZS1kYXRhJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IENob29zZURhdGEoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcub3JkZXInKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgUGFzdGVEYXRhKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLnBsYW5zJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IERhdGVQbGFuKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgfSApO1xuXG4gICAgdmFyIENob29zZURhdGEgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfaXRlbXMgPSBfb2JqLmZpbmQoJy5jaG9vc2UtZGF0YV9faXRlbXMnKSxcbiAgICAgICAgICAgIF9pbnB1dCA9IF9pdGVtcy5maW5kKCdpbnB1dCcpLFxuICAgICAgICAgICAgX3JlZGlyZWN0QnRuID0gX29iai5maW5kKCcuYnRuX25leHQnKSxcbiAgICAgICAgICAgIF9kYXRhUmFkaW8gPSB7fSxcbiAgICAgICAgICAgIF9kYXRhQ2hlY2tib3ggPSB7fSxcbiAgICAgICAgICAgIF9kYXRhSW5wdXQgPSB7fSxcbiAgICAgICAgICAgIF9pZEl0ZW1zID0ge30sXG4gICAgICAgICAgICBfdmFsdWVJbnB1dEl0ZW1zID0ge307XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfaW5wdXQub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggISgkKHRoaXMpLmF0dHIoJ3R5cGUnKSA9PT0gJ3RleHQnKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9nZXREYXRhKCAkKHRoaXMpICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dyaXRlSW5TZXNzaW9uU3RvcmFnZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2lkSXRlbXMnLCBKU09OLnN0cmluZ2lmeShfaWRJdGVtcykpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAga2V5dXA6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggJCh0aGlzKS5hdHRyKCd0eXBlJykgPT09ICd0ZXh0JyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9nZXREYXRhKCAkKHRoaXMpICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dyaXRlSW5TZXNzaW9uU3RvcmFnZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2lkSXRlbXMnLCBKU09OLnN0cmluZ2lmeShfaWRJdGVtcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd2YWx1ZUlucHV0JywgSlNPTi5zdHJpbmdpZnkoX3ZhbHVlSW5wdXRJdGVtcykpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAga2V5ZG93bjogZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoICQodGhpcykuaGFzQ2xhc3MoJ3NpdGVfX2lucHV0X251bScpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQuaW5BcnJheShlLmtleUNvZGUsIFs0NiwgOCwgOSwgMjcsIDEzLCAxMTAsIDE5MF0pICE9PSAtMSB8fFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlLmtleUNvZGUgPT0gNjUgJiYgZS5jdHJsS2V5ID09PSB0cnVlKSB8fFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlLmtleUNvZGUgPT0gNjcgJiYgZS5jdHJsS2V5ID09PSB0cnVlKSB8fFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlLmtleUNvZGUgPT0gODggJiYgZS5jdHJsS2V5ID09PSB0cnVlKSB8fFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlLmtleUNvZGUgPj0gMzUgJiYgZS5rZXlDb2RlIDw9IDM5KSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGUuc2hpZnRLZXkgfHwgKGUua2V5Q29kZSA8IDQ4IHx8IGUua2V5Q29kZSA+IDU3KSkgJiYgKGUua2V5Q29kZSA8IDk2IHx8IGUua2V5Q29kZSA+IDEwNSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3JlZGlyZWN0QnRuLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTcmMgPSBjdXJJdGVtLmRhdGEoJ3NyYycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfd3JpdGVBbGxJZCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGRhdGFTcmM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2dldERhdGEgPSBmdW5jdGlvbiggZWxlbSApIHtcblxuICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gZWxlbTtcblxuICAgICAgICAgICAgICAgIGlmKCBjdXJJdGVtLmF0dHIoJ3R5cGUnKSA9PT0gJ3JhZGlvJyApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5wYXJlbnRzKCcucGxhbnMnKS5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9kYXRhUmFkaW8ucmF0ZVBsYW4gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblR5cGU6IGN1ckl0ZW0uZGF0YSgncmF0ZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjdXJJdGVtLmF0dHIoJ3ZhbHVlJylcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfZGF0YVJhZGlvW2N1ckl0ZW0uYXR0cignbmFtZScpXSA9IGN1ckl0ZW0uYXR0cigndmFsdWUnKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgX2lkSXRlbXNbY3VySXRlbS5hdHRyKCduYW1lJyldID0gY3VySXRlbS5hdHRyKCdpZCcpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBjdXJJdGVtLmF0dHIoJ3R5cGUnKSA9PT0gJ2NoZWNrYm94JyApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIGN1ckl0ZW0uaXMoXCI6Y2hlY2tlZFwiKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2RhdGFDaGVja2JveFtjdXJJdGVtLmF0dHIoJ25hbWUnKV0gPSBjdXJJdGVtLmF0dHIoJ3ZhbHVlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRJdGVtc1tjdXJJdGVtLmF0dHIoJ25hbWUnKV0gPSBjdXJJdGVtLmF0dHIoJ2lkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF9kYXRhQ2hlY2tib3hbY3VySXRlbS5hdHRyKCduYW1lJyldO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF9pZEl0ZW1zW2N1ckl0ZW0uYXR0cignbmFtZScpXTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBjdXJJdGVtLmF0dHIoJ3R5cGUnKSA9PT0gJ3RleHQnICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggY3VySXRlbS52YWwoKSAhPSAnJyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2RhdGFJbnB1dFtjdXJJdGVtLmF0dHIoJ25hbWUnKV0gPSBjdXJJdGVtLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkSXRlbXNbY3VySXRlbS5hdHRyKCduYW1lJyldID0gY3VySXRlbS5hdHRyKCdpZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3ZhbHVlSW5wdXRJdGVtc1tjdXJJdGVtLmF0dHIoJ2lkJyldID0gY3VySXRlbS52YWwoKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgX2RhdGFJbnB1dFtjdXJJdGVtLmF0dHIoJ25hbWUnKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgX2lkSXRlbXNbY3VySXRlbS5hdHRyKCduYW1lJyldO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF92YWx1ZUlucHV0SXRlbXNbY3VySXRlbS5hdHRyKCdpZCcpXTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldENoZWNrZWROZWVkSW5wdXQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIGlmKCBsb2NhbFN0b3JhZ2UuaWRJdGVtcyAhPSB1bmRlZmluZWQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX2lucHV0LmVhY2goIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBjdXJJdGVtLmF0dHIoJ3R5cGUnKSA9PT0gJ2NoZWNrYm94JyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0ucHJvcCgnY2hlY2tlZCcsIGZhbHNlICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiggY3VySXRlbS5hdHRyKCd0eXBlJykgPT09ICd0ZXh0JyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0udmFsKCcnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgYWxsSWQgPSBKU09OLnBhcnNlKCBsb2NhbFN0b3JhZ2UuaWRJdGVtcyksXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlSW5wdXQgPSBKU09OLnBhcnNlKCBsb2NhbFN0b3JhZ2UudmFsdWVJbnB1dCApO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciggdmFyIGtleSBpbiBhbGxJZCAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gYWxsSWRbIGtleSBdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfaW5wdXQuZWFjaCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLmZpbHRlcignIycrIGl0ZW0gKycnKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaXRlbSlcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBjdXJJdGVtLmF0dHIoJ3R5cGUnKSA9PT0gJ3RleHQnICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciggdmFyIGtleTIgaW4gdmFsdWVJbnB1dCAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtMSA9IHZhbHVlSW5wdXRbIGtleTIgXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5maWx0ZXIoJyMnKyBpdGVtICsnJykudmFsKCBpdGVtMSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuXG5cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfd3JpdGVBbGxJZCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX2lucHV0LmVhY2goIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5pcyhcIjpjaGVja2VkXCIpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5hdHRyKCd0eXBlJykgPT09ICdyYWRpbycgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaWRJdGVtc1tjdXJJdGVtLmF0dHIoJ25hbWUnKV0gPSBjdXJJdGVtLmF0dHIoJ2lkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiggY3VySXRlbS5hdHRyKCd0eXBlJykgPT09ICdjaGVja2JveCcgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5pcyhcIjpjaGVja2VkXCIpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pZEl0ZW1zW2N1ckl0ZW0uYXR0cignbmFtZScpXSA9IGN1ckl0ZW0uYXR0cignaWQnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF9pZEl0ZW1zW2N1ckl0ZW0uYXR0cignbmFtZScpXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBjdXJJdGVtLmF0dHIoJ3R5cGUnKSA9PT0gJ3RleHQnICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggY3VySXRlbS52YWwoKSAhPSAnJyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pZEl0ZW1zW2N1ckl0ZW0uYXR0cignbmFtZScpXSA9IGN1ckl0ZW0uYXR0cignaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdmFsdWVJbnB1dEl0ZW1zW2N1ckl0ZW0uYXR0cignaWQnKV0gPSBjdXJJdGVtLnZhbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF9pZEl0ZW1zW2N1ckl0ZW0uYXR0cignbmFtZScpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgX3ZhbHVlSW5wdXRJdGVtc1tjdXJJdGVtLmF0dHIoJ2lkJyldO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd2YWx1ZUlucHV0JywgSlNPTi5zdHJpbmdpZnkoX3ZhbHVlSW5wdXRJdGVtcykpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdpZEl0ZW1zJywgSlNPTi5zdHJpbmdpZnkoX2lkSXRlbXMpKTtcblxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3dyaXRlRGF0YUluT2JqQWZ0ZXJMb2FkID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfaW5wdXQuZWFjaCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBjdXJJdGVtLmlzKFwiOmNoZWNrZWRcIikgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBjdXJJdGVtLmF0dHIoJ3R5cGUnKSA9PT0gJ3JhZGlvJyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBjdXJJdGVtLnBhcmVudHMoJy5wbGFucycpLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGF0YVJhZGlvLnJhdGVQbGFuID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblR5cGU6IGN1ckl0ZW0uZGF0YSgncmF0ZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGN1ckl0ZW0uYXR0cigndmFsdWUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGF0YVJhZGlvW2N1ckl0ZW0uYXR0cignbmFtZScpXSA9IGN1ckl0ZW0uYXR0cigndmFsdWUnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBjdXJJdGVtLmF0dHIoJ3R5cGUnKSA9PT0gJ2NoZWNrYm94JyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBjdXJJdGVtLmlzKFwiOmNoZWNrZWRcIikgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RhdGFDaGVja2JveFtjdXJJdGVtLmF0dHIoJ25hbWUnKV0gPSBjdXJJdGVtLmF0dHIoJ3ZhbHVlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfZGF0YUNoZWNrYm94W2N1ckl0ZW0uYXR0cignbmFtZScpXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGN1ckl0ZW0uYXR0cigndHlwZScpID09PSAndGV4dCcgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggY3VySXRlbS52YWwoKSAhPSAnJyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kYXRhSW5wdXRbY3VySXRlbS5hdHRyKCduYW1lJyldID0gY3VySXRlbS52YWwoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfZGF0YUlucHV0W2N1ckl0ZW0uYXR0cignbmFtZScpXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfd3JpdGVJblNlc3Npb25TdG9yYWdlKCk7XG4gICAgICAgICAgICAgICAgX3dyaXRlQWxsSWQoKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF93cml0ZUluU2Vzc2lvblN0b3JhZ2UgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyYWRpb0Nob29zZScsIEpTT04uc3RyaW5naWZ5KF9kYXRhUmFkaW8pKTtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2hlY2tib3hDaG9vc2UnLCBKU09OLnN0cmluZ2lmeShfZGF0YUNoZWNrYm94KSk7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2lucHV0VmFsdWUnLCBKU09OLnN0cmluZ2lmeShfZGF0YUlucHV0KSk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9zZXRDaGVja2VkTmVlZElucHV0KCk7XG4gICAgICAgICAgICAgICAgX3dyaXRlRGF0YUluT2JqQWZ0ZXJMb2FkKCk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIFBhc3RlRGF0YSA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9jaG9zZW5EYXRhID0gX29iai5maW5kKCcub3JkZXJfX2Nob3Nlbi1kYXRhIHNwYW4nKSxcbiAgICAgICAgICAgIF9kYXRhUmFkaW8sXG4gICAgICAgICAgICBfZGF0YUNoZWNrYm94LFxuICAgICAgICAgICAgX2RhdGFJbnB1dCxcbiAgICAgICAgICAgIF9pbnB1dCA9IF9vYmouZmluZCgnaW5wdXQjaW5wdXRfMV81JyksXG4gICAgICAgICAgICBfYXJyID0gW10sXG4gICAgICAgICAgICBfc3RyID0gJyc7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cblxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3dyaXRlSW5CbG9jayA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGRpdlJhdGUgPSAnJyxcbiAgICAgICAgICAgICAgICAgICAgbnVtID0gJycsXG4gICAgICAgICAgICAgICAgICAgIGFyciA9IFtdO1xuXG4gICAgICAgICAgICAgICAgZm9yKCB2YXIga2V5IGluIF9kYXRhUmFkaW8gICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gX2RhdGFSYWRpb1sga2V5IF0gKyAnLCAnO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYoIF9kYXRhUmFkaW8ucmF0ZVBsYW4gIT0gdW5kZWZpbmVkICkge1xuXG4gICAgICAgICAgICAgICAgICAgICQuZWFjaCggX2RhdGFSYWRpby5yYXRlUGxhbiwgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IF9kYXRhUmFkaW8ucmF0ZVBsYW4udmFsdWUuc3BsaXQoJyAnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9kYXRhUmFkaW8ucmF0ZVBsYW4uc2Vzc2lvblR5cGUgPT09ICdzZXNzaW9uIHByaWNpbmcnICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGl2UmF0ZSA9ICc8c3Bhbj4nKyBfZGF0YVJhZGlvLnJhdGVQbGFuLnNlc3Npb25UeXBlICsnICgnKyB2YWx1ZVswXSArJyBzZXNzaW9ucyk8L3NwYW4+JyArICcsICc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiggX2RhdGFSYWRpby5yYXRlUGxhbi5zZXNzaW9uVHlwZSA9PT0gJ21pbnV0ZSBwcmljaW5nJyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtaW51dGVzID0gdmFsdWVbMF0ucmVwbGFjZSgvW14wLTldKy9nLCcnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBtaW51dGVzID4gMTAwMDAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbnV0ZXMgPSBtaW51dGVzLzEwMDAwMDAgKyAnTSdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdlJhdGUgPSAnPHNwYW4+JysgX2RhdGFSYWRpby5yYXRlUGxhbi5zZXNzaW9uVHlwZSArJyAoJysgbWludXRlcyArJyBtaW51dGVzICgnICsgdmFsdWVbMl0gKyAnL21pbnV0ZSk8L3NwYW4+JyArICcsICc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKCBkaXZSYXRlID09ICcnICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGRpdlJhdGUgPSAnJztcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciggdmFyIGtleTEgaW4gX2RhdGFDaGVja2JveCAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2goa2V5MSlcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKCBhcnIubGVuZ3RoID4gMCApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiggYXJyLmxlbmd0aCA9PSAxICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBudW0gPSAnKyAnICsgYXJyLmxlbmd0aCArICcgc2VydmljZSc7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtID0gJysgJyArIGFyci5sZW5ndGggKyAnIHNlcnZpY2UnO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBpdGVtMiA9ICcnO1xuXG4gICAgICAgICAgICAgICAgZm9yKCB2YXIga2V5MiBpbiBfZGF0YUlucHV0ICApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoX2RhdGFJbnB1dC5oYXNPd25Qcm9wZXJ0eShrZXkyKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtMiA9IF9kYXRhSW5wdXRbIGtleTIgXSAgKyAnICc7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTIgPSAnJztcblxuICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKCBkaXZSYXRlID09ICcnICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9jaG9zZW5EYXRhLmh0bWwoJ1lvdSBjaG9zZSAnICsgaXRlbSArICdwb3J0czogJyArIGl0ZW0yICsgbnVtICsgJy4nKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX2Nob3NlbkRhdGEuaHRtbCgnWW91IGNob3NlICcgKyBkaXZSYXRlICsgaXRlbSArIG51bSArICcpLicpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3dyaXRlSW5IaWRkZW4gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9zdHIgPSAnJztcblxuICAgICAgICAgICAgICAgIGZvciggdmFyIGtleSBpbiBfZGF0YVJhZGlvICApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IF9kYXRhUmFkaW9bIGtleSBdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCB0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9zdHIgKz0gJycrIGl0ZW0gKyc7ICdcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIHR5cGVvZiBpdGVtID09PSAnb2JqZWN0JyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKCB2YXIga2V5MSBpbiBpdGVtICApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtMSA9IGl0ZW1bIGtleTEgXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdHIgKz0gJycrIGl0ZW0xICsnOyAnXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IoIHZhciBrZXkzIGluIF9kYXRhQ2hlY2tib3ggICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtMyA9IF9kYXRhQ2hlY2tib3hbIGtleTMgXTtcblxuICAgICAgICAgICAgICAgICAgICBfc3RyICs9ICcnKyBpdGVtMyArJzsgJ1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW00ID0gJyc7XG5cbiAgICAgICAgICAgICAgICBmb3IoIHZhciBrZXk0IGluIF9kYXRhSW5wdXQgICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChfZGF0YUlucHV0Lmhhc093blByb3BlcnR5KGtleTQpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW00ID0gX2RhdGFJbnB1dFsga2V5NCBdO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW00ID0gJyc7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIF9zdHIgKz0gJycrIGl0ZW00ICsnOyAnXG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfaW5wdXQudmFsKCBfc3RyICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfZ2V0U2Vzc2lvbkRhdGEgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIGlmKCBsb2NhbFN0b3JhZ2UucmFkaW9DaG9vc2UgIT0gdW5kZWZpbmVkICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9kYXRhUmFkaW8gPSBKU09OLnBhcnNlKCBsb2NhbFN0b3JhZ2UucmFkaW9DaG9vc2UgKTtcbiAgICAgICAgICAgICAgICAgICAgX2RhdGFDaGVja2JveCA9IEpTT04ucGFyc2UoIGxvY2FsU3RvcmFnZS5jaGVja2JveENob29zZSApO1xuICAgICAgICAgICAgICAgICAgICBfZGF0YUlucHV0ID0gSlNPTi5wYXJzZSggbG9jYWxTdG9yYWdlLmlucHV0VmFsdWUgKTtcblxuICAgICAgICAgICAgICAgICAgICBfd3JpdGVJbkhpZGRlbigpO1xuICAgICAgICAgICAgICAgICAgICBfd3JpdGVJbkJsb2NrKCk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJCgnYm9keScpLmRhdGEoJ3NyYycpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfZ2V0U2Vzc2lvbkRhdGEoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIERhdGVQbGFuID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2l0ZW1zID0gX29iai5maW5kKCcucGxhbnNfX2l0ZW0nKSxcbiAgICAgICAgICAgIF9yYWRpbyA9IF9vYmouZmluZCgnaW5wdXRbdHlwZT1cInJhZGlvXCJdJyksXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3NldEFjdGl2ZUNsYXNzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9yYWRpby5vbigge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gY3VySXRlbS5wYXJlbnRzKCcucGxhbnNfX2l0ZW0nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoICEoIHBhcmVudC5oYXNDbGFzcygnYWN0aXZlJykgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVtcy5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LmFkZENsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfaXRlbXMub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RSYWRpbyA9IGN1ckl0ZW0uZmluZCgnaW5wdXRbdHlwZT1cInJhZGlvXCJdOmZpcnN0Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhKCBjdXJJdGVtLmhhc0NsYXNzKCdhY3RpdmUnKSApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZW1zLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdFJhZGlvLnRyaWdnZXIoJ2NsaWNrJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldEFjdGl2ZUNsYXNzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgYWN0aXZlUmFkaW8gPSBfcmFkaW8uZmlsdGVyKCc6Y2hlY2tlZCcpLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBhY3RpdmVSYWRpby5wYXJlbnRzKCcucGxhbnNfX2l0ZW0nKTtcblxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG59ICkoKTtcbiIsIiggZnVuY3Rpb24oKSB7XG5cbiAgICAkKCBmdW5jdGlvbigpIHtcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgICAgICQuZWFjaCggJCgnLm9yZGVyX19wbGFjZScpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBGb3JtVmFsaWRhdG9yKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG5cbiAgICB9ICk7XG5cbiAgICB2YXIgRm9ybVZhbGlkYXRvciA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9mb3JtID0gIF9vYmouZmluZCgnZm9ybScpLFxuICAgICAgICAgICAgX2ZpZWxkc1JlcXVpcmVkID0gX29iai5maW5kKCdpbnB1dFtkYXRhLXJlcXVpcmVkPVwicmVxdWlyZWRcIl0sIHRleHRhcmVhW2RhdGEtcmVxdWlyZWQ9XCJyZXF1aXJlZFwiXSwgaW5wdXRbYXJpYS1yZXF1aXJlZD1cInRydWVcIl0sIHRleHRhcmVhW2FyaWEtcmVxdWlyZWQ9XCJ0cnVlXCJdJyksXG4gICAgICAgICAgICBfdmFsaWRGaWVsZCA9IF9vYmouZmluZCgnaW5wdXRbZGF0YS12YWxpZGF0aW9uPVwidmFsaWRcIl0nKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIF9jb25zdHJ1Y3RvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9hZGROb3RUb3VjaGVkQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfZmllbGRzUmVxdWlyZWQuZWFjaCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoICQodGhpcykudmFsKCkgPT09ICcnICl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoICdub3QtdG91Y2hlZCcgKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX3ZhbGlkRmllbGQuZWFjaCggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIF92YWxpZGF0ZUZpZWxkKCAkKCB0aGlzICkgKTtcblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9mb3JtLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pdDogZnVuY3Rpb24oICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfYWRkTm90VG91Y2hlZENsYXNzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfZmllbGRzUmVxdWlyZWQuaGFzQ2xhc3MoJ25vdC10b3VjaGVkJykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJy5ub3QtdG91Y2hlZDpmaXJzdCcpLmZvY3VzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBpZiggX3ZhbGlkRmllbGQuaGFzQ2xhc3MoJ25vdC12YWxpZCcpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5maW5kKCcubm90LXZhbGlkOmZpcnN0JykuZm9jdXMoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX2ZpZWxkc1JlcXVpcmVkLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGtleXByZXNzOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyggJ25vdC10b3VjaGVkJyApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfdmFsaWRGaWVsZC5vbigge1xuICAgICAgICAgICAgICAgICAgICBrZXl1cDogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF92YWxpZGF0ZUZpZWxkKCAkKCB0aGlzICkgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9tYWtlTm90VmFsaWQgPSBmdW5jdGlvbiAoIGZpZWxkICkge1xuICAgICAgICAgICAgICAgIGZpZWxkLmFkZENsYXNzKCAnbm90LXZhbGlkJyApO1xuICAgICAgICAgICAgICAgIGZpZWxkLnJlbW92ZUNsYXNzKCAndmFsaWQnICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX21ha2VWYWxpZCA9IGZ1bmN0aW9uICggZmllbGQgKSB7XG4gICAgICAgICAgICAgICAgZmllbGQucmVtb3ZlQ2xhc3MoICdub3QtdmFsaWQnICk7XG4gICAgICAgICAgICAgICAgZmllbGQuYWRkQ2xhc3MoICd2YWxpZCcgKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfdmFsaWRhdGVFbWFpbCA9IGZ1bmN0aW9uICggZW1haWwgKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlID0gL14oKFtePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlLnRlc3QoZW1haWwpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF92YWxpZGF0ZVBob25lID0gZnVuY3Rpb24gKCBwaG9uZSApIHtcbiAgICAgICAgICAgICAgICB2YXIgcmUgPSAvXig/OlxcKFxcZHszfVxcKXxcXGR7M30pWy0gXT9cXGR7M31bLSBdP1xcZHs0fSQvO1xuICAgICAgICAgICAgICAgIHJldHVybiByZS50ZXN0KHBob25lKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfdmFsaWRhdGVGaWVsZCA9IGZ1bmN0aW9uICggZmllbGQsIGUgKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IGZpZWxkLmF0dHIoICd0eXBlJyksXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IGZpZWxkLmF0dHIoICdjbGFzcycpO1xuXG4gICAgICAgICAgICAgICAgLy9pZiggdHlwZSA9PT0gJ2VtYWlsJyB8fCB0eXBlID09PSAndGV4dCcgKXtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICAgIGlmKCBmaWVsZC52YWwoKSA9PT0gJycgKXtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgX21ha2VOb3RWYWxpZCggZmllbGQgKTtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIC8vICAgIH1cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vfVxuXG4gICAgICAgICAgICAgICAgaWYoIHR5cGUgPT09ICdlbWFpbCcgKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoICFfdmFsaWRhdGVFbWFpbCggZmllbGQudmFsKCkgKSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgX21ha2VOb3RWYWxpZCggZmllbGQgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vaWYoIGNsYXNzTmFtZS5pbmRleE9mKCdzaXRlX19pbnB1dF9waG9uZScpICsgMSApe1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gICAgaWYoIGZpZWxkLnZhbCgpICE9ICcnICkge1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gICAgICAgIGlmKCAhX3ZhbGlkYXRlUGhvbmUoIGZpZWxkLnZhbCgpICkgKXtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgIF9tYWtlTm90VmFsaWQoIGZpZWxkICk7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICAgIH1cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vfVxuXG4gICAgICAgICAgICAgICAgX21ha2VWYWxpZCggZmllbGQgKTtcblxuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuICAgICAgICBfc2VsZi5jaGVja1ZhbGlkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHZhbGlkID0gdHJ1ZTtcblxuICAgICAgICAgICAgX2ZpZWxkcy5lYWNoKCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJCggdGhpcyApLnJlbW92ZUNsYXNzKCAnbm90LXRvdWNoZWQnICk7XG4gICAgICAgICAgICAgICAgaWYoICQoIHRoaXMgKS5oYXNDbGFzcyggJ25vdC12YWxpZCcgKSApe1xuICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICByZXR1cm4gdmFsaWQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgX2NvbnN0cnVjdG9yKCk7XG4gICAgfTtcblxufSApKCk7XG5cblxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
